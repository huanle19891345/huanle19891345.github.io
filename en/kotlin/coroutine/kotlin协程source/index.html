<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.80.0" />
    <meta name="description" content="Documentation for Hugo Learn Theme">
<meta name="author" content="Mathieu Cornic">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>kotlin协程Source :: 郑欢的学习总结</title>

    
    <link href="/css/nucleus.css?1623151670" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1623151670" rel="stylesheet">
    <link href="/css/hybrid.css?1623151670" rel="stylesheet">
    <link href="/css/featherlight.min.css?1623151670" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1623151670" rel="stylesheet">
    <link href="/css/auto-complete.css?1623151670" rel="stylesheet">
    <link href="/css/atom-one-dark.css?1623151670" rel="stylesheet">
    <link href="/css/theme.css?1623151670" rel="stylesheet">
    <link href="/css/hugo-theme.css?1623151670" rel="stylesheet">
    
    <link href="/css/theme-mine.css?1623151670" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1623151670"></script>

    <script src="/js/auto_toc_scroll.js?1623151670"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    

  </head>
  <body class="" data-url="/en/kotlin/coroutine/kotlin%E5%8D%8F%E7%A8%8Bsource/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href='/en'>
    <img src="/avatar.png" width="60px" />
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1623151670"></script>
<script type="text/javascript" src="/js/auto-complete.js?1623151670"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/huanle19891345.github.io\/\/en";
    
</script>
<script type="text/javascript" src="/js/search.js?1623151670"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/en/android/" title="android" class="dd-item
        
        
        
        ">
      <a href="/en/android/">
          android
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/aop/" title="aop" class="dd-item
        
        
        
        ">
      <a href="/en/android/aop/">
          aop
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/aop/asm%E8%AE%BF%E5%AE%A2%E8%80%85%E6%A8%A1%E5%BC%8F/" title="ASM访客者模式" class="dd-item ">
        <a href="/en/android/aop/asm%E8%AE%BF%E5%AE%A2%E8%80%85%E6%A8%A1%E5%BC%8F/">
        ASM访客者模式
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/aop/jdk%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/" title="JDK动态代理" class="dd-item ">
        <a href="/en/android/aop/jdk%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/">
        JDK动态代理
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/aop/%E7%BC%96%E8%AF%91%E6%8F%92%E6%A1%A9%E5%92%8C%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/" title="编译插桩和动态代理" class="dd-item ">
        <a href="/en/android/aop/%E7%BC%96%E8%AF%91%E6%8F%92%E6%A1%A9%E5%92%8C%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/">
        编译插桩和动态代理
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/art/" title="art" class="dd-item
        
        
        
        ">
      <a href="/en/android/art/">
          art
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/art/1%E7%B1%BB%E7%BC%96%E8%AF%91/" title="1类编译" class="dd-item
        
        
        
        ">
      <a href="/en/android/art/1%E7%B1%BB%E7%BC%96%E8%AF%91/">
          1类编译
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/1%E7%B1%BB%E7%BC%96%E8%AF%91/dex2oat/" title="dex2oat" class="dd-item ">
        <a href="/en/android/art/1%E7%B1%BB%E7%BC%96%E8%AF%91/dex2oat/">
        dex2oat
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/1%E7%B1%BB%E7%BC%96%E8%AF%91/dex2oat%E4%BB%8B%E7%BB%8D/" title="dex2oat介绍" class="dd-item ">
        <a href="/en/android/art/1%E7%B1%BB%E7%BC%96%E8%AF%91/dex2oat%E4%BB%8B%E7%BB%8D/">
        dex2oat介绍
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/art/2%E7%B1%BB%E5%8A%A0%E8%BD%BD/" title="2类加载" class="dd-item
        
        
        
        ">
      <a href="/en/android/art/2%E7%B1%BB%E5%8A%A0%E8%BD%BD/">
          2类加载
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/2%E7%B1%BB%E5%8A%A0%E8%BD%BD/android_n%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91%E4%B8%8E%E5%AF%B9%E7%83%AD%E8%A1%A5%E4%B8%81%E5%BD%B1%E5%93%8D%E8%A7%A3%E6%9E%90/" title="Android_N混合编译与对热补丁影响解析" class="dd-item ">
        <a href="/en/android/art/2%E7%B1%BB%E5%8A%A0%E8%BD%BD/android_n%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91%E4%B8%8E%E5%AF%B9%E7%83%AD%E8%A1%A5%E4%B8%81%E5%BD%B1%E5%93%8D%E8%A7%A3%E6%9E%90/">
        Android_N混合编译与对热补丁影响解析
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/2%E7%B1%BB%E5%8A%A0%E8%BD%BD/%E7%B1%BB%E5%8A%A0%E8%BD%BD/" title="类加载" class="dd-item ">
        <a href="/en/android/art/2%E7%B1%BB%E5%8A%A0%E8%BD%BD/%E7%B1%BB%E5%8A%A0%E8%BD%BD/">
        类加载
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/2%E7%B1%BB%E5%8A%A0%E8%BD%BD/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%B1%82/" title="类加载虚拟机层" class="dd-item ">
        <a href="/en/android/art/2%E7%B1%BB%E5%8A%A0%E8%BD%BD/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%B1%82/">
        类加载虚拟机层
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/art/alloc_gc/" title="alloc_gc" class="dd-item
        
        
        
        ">
      <a href="/en/android/art/alloc_gc/">
          alloc_gc
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/alloc_gc/1space/" title="1Space" class="dd-item ">
        <a href="/en/android/art/alloc_gc/1space/">
        1Space
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/alloc_gc/2alloc/" title="2Alloc" class="dd-item ">
        <a href="/en/android/art/alloc_gc/2alloc/">
        2Alloc
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/alloc_gc/allocrelated/" title="AllocRelated" class="dd-item ">
        <a href="/en/android/art/alloc_gc/allocrelated/">
        AllocRelated
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/alloc_gc/gc/" title="GC" class="dd-item ">
        <a href="/en/android/art/alloc_gc/gc/">
        GC
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/alloc_gc/gc1_ms_cms/" title="GC1_MS_CMS" class="dd-item ">
        <a href="/en/android/art/alloc_gc/gc1_ms_cms/">
        GC1_MS_CMS
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/alloc_gc/gc2_concurrentcopying/" title="GC2_ConcurrentCopying" class="dd-item ">
        <a href="/en/android/art/alloc_gc/gc2_concurrentcopying/">
        GC2_ConcurrentCopying
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/alloc_gc/gc3_markcompact/" title="GC3_MarkCompact" class="dd-item ">
        <a href="/en/android/art/alloc_gc/gc3_markcompact/">
        GC3_MarkCompact
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/alloc_gc/gc4_semi_space/" title="GC4_Semi_Space" class="dd-item ">
        <a href="/en/android/art/alloc_gc/gc4_semi_space/">
        GC4_Semi_Space
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/alloc_gc/runtime_visitroots/" title="Runtime_VisitRoots" class="dd-item ">
        <a href="/en/android/art/alloc_gc/runtime_visitroots/">
        Runtime_VisitRoots
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/art_lock/" title="ART_Lock" class="dd-item ">
        <a href="/en/android/art/art_lock/">
        ART_Lock
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/art/jni/" title="jni" class="dd-item
        
        
        
        ">
      <a href="/en/android/art/jni/">
          jni
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/jni/_%E8%A7%A3%E9%87%8A%E6%89%A7%E8%A1%8C7_0/" title="_解释执行7_0" class="dd-item ">
        <a href="/en/android/art/jni/_%E8%A7%A3%E9%87%8A%E6%89%A7%E8%A1%8C7_0/">
        _解释执行7_0
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/jni/java_jni%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%E5%8E%9F%E7%90%86/" title="java_jni方法调用原理" class="dd-item ">
        <a href="/en/android/art/jni/java_jni%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%E5%8E%9F%E7%90%86/">
        java_jni方法调用原理
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/jni/jni%E6%95%B0%E6%8D%AE%E8%BD%AC%E6%8D%A2/" title="Jni数据转换" class="dd-item ">
        <a href="/en/android/art/jni/jni%E6%95%B0%E6%8D%AE%E8%BD%AC%E6%8D%A2/">
        Jni数据转换
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/jni/systemloadlibrary/" title="SystemLoadLibrary" class="dd-item ">
        <a href="/en/android/art/jni/systemloadlibrary/">
        SystemLoadLibrary
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/jni/%E5%BC%82%E5%B8%B8/" title="异常" class="dd-item ">
        <a href="/en/android/art/jni/%E5%BC%82%E5%B8%B8/">
        异常
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/art/%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/" title="启动流程" class="dd-item
        
        
        
        ">
      <a href="/en/android/art/%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/">
          启动流程
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/art%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/" title="ART启动流程" class="dd-item ">
        <a href="/en/android/art/%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/art%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/">
        ART启动流程
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="基础数据结构" class="dd-item ">
        <a href="/en/android/art/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
        基础数据结构
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/art/%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91_%E8%BF%90%E8%A1%8C/" title="混合编译_运行" class="dd-item
        
        
        
        ">
      <a href="/en/android/art/%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91_%E8%BF%90%E8%A1%8C/">
          混合编译_运行
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91_%E8%BF%90%E8%A1%8C/jvm_jit/" title="JVM_JIT" class="dd-item ">
        <a href="/en/android/art/%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91_%E8%BF%90%E8%A1%8C/jvm_jit/">
        JVM_JIT
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91_%E8%BF%90%E8%A1%8C/%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91_%E8%BF%90%E8%A1%8C/" title="混合编译_运行" class="dd-item ">
        <a href="/en/android/art/%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91_%E8%BF%90%E8%A1%8C/%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91_%E8%BF%90%E8%A1%8C/">
        混合编译_运行
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/gradlejenkins/" title="gradlejenkins" class="dd-item
        
        
        
        ">
      <a href="/en/android/gradlejenkins/">
          gradlejenkins
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/gradlejenkins/androidplugin/" title="AndroidPlugin" class="dd-item ">
        <a href="/en/android/gradlejenkins/androidplugin/">
        AndroidPlugin
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/gradlejenkins/android%E6%89%93%E5%8C%85/" title="android打包" class="dd-item
        
        
        
        ">
      <a href="/en/android/gradlejenkins/android%E6%89%93%E5%8C%85/">
          android打包
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/gradlejenkins/android%E6%89%93%E5%8C%85/android%E6%89%93%E5%8C%85/" title="Android打包" class="dd-item ">
        <a href="/en/android/gradlejenkins/android%E6%89%93%E5%8C%85/android%E6%89%93%E5%8C%85/">
        Android打包
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/gradlejenkins/gradledebug/" title="GradleDebug" class="dd-item ">
        <a href="/en/android/gradlejenkins/gradledebug/">
        GradleDebug
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/gradlejenkins/gradleplugin/" title="GradlePlugin" class="dd-item ">
        <a href="/en/android/gradlejenkins/gradleplugin/">
        GradlePlugin
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/gradlejenkins/gradle%E6%89%93%E5%8C%85%E8%BF%87%E7%A8%8B/" title="Gradle打包过程" class="dd-item ">
        <a href="/en/android/gradlejenkins/gradle%E6%89%93%E5%8C%85%E8%BF%87%E7%A8%8B/">
        Gradle打包过程
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/gradlejenkins/transform/" title="Transform" class="dd-item ">
        <a href="/en/android/gradlejenkins/transform/">
        Transform
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/jetpack/" title="jetpack" class="dd-item
        
        
        
        ">
      <a href="/en/android/jetpack/">
          jetpack
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/jetpack/arch/" title="arch" class="dd-item
        
        
        
        ">
      <a href="/en/android/jetpack/arch/">
          arch
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/jetpack/arch/1lifecycle/" title="1lifecycle" class="dd-item
        
        
        
        ">
      <a href="/en/android/jetpack/arch/1lifecycle/">
          1lifecycle
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/1lifecycle/lifecycle/" title="Lifecycle" class="dd-item ">
        <a href="/en/android/jetpack/arch/1lifecycle/lifecycle/">
        Lifecycle
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/1lifecycle/lifecyclecoroutine/" title="LifecycleCoroutine" class="dd-item ">
        <a href="/en/android/jetpack/arch/1lifecycle/lifecyclecoroutine/">
        LifecycleCoroutine
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/jetpack/arch/2livedata/" title="2livedata" class="dd-item
        
        
        
        ">
      <a href="/en/android/jetpack/arch/2livedata/">
          2livedata
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/2livedata/1mediatorlivedata/" title="1MediatorLiveData" class="dd-item ">
        <a href="/en/android/jetpack/arch/2livedata/1mediatorlivedata/">
        1MediatorLiveData
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/2livedata/livedata/" title="LiveData" class="dd-item ">
        <a href="/en/android/jetpack/arch/2livedata/livedata/">
        LiveData
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/2livedata/livedatacoroutine/" title="LiveDataCoroutine" class="dd-item ">
        <a href="/en/android/jetpack/arch/2livedata/livedatacoroutine/">
        LiveDataCoroutine
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/2livedata/transformations/" title="Transformations" class="dd-item ">
        <a href="/en/android/jetpack/arch/2livedata/transformations/">
        Transformations
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/jetpack/arch/3viewmodel/" title="3viewmodel" class="dd-item
        
        
        
        ">
      <a href="/en/android/jetpack/arch/3viewmodel/">
          3viewmodel
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/3viewmodel/saveandrestoreinstancestate/" title="SaveAndRestoreInstanceState" class="dd-item ">
        <a href="/en/android/jetpack/arch/3viewmodel/saveandrestoreinstancestate/">
        SaveAndRestoreInstanceState
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/3viewmodel/savedstatehandle/" title="SavedStateHandle" class="dd-item ">
        <a href="/en/android/jetpack/arch/3viewmodel/savedstatehandle/">
        SavedStateHandle
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/3viewmodel/savingstates/" title="SavingStates" class="dd-item ">
        <a href="/en/android/jetpack/arch/3viewmodel/savingstates/">
        SavingStates
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/3viewmodel/viewmodel/" title="ViewModel" class="dd-item ">
        <a href="/en/android/jetpack/arch/3viewmodel/viewmodel/">
        ViewModel
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/3viewmodel/viewmodelscope_delegate/" title="ViewModelScope_Delegate" class="dd-item ">
        <a href="/en/android/jetpack/arch/3viewmodel/viewmodelscope_delegate/">
        ViewModelScope_Delegate
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/coroutines/" title="Coroutines" class="dd-item ">
        <a href="/en/android/jetpack/arch/coroutines/">
        Coroutines
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/jetpack/arch/databinding/" title="databinding" class="dd-item
        
        
        
        ">
      <a href="/en/android/jetpack/arch/databinding/">
          databinding
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/databinding/databinding/" title="Databinding" class="dd-item ">
        <a href="/en/android/jetpack/arch/databinding/databinding/">
        Databinding
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/databinding/twowaydatabinding/" title="TwoWayDataBinding" class="dd-item ">
        <a href="/en/android/jetpack/arch/databinding/twowaydatabinding/">
        TwoWayDataBinding
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/jetpack/arch/di/" title="di" class="dd-item
        
        
        
        ">
      <a href="/en/android/jetpack/arch/di/">
          di
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/di/di/" title="DI" class="dd-item ">
        <a href="/en/android/jetpack/arch/di/di/">
        DI
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/di/hiltsource/" title="HiltSource" class="dd-item ">
        <a href="/en/android/jetpack/arch/di/hiltsource/">
        HiltSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/jetpack/arch/%E6%9E%B6%E6%9E%84%E5%AE%9E%E7%8E%B0/" title="架构实现" class="dd-item
        
        
        
        ">
      <a href="/en/android/jetpack/arch/%E6%9E%B6%E6%9E%84%E5%AE%9E%E7%8E%B0/">
          架构实现
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/%E6%9E%B6%E6%9E%84%E5%AE%9E%E7%8E%B0/kaptgenerateviewmodel/" title="KaptGenerateViewModel" class="dd-item ">
        <a href="/en/android/jetpack/arch/%E6%9E%B6%E6%9E%84%E5%AE%9E%E7%8E%B0/kaptgenerateviewmodel/">
        KaptGenerateViewModel
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/%E6%9E%B6%E6%9E%84%E5%AE%9E%E7%8E%B0/%E6%9E%B6%E6%9E%84%E6%80%9D%E8%80%83%E5%92%8C%E5%AE%9E%E7%8E%B0/" title="架构思考和实现" class="dd-item ">
        <a href="/en/android/jetpack/arch/%E6%9E%B6%E6%9E%84%E5%AE%9E%E7%8E%B0/%E6%9E%B6%E6%9E%84%E6%80%9D%E8%80%83%E5%92%8C%E5%AE%9E%E7%8E%B0/">
        架构思考和实现
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/%E6%9E%B6%E6%9E%84%E5%AE%9E%E7%8E%B0/%E6%9E%B6%E6%9E%84%E6%80%9D%E8%80%83%E5%92%8C%E5%AE%9E%E7%8E%B0inner/" title="架构思考和实现Inner" class="dd-item ">
        <a href="/en/android/jetpack/arch/%E6%9E%B6%E6%9E%84%E5%AE%9E%E7%8E%B0/%E6%9E%B6%E6%9E%84%E6%80%9D%E8%80%83%E5%92%8C%E5%AE%9E%E7%8E%B0inner/">
        架构思考和实现Inner
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/jetpack/compose/" title="compose" class="dd-item
        
        
        
        ">
      <a href="/en/android/jetpack/compose/">
          compose
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/compose/compose/" title="Compose" class="dd-item ">
        <a href="/en/android/jetpack/compose/compose/">
        Compose
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/compose/composesource/" title="ComposeSource" class="dd-item ">
        <a href="/en/android/jetpack/compose/composesource/">
        ComposeSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/compose/layoutnode/" title="LayoutNode" class="dd-item ">
        <a href="/en/android/jetpack/compose/layoutnode/">
        LayoutNode
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/compose/recomposition/" title="ReComposition" class="dd-item ">
        <a href="/en/android/jetpack/compose/recomposition/">
        ReComposition
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/supporttoandroidx/" title="SupportToAndroidx" class="dd-item ">
        <a href="/en/android/jetpack/supporttoandroidx/">
        SupportToAndroidx
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/jetpack/workmanager/" title="workmanager" class="dd-item
        
        
        
        ">
      <a href="/en/android/jetpack/workmanager/">
          workmanager
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/workmanager/workmanager/" title="WorkManager" class="dd-item ">
        <a href="/en/android/jetpack/workmanager/workmanager/">
        WorkManager
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/ndk/" title="ndk" class="dd-item
        
        
        
        ">
      <a href="/en/android/ndk/">
          ndk
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/ndk/elf%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84/" title="ELF文件结构" class="dd-item ">
        <a href="/en/android/ndk/elf%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84/">
        ELF文件结构
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/ndk/jni/" title="JNI" class="dd-item ">
        <a href="/en/android/ndk/jni/">
        JNI
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/ndk/native_hook/" title="native_hook" class="dd-item ">
        <a href="/en/android/ndk/native_hook/">
        native_hook
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/" title="system" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/">
          system
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/ashmem/" title="ashmem" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/ashmem/">
          ashmem
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/ashmem/%E5%8C%BF%E5%90%8D%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98ashmem/" title="匿名共享内存Ashmem" class="dd-item ">
        <a href="/en/android/system/ashmem/%E5%8C%BF%E5%90%8D%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98ashmem/">
        匿名共享内存Ashmem
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/bitmap/" title="bitmap" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/bitmap/">
          bitmap
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/bitmap/bitmap/" title="Bitmap" class="dd-item ">
        <a href="/en/android/system/bitmap/bitmap/">
        Bitmap
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/bitmap/bitmapsource/" title="BitmapSource" class="dd-item ">
        <a href="/en/android/system/bitmap/bitmapsource/">
        BitmapSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/handler/" title="handler" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/handler/">
          handler
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/handler/epoll/" title="Epoll" class="dd-item ">
        <a href="/en/android/system/handler/epoll/">
        Epoll
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/handler/looper/" title="Looper" class="dd-item ">
        <a href="/en/android/system/handler/looper/">
        Looper
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/handler/threadlocal/" title="ThreadLocal" class="dd-item ">
        <a href="/en/android/system/handler/threadlocal/">
        ThreadLocal
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/input/" title="input" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/input/">
          input
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/input/toucheventnative/" title="touchEventNative" class="dd-item ">
        <a href="/en/android/system/input/toucheventnative/">
        touchEventNative
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/kernel/" title="kernel" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/kernel/">
          kernel
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/kernel/kernel/" title="kernel" class="dd-item ">
        <a href="/en/android/system/kernel/kernel/">
        kernel
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/layoutinflater/" title="layoutinflater" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/layoutinflater/">
          layoutinflater
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/layoutinflater/layoutinflater/" title="LayoutInflater" class="dd-item ">
        <a href="/en/android/system/layoutinflater/layoutinflater/">
        LayoutInflater
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/surfaceview/" title="surfaceview" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/surfaceview/">
          surfaceview
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/surfaceview/surfaceviewsource/" title="SurfaceViewSource" class="dd-item ">
        <a href="/en/android/system/surfaceview/surfaceviewsource/">
        SurfaceViewSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/textureview/" title="textureview" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/textureview/">
          textureview
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/textureview/textureviewsource/" title="TextureViewSource" class="dd-item ">
        <a href="/en/android/system/textureview/textureviewsource/">
        TextureViewSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/thread/" title="thread" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/thread/">
          thread
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/thread/stacktraceelement/" title="StackTraceElement" class="dd-item ">
        <a href="/en/android/system/thread/stacktraceelement/">
        StackTraceElement
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/thread/threadstate/" title="ThreadState" class="dd-item ">
        <a href="/en/android/system/thread/threadstate/">
        ThreadState
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/zygote/" title="zygote" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/zygote/">
          zygote
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/zygote/systemserversource/" title="SystemServerSource" class="dd-item ">
        <a href="/en/android/system/zygote/systemserversource/">
        SystemServerSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/zygote/zygotesource/" title="ZygoteSource" class="dd-item ">
        <a href="/en/android/system/zygote/zygotesource/">
        ZygoteSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/zygote/zygote%E8%BF%9B%E7%A8%8B/" title="Zygote进程" class="dd-item ">
        <a href="/en/android/system/zygote/zygote%E8%BF%9B%E7%A8%8B/">
        Zygote进程
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/%E5%90%8E%E5%8F%B0%E4%BB%BB%E5%8A%A1/" title="后台任务" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/%E5%90%8E%E5%8F%B0%E4%BB%BB%E5%8A%A1/">
          后台任务
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E5%90%8E%E5%8F%B0%E4%BB%BB%E5%8A%A1/%E5%90%8E%E5%8F%B0%E4%BB%BB%E5%8A%A1%E5%A4%84%E7%90%86/" title="后台任务处理" class="dd-item ">
        <a href="/en/android/system/%E5%90%8E%E5%8F%B0%E4%BB%BB%E5%8A%A1/%E5%90%8E%E5%8F%B0%E4%BB%BB%E5%8A%A1%E5%A4%84%E7%90%86/">
        后台任务处理
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/" title="多进程" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/">
          多进程
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/" title="binder" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/">
          binder
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/1binderservicemanager/" title="1BinderServiceManager" class="dd-item ">
        <a href="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/1binderservicemanager/">
        1BinderServiceManager
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/2binderserver/" title="2BinderServer" class="dd-item ">
        <a href="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/2binderserver/">
        2BinderServer
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/3binderclient/" title="3BinderClient" class="dd-item ">
        <a href="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/3binderclient/">
        3BinderClient
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/4binderkernel/" title="4BinderKernel" class="dd-item ">
        <a href="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/4binderkernel/">
        4BinderKernel
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/binderdeath/" title="BinderDeath" class="dd-item ">
        <a href="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/binderdeath/">
        BinderDeath
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/binder%E5%8E%9F%E7%90%86/" title="Binder原理" class="dd-item ">
        <a href="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/binder%E5%8E%9F%E7%90%86/">
        Binder原理
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/mmkv/" title="mmkv" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/mmkv/">
          mmkv
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/mmkv/mmkv/" title="MMKV" class="dd-item ">
        <a href="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/mmkv/mmkv/">
        MMKV
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/%E5%BA%94%E7%94%A8%E5%90%AF%E5%8A%A8%E9%80%80%E5%87%BA/" title="应用启动退出" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/%E5%BA%94%E7%94%A8%E5%90%AF%E5%8A%A8%E9%80%80%E5%87%BA/">
          应用启动退出
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E5%BA%94%E7%94%A8%E5%90%AF%E5%8A%A8%E9%80%80%E5%87%BA/%E5%BA%94%E7%94%A8%E5%90%AF%E5%8A%A8/" title="应用启动" class="dd-item ">
        <a href="/en/android/system/%E5%BA%94%E7%94%A8%E5%90%AF%E5%8A%A8%E9%80%80%E5%87%BA/%E5%BA%94%E7%94%A8%E5%90%AF%E5%8A%A8/">
        应用启动
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/%E6%BA%90%E7%A0%81%E7%A0%94%E7%A9%B6%E6%96%B9%E6%B3%95/" title="源码研究方法" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/%E6%BA%90%E7%A0%81%E7%A0%94%E7%A9%B6%E6%96%B9%E6%B3%95/">
          源码研究方法
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E6%BA%90%E7%A0%81%E7%A0%94%E7%A9%B6%E6%96%B9%E6%B3%95/syscall%E6%9F%A5%E6%89%BE%E6%96%B9%E5%BC%8F/" title="Syscall查找方式" class="dd-item ">
        <a href="/en/android/system/%E6%BA%90%E7%A0%81%E7%A0%94%E7%A9%B6%E6%96%B9%E6%B3%95/syscall%E6%9F%A5%E6%89%BE%E6%96%B9%E5%BC%8F/">
        Syscall查找方式
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/" title="系统绘制" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/">
          系统绘制
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/graphics/" title="Graphics" class="dd-item ">
        <a href="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/graphics/">
        Graphics
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/measurelayoutdraw/" title="measurelayoutdraw" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/measurelayoutdraw/">
          measurelayoutdraw
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/measurelayoutdraw/measure/" title="measure" class="dd-item ">
        <a href="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/measurelayoutdraw/measure/">
        measure
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/vsync/" title="Vsync" class="dd-item ">
        <a href="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/vsync/">
        Vsync
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/vsync_surfaceflinger/" title="Vsync_SurfaceFlinger" class="dd-item ">
        <a href="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/vsync_surfaceflinger/">
        Vsync_SurfaceFlinger
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/%E7%A1%AC%E4%BB%B6%E5%8A%A0%E9%80%9F%E7%BB%98%E5%88%B6/" title="硬件加速绘制" class="dd-item ">
        <a href="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/%E7%A1%AC%E4%BB%B6%E5%8A%A0%E9%80%9F%E7%BB%98%E5%88%B6/">
        硬件加速绘制
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/%E7%BB%98%E5%88%B6%E5%8E%9F%E7%90%86/" title="绘制原理" class="dd-item ">
        <a href="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/%E7%BB%98%E5%88%B6%E5%8E%9F%E7%90%86/">
        绘制原理
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/%E8%BD%AF%E4%BB%B6%E7%BB%98%E5%88%B6/" title="软件绘制" class="dd-item ">
        <a href="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/%E8%BD%AF%E4%BB%B6%E7%BB%98%E5%88%B6/">
        软件绘制
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/ui/" title="ui" class="dd-item
        
        
        
        ">
      <a href="/en/android/ui/">
          ui
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/ui/webview/" title="webview" class="dd-item
        
        
        
        ">
      <a href="/en/android/ui/webview/">
          webview
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/ui/webview/webview/" title="WebView" class="dd-item ">
        <a href="/en/android/ui/webview/webview/">
        WebView
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/ui/%E5%8A%A8%E7%94%BB/" title="动画" class="dd-item
        
        
        
        ">
      <a href="/en/android/ui/%E5%8A%A8%E7%94%BB/">
          动画
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/ui/%E5%8A%A8%E7%94%BB/animatorsource/" title="AnimatorSource" class="dd-item ">
        <a href="/en/android/ui/%E5%8A%A8%E7%94%BB/animatorsource/">
        AnimatorSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E5%8C%85%E4%BD%93%E7%A7%AF/" title="包体积" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E5%8C%85%E4%BD%93%E7%A7%AF/">
          包体积
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E5%8C%85%E4%BD%93%E7%A7%AF/%E5%8C%85%E4%BD%93%E7%A7%AF%E5%8E%8B%E7%BC%A9/" title="包体积压缩" class="dd-item ">
        <a href="/en/android/%E5%8C%85%E4%BD%93%E7%A7%AF/%E5%8C%85%E4%BD%93%E7%A7%AF%E5%8E%8B%E7%BC%A9/">
        包体积压缩
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E5%9F%8B%E7%82%B9/" title="埋点" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E5%9F%8B%E7%82%B9/">
          埋点
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E5%9F%8B%E7%82%B9/%E5%9F%8B%E7%82%B9/" title="埋点" class="dd-item ">
        <a href="/en/android/%E5%9F%8B%E7%82%B9/%E5%9F%8B%E7%82%B9/">
        埋点
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E5%9F%8B%E7%82%B9/%E6%98%93%E8%A7%82%E6%96%B9%E8%88%9F/" title="易观方舟" class="dd-item ">
        <a href="/en/android/%E5%9F%8B%E7%82%B9/%E6%98%93%E8%A7%82%E6%96%B9%E8%88%9F/">
        易观方舟
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E5%AD%98%E5%82%A8/" title="存储" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E5%AD%98%E5%82%A8/">
          存储
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E5%AD%98%E5%82%A8/sharedpreferences/" title="sharedpreferences" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E5%AD%98%E5%82%A8/sharedpreferences/">
          sharedpreferences
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E5%AD%98%E5%82%A8/sharedpreferences/sharedpreferences/" title="SharedPreferences" class="dd-item ">
        <a href="/en/android/%E5%AD%98%E5%82%A8/sharedpreferences/sharedpreferences/">
        SharedPreferences
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E5%AE%89%E5%85%A8/" title="安全" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E5%AE%89%E5%85%A8/">
          安全
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E5%AE%89%E5%85%A8/app%E7%AD%BE%E5%90%8D/" title="app签名" class="dd-item ">
        <a href="/en/android/%E5%AE%89%E5%85%A8/app%E7%AD%BE%E5%90%8D/">
        app签名
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E5%AE%89%E5%85%A8/%E5%BA%94%E7%94%A8%E5%AE%89%E5%85%A8/" title="应用安全" class="dd-item ">
        <a href="/en/android/%E5%AE%89%E5%85%A8/%E5%BA%94%E7%94%A8%E5%AE%89%E5%85%A8/">
        应用安全
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E5%AE%89%E5%85%A8/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E5%AE%89%E5%85%A8/" title="网络请求安全" class="dd-item ">
        <a href="/en/android/%E5%AE%89%E5%85%A8/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E5%AE%89%E5%85%A8/">
        网络请求安全
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" title="性能优化" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">
          性能优化
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/" title="apm" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/">
          apm
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/matrixgradleplugin/" title="MatrixGradlePlugin" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/matrixgradleplugin/">
        MatrixGradlePlugin
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/matrixsource/" title="MatrixSource" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/matrixsource/">
        MatrixSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/matrix%E6%8E%A5%E5%85%A5%E5%90%8E%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/" title="Matrix接入后遇到的问题" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/matrix%E6%8E%A5%E5%85%A5%E5%90%8E%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/">
        Matrix接入后遇到的问题
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/matrix%E7%A0%94%E7%A9%B6/" title="Matrix研究" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/matrix%E7%A0%94%E7%A9%B6/">
        Matrix研究
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/resource/" title="resource" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/resource/">
          resource
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/resource/matrixresourceplugin/" title="MatrixResourcePlugin" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/resource/matrixresourceplugin/">
        MatrixResourcePlugin
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/" title="内存优化" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/">
          内存优化
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/1managememory/" title="1manageMemory" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/1managememory/">
        1manageMemory
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/2oom/" title="2OOM" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/2oom/">
        2OOM
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/3hprof_binary_dump_format/" title="3Hprof_binary_dump_format" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/3hprof_binary_dump_format/">
        3Hprof_binary_dump_format
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/4dumphprof/" title="4DumpHprof" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/4dumphprof/">
        4DumpHprof
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/5leakcanary2/" title="5LeakCanary2" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/5leakcanary2/">
        5LeakCanary2
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/6leakcanary2analyze/" title="6LeakCanary2Analyze" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/6leakcanary2analyze/">
        6LeakCanary2Analyze
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/7koomsource/" title="7KOOMSource" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/7koomsource/">
        7KOOMSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%B8%83%E5%B1%80%E4%BC%98%E5%8C%96/" title="布局优化" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%B8%83%E5%B1%80%E4%BC%98%E5%8C%96/">
          布局优化
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%B8%83%E5%B1%80%E4%BC%98%E5%8C%96/%E5%B8%83%E5%B1%80%E4%BC%98%E5%8C%96/" title="布局优化" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%B8%83%E5%B1%80%E4%BC%98%E5%8C%96/%E5%B8%83%E5%B1%80%E4%BC%98%E5%8C%96/">
        布局优化
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/" title="插件化" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/">
          插件化
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/1%E6%8F%92%E4%BB%B6%E5%8C%96%E9%9D%A2%E4%B8%B4%E7%9A%84%E9%97%AE%E9%A2%98/" title="1插件化面临的问题" class="dd-item ">
        <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/1%E6%8F%92%E4%BB%B6%E5%8C%96%E9%9D%A2%E4%B8%B4%E7%9A%84%E9%97%AE%E9%A2%98/">
        1插件化面临的问题
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/apk%E5%AE%89%E8%A3%85%E5%92%8C%E5%8D%B8%E8%BD%BD/" title="apk安装和卸载" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/apk%E5%AE%89%E8%A3%85%E5%92%8C%E5%8D%B8%E8%BD%BD/">
          apk安装和卸载
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/apk%E5%AE%89%E8%A3%85%E5%92%8C%E5%8D%B8%E8%BD%BD/%E5%BA%94%E7%94%A8%E5%AE%89%E8%A3%85%E5%92%8C%E5%8D%B8%E8%BD%BD%E8%BF%87%E7%A8%8B/" title="应用安装和卸载过程" class="dd-item ">
        <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/apk%E5%AE%89%E8%A3%85%E5%92%8C%E5%8D%B8%E8%BD%BD/%E5%BA%94%E7%94%A8%E5%AE%89%E8%A3%85%E5%92%8C%E5%8D%B8%E8%BD%BD%E8%BF%87%E7%A8%8B/">
        应用安装和卸载过程
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/hook/" title="Hook" class="dd-item ">
        <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/hook/">
        Hook
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/qigsaw/" title="qigsaw" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/qigsaw/">
          qigsaw
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/qigsaw/qigsaw/" title="Qigsaw" class="dd-item ">
        <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/qigsaw/qigsaw/">
        Qigsaw
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/shadow/" title="shadow" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/shadow/">
          shadow
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/shadow/shadow/" title="Shadow" class="dd-item ">
        <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/shadow/shadow/">
        Shadow
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/shadow/shadowplugin/" title="ShadowPlugin" class="dd-item ">
        <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/shadow/shadowplugin/">
        ShadowPlugin
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/shadow/shadowsource/" title="ShadowSource" class="dd-item ">
        <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/shadow/shadowsource/">
        ShadowSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/%E6%8F%92%E4%BB%B6%E5%8C%96%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B/" title="插件化技术选型" class="dd-item ">
        <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/%E6%8F%92%E4%BB%B6%E5%8C%96%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B/">
        插件化技术选型
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/" title="热修复字节码" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/">
          热修复字节码
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/1hotfixresearch/" title="1hotfixResearch" class="dd-item ">
        <a href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/1hotfixresearch/">
        1hotfixResearch
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/andfix/" title="AndFix" class="dd-item ">
        <a href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/andfix/">
        AndFix
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/andfixsource/" title="AndFixSource" class="dd-item ">
        <a href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/andfixsource/">
        AndFixSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/dex%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/" title="Dex文件格式" class="dd-item ">
        <a href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/dex%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/">
        Dex文件格式
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/multidex/" title="MultiDex" class="dd-item ">
        <a href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/multidex/">
        MultiDex
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/" title="tinker" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/">
          tinker
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" title="源码分析" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/">
          源码分析
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/resource.arsc%E7%94%9F%E6%88%90%E5%92%8C%E7%BB%93%E6%9E%84/" title="Resource.arsc生成和结构" class="dd-item ">
        <a href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/resource.arsc%E7%94%9F%E6%88%90%E5%92%8C%E7%BB%93%E6%9E%84/">
        Resource.arsc生成和结构
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/tinkergradlepluginsource/" title="TinkerGradlePluginSource" class="dd-item ">
        <a href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/tinkergradlepluginsource/">
        TinkerGradlePluginSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/tinkersource/" title="TinkerSource" class="dd-item ">
        <a href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/tinkersource/">
        TinkerSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/" title="稳定性" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/">
          稳定性
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/" title="异常" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/">
          异常
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/1javacrash/" title="1javacrash" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/1javacrash/">
          1javacrash
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/1javacrash/javacrashsystemhandle/" title="JavaCrashSystemHandle" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/1javacrash/javacrashsystemhandle/">
        JavaCrashSystemHandle
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/anr/" title="anr" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/anr/">
          anr
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/anr/1anrsystmhandle/" title="1ANRSystmHandle" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/anr/1anrsystmhandle/">
        1ANRSystmHandle
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/anr/2anrmonitor_collectinfo/" title="2ANRMonitor_CollectInfo" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/anr/2anrmonitor_collectinfo/">
        2ANRMonitor_CollectInfo
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/anr/3anranalysisrootcause/" title="3ANRAnalysisRootCause" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/anr/3anranalysisrootcause/">
        3ANRAnalysisRootCause
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/" title="nativecrash" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/">
          nativecrash
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/1nativecrash%E9%80%89%E5%9E%8B%E5%92%8C%E6%95%B4%E4%BD%93%E6%B5%81%E7%A8%8B/" title="1nativeCrash选型和整体流程" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/1nativecrash%E9%80%89%E5%9E%8B%E5%92%8C%E6%95%B4%E4%BD%93%E6%B5%81%E7%A8%8B/">
        1nativeCrash选型和整体流程
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/nativecrash1systemhandle/" title="nativeCrash1SystemHandle" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/nativecrash1systemhandle/">
        nativeCrash1SystemHandle
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/nativecrash2monitor_collectstack/" title="nativeCrash2Monitor_CollectStack" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/nativecrash2monitor_collectstack/">
        nativeCrash2Monitor_CollectStack
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/nativecrash3symbolrecovery/" title="nativeCrash3SymbolRecovery" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/nativecrash3symbolrecovery/">
        nativeCrash3SymbolRecovery
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/nativecrash4analysisrootcause/" title="nativeCrash4AnalysisRootCause" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/nativecrash4analysisrootcause/">
        nativeCrash4AnalysisRootCause
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/xcrash/" title="xcrash" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/xcrash/">
          xcrash
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/xcrash/1xcrash%E5%8E%9F%E7%90%86/" title="1xCrash原理" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/xcrash/1xcrash%E5%8E%9F%E7%90%86/">
        1xCrash原理
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/xcrash/linuxapi/" title="linuxApi" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/xcrash/linuxapi/">
        linuxApi
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/xcrash/xcrashanr/" title="xCrashAnr" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/xcrash/xcrashanr/">
        xCrashAnr
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/xcrash/xcrashnativecrash/" title="xCrashNativeCrash" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/xcrash/xcrashnativecrash/">
        xCrashNativeCrash
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/" title="自动化测试" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/">
          自动化测试
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/android%E4%BB%A3%E7%A0%81%E8%87%AA%E6%B5%8B/" title="android代码自测" class="dd-item ">
        <a href="/en/android/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/android%E4%BB%A3%E7%A0%81%E8%87%AA%E6%B5%8B/">
        android代码自测
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/en/java/" title="java" class="dd-item
        
        
        
        ">
      <a href="/en/java/">
          java
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/java/blockingqueue/" title="BlockingQueue" class="dd-item ">
        <a href="/en/java/blockingqueue/">
        BlockingQueue
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/java/java%E5%B9%B6%E5%8F%91/" title="java并发" class="dd-item ">
        <a href="/en/java/java%E5%B9%B6%E5%8F%91/">
        java并发
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/java/threadpoolexecutor/" title="ThreadPoolExecutor" class="dd-item ">
        <a href="/en/java/threadpoolexecutor/">
        ThreadPoolExecutor
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/en/kotlin/" title="kotlin" class="dd-item
        parent
        
        
        ">
      <a href="/en/kotlin/">
          kotlin
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/kotlin/coroutine/" title="coroutine" class="dd-item
        parent
        
        
        ">
      <a href="/en/kotlin/coroutine/">
          coroutine
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/kotlin/coroutine/kotlin%E5%8D%8F%E7%A8%8B/" title="kotlin协程" class="dd-item ">
        <a href="/en/kotlin/coroutine/kotlin%E5%8D%8F%E7%A8%8B/">
        kotlin协程
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/kotlin/coroutine/kotlin%E5%8D%8F%E7%A8%8Bsource/" title="kotlin协程Source" class="dd-item active">
        <a href="/en/kotlin/coroutine/kotlin%E5%8D%8F%E7%A8%8Bsource/">
        kotlin协程Source
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/kotlin/coroutine/kotlin%E5%8D%8F%E7%A8%8B%E5%8F%96%E6%B6%88/" title="kotlin协程取消" class="dd-item ">
        <a href="/en/kotlin/coroutine/kotlin%E5%8D%8F%E7%A8%8B%E5%8F%96%E6%B6%88/">
        kotlin协程取消
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/kotlin/coroutine/kotlin%E5%8D%8F%E7%A8%8B%E5%BC%82%E5%B8%B8/" title="kotlin协程异常" class="dd-item ">
        <a href="/en/kotlin/coroutine/kotlin%E5%8D%8F%E7%A8%8B%E5%BC%82%E5%B8%B8/">
        kotlin协程异常
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/kotlin/coroutine/%E4%BD%BF%E7%94%A8%E6%8C%82%E8%B5%B7%E5%87%BD%E6%95%B0%E6%9D%A5%E5%B0%81%E8%A3%85%E5%9B%9E%E8%B0%83/" title="使用挂起函数来封装回调" class="dd-item ">
        <a href="/en/kotlin/coroutine/%E4%BD%BF%E7%94%A8%E6%8C%82%E8%B5%B7%E5%87%BD%E6%95%B0%E6%9D%A5%E5%B0%81%E8%A3%85%E5%9B%9E%E8%B0%83/">
        使用挂起函数来封装回调
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/en/linux/" title="linux" class="dd-item
        
        
        
        ">
      <a href="/en/linux/">
          linux
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/linux/linux_io/" title="linux_io" class="dd-item ">
        <a href="/en/linux/linux_io/">
        linux_io
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/en/%E6%80%9D%E6%83%B3/" title="思想" class="dd-item
        
        
        
        ">
      <a href="/en/%E6%80%9D%E6%83%B3/">
          思想
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E6%80%9D%E6%83%B3/ioc/" title="IOC" class="dd-item ">
        <a href="/en/%E6%80%9D%E6%83%B3/ioc/">
        IOC
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E6%80%9D%E6%83%B3/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83/" title="程序设计规范" class="dd-item ">
        <a href="/en/%E6%80%9D%E6%83%B3/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83/">
        程序设计规范
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E6%80%9D%E6%83%B3/%E7%BB%A7%E6%89%BF%E5%92%8C%E7%BB%84%E5%90%88/" title="继承和组合" class="dd-item ">
        <a href="/en/%E6%80%9D%E6%83%B3/%E7%BB%A7%E6%89%BF%E5%92%8C%E7%BB%84%E5%90%88/">
        继承和组合
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/" title="方向和趋势" class="dd-item
        
        
        
        ">
      <a href="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/">
          方向和趋势
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/" title="音视频" class="dd-item
        
        
        
        ">
      <a href="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/">
          音视频
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/ffmpeg/" title="ffmpeg" class="dd-item
        
        
        
        ">
      <a href="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/ffmpeg/">
          ffmpeg
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/ffmpeg/examples/" title="examples" class="dd-item
        
        
        
        ">
      <a href="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/ffmpeg/examples/">
          examples
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/ffmpeg/examples/transcodingsource/" title="TranscodingSource" class="dd-item ">
        <a href="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/ffmpeg/examples/transcodingsource/">
        TranscodingSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/ffmpeg/ffmpegdebug/" title="FFmpegDebug" class="dd-item ">
        <a href="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/ffmpeg/ffmpegdebug/">
        FFmpegDebug
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/webrtc/" title="webrtc" class="dd-item
        
        
        
        ">
      <a href="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/webrtc/">
          webrtc
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/webrtc/webrtc%E6%BA%90%E7%A0%81%E4%B8%8B%E8%BD%BD%E5%92%8C%E7%BC%96%E8%AF%91/" title="WebRTC源码下载和编译" class="dd-item ">
        <a href="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/webrtc/webrtc%E6%BA%90%E7%A0%81%E4%B8%8B%E8%BD%BD%E5%92%8C%E7%BC%96%E8%AF%91/">
        WebRTC源码下载和编译
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/%E7%BC%96%E8%A7%A3%E7%A0%81/" title="编解码" class="dd-item
        
        
        
        ">
      <a href="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/%E7%BC%96%E8%A7%A3%E7%A0%81/">
          编解码
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/%E7%BC%96%E8%A7%A3%E7%A0%81/%E7%BC%96%E8%A7%A3%E7%A0%81%E7%9F%A5%E8%AF%86/" title="编解码知识" class="dd-item ">
        <a href="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/%E7%BC%96%E8%A7%A3%E7%A0%81/%E7%BC%96%E8%A7%A3%E7%A0%81%E7%9F%A5%E8%AF%86/">
        编解码知识
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/" title="跨平台" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/">
          跨平台
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/" title="flutter" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/">
          flutter
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/1startup/" title="1startup" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/1startup/">
          1startup
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/1startup/1startup/" title="1startup" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/1startup/1startup/">
        1startup
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/1startup/2startup_embedder_framwwork/" title="2startup_embedder_framwwork" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/1startup/2startup_embedder_framwwork/">
        2startup_embedder_framwwork
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/1startup/3flutter_surface/" title="3flutter_surface" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/1startup/3flutter_surface/">
        3flutter_surface
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/1startup/4startup_dart_framework/" title="4startup_dart_framework" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/1startup/4startup_dart_framework/">
        4startup_dart_framework
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/engine/" title="engine" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/engine/">
          engine
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/engine/engine/" title="Engine" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/engine/engine/">
        Engine
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/engine/flutterenginecache/" title="FlutterEngineCache" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/engine/flutterenginecache/">
        FlutterEngineCache
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/engine/flutterenginedebug%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" title="FlutterEngineDebug环境搭建" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/engine/flutterenginedebug%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">
        FlutterEngineDebug环境搭建
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/engine/flutterenginegroup/" title="FlutterEngineGroup" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/engine/flutterenginegroup/">
        FlutterEngineGroup
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/touch/" title="touch" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/touch/">
          touch
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/touch/touch/" title="Touch" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/touch/touch/">
        Touch
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%8A%A8%E7%94%BB/" title="动画" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%8A%A8%E7%94%BB/">
          动画
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%8A%A8%E7%94%BB/%E5%8A%A8%E7%94%BB/" title="动画" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%8A%A8%E7%94%BB/%E5%8A%A8%E7%94%BB/">
        动画
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%93%8D%E5%BA%94%E5%BC%8F%E6%9E%B6%E6%9E%84/" title="响应式架构" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%93%8D%E5%BA%94%E5%BC%8F%E6%9E%B6%E6%9E%84/">
          响应式架构
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%93%8D%E5%BA%94%E5%BC%8F%E6%9E%B6%E6%9E%84/1%E8%B7%A8%E7%BB%84%E4%BB%B6%E4%BC%A0%E9%80%92%E6%95%B0%E6%8D%AE/" title="1跨组件传递数据" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%93%8D%E5%BA%94%E5%BC%8F%E6%9E%B6%E6%9E%84/1%E8%B7%A8%E7%BB%84%E4%BB%B6%E4%BC%A0%E9%80%92%E6%95%B0%E6%8D%AE/">
        1跨组件传递数据
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%93%8D%E5%BA%94%E5%BC%8F%E6%9E%B6%E6%9E%84/2provider/" title="2Provider" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%93%8D%E5%BA%94%E5%BC%8F%E6%9E%B6%E6%9E%84/2provider/">
        2Provider
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%93%8D%E5%BA%94%E5%BC%8F%E6%9E%B6%E6%9E%84/3%E5%BC%82%E6%AD%A5_%E5%93%8D%E5%BA%94%E5%BC%8F_%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86/" title="3异步_响应式_状态管理" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%93%8D%E5%BA%94%E5%BC%8F%E6%9E%B6%E6%9E%84/3%E5%BC%82%E6%AD%A5_%E5%93%8D%E5%BA%94%E5%BC%8F_%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86/">
        3异步_响应式_状态管理
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%93%8D%E5%BA%94%E5%BC%8F%E6%9E%B6%E6%9E%84/stream/" title="stream" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%93%8D%E5%BA%94%E5%BC%8F%E6%9E%B6%E6%9E%84/stream/">
          stream
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%93%8D%E5%BA%94%E5%BC%8F%E6%9E%B6%E6%9E%84/stream/stream/" title="Stream" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%93%8D%E5%BA%94%E5%BC%8F%E6%9E%B6%E6%9E%84/stream/stream/">
        Stream
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/" title="混合开发" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/">
          混合开发
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/flutterboost/" title="FlutterBoost" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/flutterboost/">
        FlutterBoost
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/flutterboost3/" title="FlutterBoost3" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/flutterboost3/">
        FlutterBoost3
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/" title="混合开发" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/">
        混合开发
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B8%B2%E6%9F%93/" title="渲染" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B8%B2%E6%9F%93/">
          渲染
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B8%B2%E6%9F%93/widget/" title="Widget" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B8%B2%E6%9F%93/widget/">
        Widget
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B8%B2%E6%9F%93/%E6%B8%B2%E6%9F%93/" title="渲染" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B8%B2%E6%9F%93/%E6%B8%B2%E6%9F%93/">
        渲染
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E8%B7%AF%E7%94%B1/" title="路由" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E8%B7%AF%E7%94%B1/">
          路由
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E8%B7%AF%E7%94%B1/%E8%B7%AF%E7%94%B1/" title="路由" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E8%B7%AF%E7%94%B1/%E8%B7%AF%E7%94%B1/">
        路由
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E9%80%9A%E4%BF%A1/" title="通信" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E9%80%9A%E4%BF%A1/">
          通信
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E9%80%9A%E4%BF%A1/eventchannel/" title="EventChannel" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E9%80%9A%E4%BF%A1/eventchannel/">
        EventChannel
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E9%80%9A%E4%BF%A1/messageloop/" title="MessageLoop" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E9%80%9A%E4%BF%A1/messageloop/">
        MessageLoop
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E9%80%9A%E4%BF%A1/methodchannel/" title="MethodChannel" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E9%80%9A%E4%BF%A1/methodchannel/">
        MethodChannel
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E9%80%9A%E4%BF%A1/pigeon/" title="Pigeon" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E9%80%9A%E4%BF%A1/pigeon/">
        Pigeon
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://github.com/huanle19891345"><i class='fab fa-fw fa-github'></i> GitHub repo</a>
              </li>
          
              <li>
                  <a class="padding" href="https://huanle19891345.github.io/en/showcase"><i class='fas fa-fw fa-camera'></i> Showcases</a>
              </li>
          
              <li>
                  <a class="padding" href="https://gohugo.io/"><i class='fas fa-fw fa-bookmark'></i> Hugo Documentation</a>
              </li>
          
              <li>
                  <a class="padding" href="https://huanle19891345.github.io/en/credits"><i class='fas fa-fw fa-bullhorn'></i> Credits</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      

      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/en/'>技术探索总结</a> > <a href='/en/kotlin/'>kotlin</a> > <a href='/en/kotlin/coroutine/'>coroutine</a> > kotlin协程Source
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#总结">总结</a>
      <ul>
        <li><a href="#类设计">类设计</a></li>
        <li><a href="#协程的三层包装">协程的三层包装</a></li>
        <li><a href="#resumewith">resumeWith</a></li>
      </ul>
    </li>
    <li><a href="#coroutinecontext">CoroutineContext</a></li>
    <li><a href="#挂起和恢复设计">挂起和恢复设计</a></li>
    <li><a href="#coroutine构造和启动">Coroutine构造和启动</a>
      <ul>
        <li><a href="#coroutinescopelaunch">CoroutineScope.launch</a></li>
        <li><a href="#coroutinescopenewcoroutinecontext">CoroutineScope.newCoroutineContext</a></li>
        <li><a href="#coroutinestart">coroutine.start</a>
          <ul>
            <li><a href="#suspend-r---tcreatecoroutineunintercepted">(suspend R.() -&gt; T).createCoroutineUnintercepted</a>
              <ul>
                <li><a href="#coroutinecompileoutput">CoroutineCompileOutput</a></li>
              </ul>
            </li>
            <li><a href="#continuationimplintercepted">ContinuationImpl.intercepted()</a></li>
            <li><a href="#dispatchedcontinuationresumecancellable">DispatchedContinuation.resumeCancellable</a></li>
          </ul>
        </li>
        <li><a href="#线程调度">线程调度</a></li>
        <li><a href="#runtask">runTask</a>
          <ul>
            <li><a href="#suspendlambda_resumewith">SuspendLambda_resumeWith</a></li>
            <li><a href="#abstractcoroutineresumewith">AbstractCoroutine.resumeWith</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#withcontext基于suspendcoroutineuninterceptedorreturn">withContext(基于suspendCoroutineUninterceptedOrReturn)</a>
      <ul>
        <li><a href="#dispatched">dispatched</a>
          <ul>
            <li><a href="#监听completion通知执行resume">监听completion通知，执行resume</a></li>
          </ul>
        </li>
        <li><a href="#undispatched">undispatched</a></li>
      </ul>
    </li>
    <li><a href="#delay基于suspendcancellablecoroutine">delay(基于suspendCancellableCoroutine)</a>
      <ul>
        <li><a href="#suspendcancellablecoroutine">suspendCancellableCoroutine</a></li>
        <li><a href="#suspendcoroutineuninterceptedorreturn">suspendCoroutineUninterceptedOrReturn</a></li>
        <li><a href="#main线程delay执行block">main线程delay，执行block</a></li>
        <li><a href="#非main线程delay执行block">非main线程delay，执行block</a>
          <ul>
            <li><a href="#cancellablecontinuationdisposeoncancellationhandle-disposablehandle">CancellableContinuation&lt;*&gt;.disposeOnCancellation(handle: DisposableHandle)</a></li>
            <li><a href="#defaultexecutorschedule">DefaultExecutor.schedule</a></li>
          </ul>
        </li>
        <li><a href="#getresult">getResult</a>
          <ul>
            <li><a href="#trysuspend释放线程">trySuspend释放线程</a></li>
          </ul>
        </li>
        <li><a href="#main线程delay恢复协程的后续执行">main线程delay,恢复协程的后续执行</a>
          <ul>
            <li><a href="#tryresume">tryResume</a></li>
            <li><a href="#dispatchedtaskdispatch">DispatchedTask.dispatch</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#coroutinescope基于suspendcoroutineuninterceptedorreturn">coroutineScope(基于suspendCoroutineUninterceptedOrReturn)</a></li>
    <li><a href="#job">Job</a></li>
    <li><a href="#async">async</a>
      <ul>
        <li><a href="#awaitinternal">awaitInternal</a></li>
        <li><a href="#invokeoncompletion">invokeOnCompletion</a></li>
        <li><a href="#resumeawaitoncompletion">ResumeAwaitOnCompletion</a></li>
      </ul>
    </li>
    <li><a href="#dispatchersmainimmediate">Dispatchers.Main.immediate</a></li>
    <li><a href="#coroutinestackframe">CoroutineStackFrame</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              kotlin协程Source
            </h1>
          

        


<h2 id="总结">总结</h2>
<h3 id="类设计">类设计</h3>
<p><img src="/img/kotlin/coroutine/kotlin%E5%8D%8F%E7%A8%8Bsource.assets/kotlincoroutine.png" alt=""></p>
<h3 id="协程的三层包装">协程的三层包装</h3>
<ol>
<li>常用的launch和async返回的Job、Deferred，里面封装了协程状态，提供了取消协程接口，而它们的实例都是继承自AbstractCoroutine，它是协程的第一层包装。</li>
<li>第二层包装是编译器生成的SuspendLambda的子类，封装了协程的真正运算逻辑，继承自BaseContinuationImpl，其中completion属性就是协程的第一层包装。</li>
<li>第三层包装是前面分析协程的线程调度时提到的DispatchedContinuation，封装了线程调度逻辑，包含了协程的第二层包装。三层包装都实现了Continuation接口，通过代理模式将协程的各层包装组合在一起，每层负责不同的功能。</li>
</ol>
<h3 id="resumewith">resumeWith</h3>
<p><img src="/img/kotlin/coroutine/kotlin%E5%8D%8F%E7%A8%8Bsource.assets/661881-20201109154152710-2010914594.jpg" alt=""></p>
<h2 id="coroutinecontext">CoroutineContext</h2>
<pre><code class="language-mermaid" data-lang="mermaid">graph LR
coroutineContext--&gt;Element1[&quot;Element1: a singleton context by itself.&quot;]
coroutineContext--&gt;Element2[&quot;Element2: a singleton context by itself.&quot;]
coroutineContext--&gt;ContinuationInterceptor[&quot;ContinuationInterceptor: DefaultDispatcher.&quot;]
coroutineContext--&gt;CoroutineExceptionHandler[&quot;CoroutineExceptionHandler: CoroutineExceptionHandlerImpl.&quot;]
coroutineContext--&gt;ElementXxx[&quot;ElementXxx: a singleton context by itself.&quot;]
</code></pre><h2 id="挂起和恢复设计">挂起和恢复设计</h2>
<pre><code class="language-mermaid" data-lang="mermaid">sequenceDiagram
CurrentThreadType-&gt;&gt;DispatchedThreadType: dispatch
activate DispatchedThreadType
CurrentThreadType-&gt;&gt;CurrentThreadType: suspend coroutine and release thread
DispatchedThreadType--&gt;&gt;CurrentThreadType: resume
deactivate DispatchedThreadType
</code></pre><pre><code class="language-mermaid" data-lang="mermaid">graph LR
subgraph 基础层
suspendCoroutine--&gt;suspendCoroutineUninterceptedOrReturn
suspendCancellableCoroutine--&gt;suspendCoroutineUninterceptedOrReturn
end

subgraph 上层功能
delay--&gt;suspendCancellableCoroutine
withContext--&gt;suspendCoroutineUninterceptedOrReturn
awaitSuspend--&gt;suspendCoroutineUninterceptedOrReturn
yield--&gt;suspendCoroutineUninterceptedOrReturn
coroutineScope--&gt;suspendCoroutineUninterceptedOrReturn
end

</code></pre><h2 id="coroutine构造和启动">Coroutine构造和启动</h2>
<h3 id="coroutinescopelaunch">CoroutineScope.launch</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">val</span> coroutineContext: CoroutineContext
</code></pre></div><p>launch本质上也是将用户配置的协程闭包作为一个suspend函数(()-&gt;Unit),并将该函数在指定的dispatcher上执行，和withContext类似</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">CoroutineScope</span>.launch(
    context: CoroutineContext = EmptyCoroutineContext,
    start: CoroutineStart = CoroutineStart.DEFAULT,
    block: <span style="color:#66d9ef">suspend</span> CoroutineScope.() <span style="color:#f92672">-&gt;</span> Unit
): Job {
    <span style="color:#66d9ef">val</span> newContext = newCoroutineContext(context)
    <span style="color:#66d9ef">val</span> coroutine = <span style="color:#66d9ef">if</span> (start.isLazy)
        LazyStandaloneCoroutine(newContext, block) <span style="color:#66d9ef">else</span>
        StandaloneCoroutine(newContext, active = <span style="color:#66d9ef">true</span>)
    coroutine.start(start, coroutine, block)<span style="color:#75715e">//main
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> coroutine
}
</code></pre></div><h3 id="coroutinescopenewcoroutinecontext">CoroutineScope.newCoroutineContext</h3>
<p>intercepted过程会用到(context[ContinuationInterceptor]: DefaultScheduler实例DefaultDispatcher作为后续resume时的线程调度器</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">actual</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">CoroutineScope</span>.newCoroutineContext(context: CoroutineContext): CoroutineContext {
    <span style="color:#66d9ef">val</span> combined = coroutineContext + context
    <span style="color:#66d9ef">val</span> debug = <span style="color:#66d9ef">if</span> (DEBUG) combined + CoroutineId(COROUTINE_ID.incrementAndGet()) <span style="color:#66d9ef">else</span> combined
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">if</span> (combined <span style="color:#f92672">!==</span> Dispatchers.Default <span style="color:#f92672">&amp;&amp;</span> combined[ContinuationInterceptor] <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span>)
        debug + Dispatchers.Default <span style="color:#66d9ef">else</span> debug
}
</code></pre></div><h3 id="coroutinestart">coroutine.start</h3>
<p>CoroutineStart.start&ndash;&gt;invoke</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">R</span>&gt; <span style="color:#a6e22e">start</span>(start: CoroutineStart, <span style="color:#66d9ef">receiver</span>: R, block: <span style="color:#66d9ef">suspend</span> R.() <span style="color:#f92672">-&gt;</span> T) {
    initParentJob()
    start(block, <span style="color:#66d9ef">receiver</span>, <span style="color:#66d9ef">this</span>)
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">operator</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">R</span>, <span style="color:#a6e22e">T</span>&gt; <span style="color:#a6e22e">invoke</span>(block: <span style="color:#66d9ef">suspend</span> R.() <span style="color:#f92672">-&gt;</span> T, <span style="color:#66d9ef">receiver</span>: R, completion: Continuation&lt;T&gt;) =
    <span style="color:#66d9ef">when</span> (<span style="color:#66d9ef">this</span>) {
        <span style="color:#75715e">//receiver and completion both are StandaloneCoroutine instance,same one
</span><span style="color:#75715e"></span>        CoroutineStart.DEFAULT <span style="color:#f92672">-&gt;</span> block.startCoroutineCancellable(<span style="color:#66d9ef">receiver</span>, completion)<span style="color:#75715e">//main
</span><span style="color:#75715e"></span>        CoroutineStart.ATOMIC <span style="color:#f92672">-&gt;</span> block.startCoroutine(<span style="color:#66d9ef">receiver</span>, completion)
        CoroutineStart.UNDISPATCHED <span style="color:#f92672">-&gt;</span> block.startCoroutineUndispatched(<span style="color:#66d9ef">receiver</span>, completion)
        CoroutineStart.LAZY <span style="color:#f92672">-&gt;</span> Unit <span style="color:#75715e">// will start lazily
</span><span style="color:#75715e"></span>    }
</code></pre></div><p>commonMain\intrinsics\Cancellable.kt</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Use this function to start coroutine in a cancellable way, so that it can be cancelled
</span><span style="color:#75715e"> * while waiting to be dispatched.
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">R</span>, <span style="color:#a6e22e">T</span>&gt; <span style="color:#960050;background-color:#1e0010">(</span><span style="color:#a6e22e">suspend</span> (R) <span style="color:#f92672">-&gt;</span> T).startCoroutineCancellable(<span style="color:#66d9ef">receiver</span>: R, completion: Continuation&lt;T&gt;) =
    runSafely(completion) {
        createCoroutineUnintercepted(<span style="color:#66d9ef">receiver</span>, completion).intercepted().resumeCancellable(Unit)
    }
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">runSafely</span>(completion: Continuation&lt;*&gt;, block: () <span style="color:#f92672">-&gt;</span> Unit) {
    <span style="color:#66d9ef">try</span> {
        block()
    } <span style="color:#66d9ef">catch</span> (e: Throwable) {
        completion.resumeWith(Result.failure(e))
    }
}
</code></pre></div><p>kotlin/coroutines/intrinsics/IntrinsicsJvm.kt</p>
<h4 id="suspend-r---tcreatecoroutineunintercepted">(suspend R.() -&gt; T).createCoroutineUnintercepted</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">actual</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">R</span>, <span style="color:#a6e22e">T</span>&gt; <span style="color:#960050;background-color:#1e0010">(</span><span style="color:#a6e22e">suspend</span> R.() <span style="color:#f92672">-&gt;</span> T).createCoroutineUnintercepted(
    <span style="color:#66d9ef">receiver</span>: R,
    completion: Continuation&lt;T&gt;
): Continuation&lt;Unit&gt; {
    <span style="color:#66d9ef">val</span> probeCompletion = probeCoroutineCreated(completion)
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span> <span style="color:#66d9ef">is</span> BaseContinuationImpl)
        <span style="color:#75715e">//new编译产物SuspendLambda的子类对象，并将第一层对象StandaloneCoroutine作为参数传递给构造方法
</span><span style="color:#75715e"></span>        create(<span style="color:#66d9ef">receiver</span>, probeCompletion)<span style="color:#75715e">//main,receiver和probeCompletion都是StandaloneCoroutine{Active}@7e4d11a
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">else</span> {
        createCoroutineFromSuspendFunction(probeCompletion) {
            (<span style="color:#66d9ef">this</span> <span style="color:#66d9ef">as</span> Function2&lt;R, Continuation&lt;T&gt;, Any?&gt;).invoke(<span style="color:#66d9ef">receiver</span>, <span style="color:#66d9ef">it</span>)
        }
    }
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">// Suspension lambdas inherit from this class
</span><span style="color:#75715e"></span><span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SuspendLambda</span>(
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">val</span> arity: Int,
    completion: Continuation&lt;Any?&gt;?
) : ContinuationImpl(completion), FunctionBase&lt;Any?&gt;, SuspendFunction {
</code></pre></div><h5 id="coroutinecompileoutput">CoroutineCompileOutput</h5>
<p>build/tmp/kotlin-classes/debug/com/xxx/CoroutineTest.class</p>
<p>使用jd-gui打开,对比</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">object</span> <span style="color:#a6e22e">CoroutineTest</span> {
    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">test</span>() {
        GlobalScope.launch(Dispatchers.Main.immediate) {
            println(<span style="color:#e6db74">&#34;I&#39;m sleeping ... thread name =  </span><span style="color:#e6db74">${Thread.currentThread().name}</span><span style="color:#e6db74">&#34;</span>)
            delay(<span style="color:#ae81ff">500L</span>)<span style="color:#75715e">//release current thread while suspend current coroutine
</span><span style="color:#75715e"></span>            println(<span style="color:#e6db74">&#34;I&#39;m sleeping over ... thread name =  </span><span style="color:#e6db74">${Thread.currentThread().name}</span><span style="color:#e6db74">&#34;</span>)
        }
        println(<span style="color:#e6db74">&#34;finished thread name =  </span><span style="color:#e6db74">${Thread.currentThread().name}</span><span style="color:#e6db74">&#34;</span>)
    }
}
</code></pre></div><p>对应</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CoroutineTest</span> {
 
  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">final</span> void test() {
    BuildersKt.launch<span style="color:#960050;background-color:#1e0010">$</span>default((CoroutineScope)GlobalScope.INSTANCE, (CoroutineContext)Dispatchers.getMain().getImmediate(), <span style="color:#66d9ef">null</span>, new CoroutineTest<span style="color:#960050;background-color:#1e0010">$</span>test<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#ae81ff">1</span>(<span style="color:#66d9ef">null</span>), <span style="color:#ae81ff">2</span>, <span style="color:#66d9ef">null</span>);
    Intrinsics.checkExpressionValueIsNotNull(Thread.currentThread(), <span style="color:#e6db74">&#34;Thread.currentThread()&#34;</span>);
    String str = <span style="color:#e6db74">&#34;finished thread name =  &#34;</span> + Thread.currentThread().getName();
    boolean bool = <span style="color:#66d9ef">false</span>;
    System.<span style="color:#66d9ef">out</span>.println(str);
  }
  
static <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CoroutineTest</span><span style="color:#960050;background-color:#1e0010">$</span>test<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#ae81ff">1</span> extends SuspendLambda implements Function2&lt;CoroutineScope, Continuation&lt;? <span style="color:#66d9ef">super</span> Unit&gt;, Object&gt; {
    <span style="color:#66d9ef">private</span> CoroutineScope p<span style="color:#960050;background-color:#1e0010">$</span>;
    Object L<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#ae81ff">0</span>;
    int label;
    <span style="color:#a6e22e">@Nullable</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">final</span> Object invokeSuspend(<span style="color:#a6e22e">@NotNull</span> Object <span style="color:#960050;background-color:#1e0010">$</span>result) {
      CoroutineScope <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#66d9ef">this</span><span style="color:#960050;background-color:#1e0010">$</span>launch;
      String str;
      boolean bool;
      Object <span style="color:#66d9ef">object</span> <span style="color:#960050;background-color:#1e0010">= </span><span style="color:#a6e22e">IntrinsicsKt</span>.getCOROUTINE_SUSPENDED();
      switch (<span style="color:#66d9ef">this</span>.label) {
        case <span style="color:#ae81ff">0</span>:
          ResultKt.throwOnFailure(<span style="color:#960050;background-color:#1e0010">$</span>result);
          <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#66d9ef">this</span><span style="color:#960050;background-color:#1e0010">$</span>launch = <span style="color:#66d9ef">this</span>.p<span style="color:#960050;background-color:#1e0010">$</span>;
          Intrinsics.checkExpressionValueIsNotNull(Thread.currentThread(), <span style="color:#e6db74">&#34;Thread.currentThread()&#34;</span>);
          str = <span style="color:#e6db74">&#34;I&#39;m sleeping ... thread name =  &#34;</span> + Thread.currentThread().getName();
          bool = <span style="color:#66d9ef">false</span>;
          System.<span style="color:#66d9ef">out</span>.println(str);
          <span style="color:#66d9ef">this</span>.L<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#ae81ff">0</span> = <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#66d9ef">this</span><span style="color:#960050;background-color:#1e0010">$</span>launch;
          <span style="color:#66d9ef">this</span>.label = <span style="color:#ae81ff">1</span>;
          <span style="color:#66d9ef">if</span> (DelayKt.delay(<span style="color:#ae81ff">500L</span>, (Continuation)<span style="color:#66d9ef">this</span>) <span style="color:#f92672">==</span> <span style="color:#66d9ef">object</span>)
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">object</span>; 
          DelayKt.delay(<span style="color:#ae81ff">500L</span>, (Continuation)<span style="color:#66d9ef">this</span>);
          Intrinsics.checkExpressionValueIsNotNull(Thread.currentThread(), <span style="color:#e6db74">&#34;Thread.currentThread()&#34;</span>);
          str = <span style="color:#e6db74">&#34;I&#39;m sleeping over ... thread name =  &#34;</span> + Thread.currentThread().getName();
          bool = <span style="color:#66d9ef">false</span>;
          System.<span style="color:#66d9ef">out</span>.println(str);
          <span style="color:#66d9ef">return</span> Unit.INSTANCE;
        case <span style="color:#ae81ff">1</span>:
          <span style="color:#960050;background-color:#1e0010">$</span><span style="color:#66d9ef">this</span><span style="color:#960050;background-color:#1e0010">$</span>launch = (CoroutineScope)<span style="color:#66d9ef">this</span>.L<span style="color:#960050;background-color:#1e0010">$</span><span style="color:#ae81ff">0</span>;
          ResultKt.throwOnFailure(<span style="color:#960050;background-color:#1e0010">$</span>result);
          Intrinsics.checkExpressionValueIsNotNull(Thread.currentThread(), <span style="color:#e6db74">&#34;Thread.currentThread()&#34;</span>);
          str = <span style="color:#e6db74">&#34;I&#39;m sleeping over ... thread name =  &#34;</span> + Thread.currentThread().getName();
          bool = <span style="color:#66d9ef">false</span>;
          System.<span style="color:#66d9ef">out</span>.println(str);
          <span style="color:#66d9ef">return</span> Unit.INSTANCE;
      } 
      <span style="color:#66d9ef">throw</span> new IllegalStateException(<span style="color:#e6db74">&#34;call to &#39;resume&#39; before &#39;invoke&#39; with coroutine&#34;</span>);
    }
}
  
<span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">Result</span>&lt;*&gt;.throwOnFailure() {
    <span style="color:#66d9ef">if</span> (value <span style="color:#66d9ef">is</span> Result.Failure) <span style="color:#66d9ef">throw</span> value.exception
}
</code></pre></div><h4 id="continuationimplintercepted">ContinuationImpl.intercepted()</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">actual</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">T</span>&gt; <span style="color:#a6e22e">Continuation</span>&lt;T&gt;.intercepted(): Continuation&lt;T&gt; =
    (<span style="color:#66d9ef">this</span> <span style="color:#66d9ef">as</span>? ContinuationImpl)<span style="color:#f92672">?.</span>intercepted() <span style="color:#f92672">?:</span> <span style="color:#66d9ef">this</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">// State machines for named suspend functions extend from this class
</span><span style="color:#75715e"></span><span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ContinuationImpl</span>(
    completion: Continuation&lt;Any?&gt;?,
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">val</span> _context: CoroutineContext?
) : BaseContinuationImpl(completion) {
    <span style="color:#66d9ef">constructor</span>(completion: Continuation&lt;Any?&gt;?) : <span style="color:#66d9ef">this</span>(completion, completion<span style="color:#f92672">?.</span>context)

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">val</span> context: CoroutineContext
        <span style="color:#66d9ef">get</span>() = _context<span style="color:#f92672">!!</span>
    
    <span style="color:#a6e22e">@Transient</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">var</span> intercepted: Continuation&lt;Any?&gt;? = <span style="color:#66d9ef">null</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">intercepted</span>(): Continuation&lt;Any?&gt; =
        <span style="color:#75715e">//context是combineContext：[StandaloneCoroutine{Active}@7e4d11a, DefaultDispatcher]
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//(context[ContinuationInterceptor]返回DefaultScheduler实例DefaultDispatcher
</span><span style="color:#75715e"></span>        intercepted
            <span style="color:#f92672">?:</span> (context[ContinuationInterceptor]<span style="color:#f92672">?.</span>interceptContinuation(<span style="color:#66d9ef">this</span>) <span style="color:#f92672">?:</span> <span style="color:#66d9ef">this</span>)
                .also { intercepted = <span style="color:#66d9ef">it</span> }
</code></pre></div><p>CoroutineDispatcher.interceptContinuation</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">T</span>&gt; <span style="color:#a6e22e">interceptContinuation</span>(continuation: Continuation&lt;T&gt;): Continuation&lt;T&gt; =
    DispatchedContinuation(<span style="color:#66d9ef">this</span>, continuation)
</code></pre></div><h4 id="dispatchedcontinuationresumecancellable">DispatchedContinuation.resumeCancellable</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">T</span>&gt; <span style="color:#a6e22e">Continuation</span>&lt;T&gt;.resumeCancellable(value: T) = <span style="color:#66d9ef">when</span> (<span style="color:#66d9ef">this</span>) {
    <span style="color:#66d9ef">is</span> DispatchedContinuation <span style="color:#f92672">-&gt;</span> resumeCancellable(value)
    <span style="color:#66d9ef">else</span> <span style="color:#f92672">-&gt;</span> resume(value)
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">resumeCancellable</span>(value: T) {
    <span style="color:#66d9ef">if</span> (dispatcher.isDispatchNeeded(context)) {
        _state = value
        resumeMode = MODE_CANCELLABLE
        dispatcher.dispatch(context, <span style="color:#66d9ef">this</span>)
    } <span style="color:#66d9ef">else</span> {
        executeUnconfined(value, MODE_CANCELLABLE) {
            <span style="color:#66d9ef">if</span> (!resumeCancelled()) {
                resumeUndispatched(value)
            }
        }
    }
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">dispatch</span>(context: CoroutineContext, block: Runnable): Unit =
    <span style="color:#66d9ef">try</span> {
        coroutineScheduler.dispatch(block)
    } <span style="color:#66d9ef">catch</span> (e: RejectedExecutionException) {
        DefaultExecutor.dispatch(context, block)
    }
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">dispatch</span>(block: Runnable, taskContext: TaskContext = NonBlockingContext, fair: Boolean = <span style="color:#66d9ef">false</span>) {
    trackTask() <span style="color:#75715e">// this is needed for virtual time support
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">val</span> task = createTask(block, taskContext)
    <span style="color:#75715e">// try to submit the task to the local queue and act depending on the result
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">when</span> (submitToLocalQueue(task, fair)) {
        ADDED <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">return</span>
        NOT_ADDED <span style="color:#f92672">-&gt;</span> {
            <span style="color:#75715e">// try to offload task to global queue
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">if</span> (!globalQueue.addLast(task)) {<span style="color:#75715e">//main
</span><span style="color:#75715e"></span>                <span style="color:#75715e">// Global queue is closed in the last step of close/shutdown -- no more tasks should be accepted
</span><span style="color:#75715e"></span>                <span style="color:#66d9ef">throw</span> RejectedExecutionException(<span style="color:#e6db74">&#34;</span><span style="color:#e6db74">$schedulerName</span><span style="color:#e6db74"> was terminated&#34;</span>)
            }
            requestCpuWorker()
        }
        <span style="color:#66d9ef">else</span> <span style="color:#f92672">-&gt;</span> requestCpuWorker() <span style="color:#75715e">// ask for help
</span><span style="color:#75715e"></span>    }
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">addLast</span>(element: E): Boolean {
    _cur.loop { cur <span style="color:#f92672">-&gt;</span>
        <span style="color:#66d9ef">when</span> (cur.addLast(element)) {
            Core.ADD_SUCCESS <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>
            Core.ADD_CLOSED <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>
            Core.ADD_FROZEN <span style="color:#f92672">-&gt;</span> _cur.compareAndSet(cur, cur.next()) <span style="color:#75715e">// move to next
</span><span style="color:#75715e"></span>        }
    }
}
</code></pre></div><h3 id="线程调度">线程调度</h3>
<p>jvmMain\scheduling\CoroutineScheduler.kt</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">inner</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Worker</span> <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">constructor</span>() : Thread() {
        <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">run</span>() {
            <span style="color:#66d9ef">var</span> wasIdle = <span style="color:#66d9ef">false</span> <span style="color:#75715e">// local variable to avoid extra idleReset invocations when tasks repeatedly arrive
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">while</span> (<span style="color:#f92672">!is</span>Terminated <span style="color:#f92672">&amp;&amp;</span> state <span style="color:#f92672">!=</span> WorkerState.TERMINATED) {
                <span style="color:#66d9ef">val</span> task = findTask()<span style="color:#75715e">//类似java ThreadPoolExecutor,循环读取WorkQueue中的Task,并执行task
</span><span style="color:#75715e"></span>                <span style="color:#66d9ef">if</span> (task <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span>) {
                    <span style="color:#75715e">// Wait for a job with potential park
</span><span style="color:#75715e"></span>                    <span style="color:#66d9ef">if</span> (state <span style="color:#f92672">==</span> WorkerState.CPU_ACQUIRED) {
                        cpuWorkerIdle()
                    } <span style="color:#66d9ef">else</span> {
                        blockingWorkerIdle()
                    }
                    wasIdle = <span style="color:#66d9ef">true</span>
                } <span style="color:#66d9ef">else</span> {
                    <span style="color:#75715e">// Note: read task.mode before running the task, because Task object will be reused after run
</span><span style="color:#75715e"></span>                    <span style="color:#66d9ef">val</span> taskMode = task.mode
                    <span style="color:#66d9ef">if</span> (wasIdle) {
                        idleReset(taskMode)
                        wasIdle = <span style="color:#66d9ef">false</span>
                    }
                    beforeTask(taskMode, task.submissionTime)
                    runSafely(task)<span style="color:#75715e">//main
</span><span style="color:#75715e"></span>                    afterTask(taskMode)
                }
            }
            tryReleaseCpu(WorkerState.TERMINATED)
        }
}
        
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">findTask</span>(): Task? {
    <span style="color:#66d9ef">if</span> (tryAcquireCpuPermit()) <span style="color:#66d9ef">return</span> findTaskWithCpuPermit()
    <span style="color:#75715e">/*
</span><span style="color:#75715e">     * If the local queue is empty, try to extract blocking task from global queue.
</span><span style="color:#75715e">     * It&#39;s helpful for two reasons:
</span><span style="color:#75715e">     * 1) We won&#39;t call excess park/unpark here and someone&#39;s else CPU token won&#39;t be transferred,
</span><span style="color:#75715e">     *    which is a performance win
</span><span style="color:#75715e">     * 2) It helps with rare race when external submitter sends depending blocking tasks
</span><span style="color:#75715e">     *    one by one and one of the requested workers may miss CPU token
</span><span style="color:#75715e">     */</span>
    <span style="color:#66d9ef">return</span> localQueue.poll() <span style="color:#f92672">?:</span> globalQueue.removeFirstWithModeOrNull(TaskMode.PROBABLY_BLOCKING)
}
</code></pre></div><p>CoroutineScheduler.runSafely</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">runSafely</span>(task: Task) {
    <span style="color:#66d9ef">try</span> {
        task.run()
    } <span style="color:#66d9ef">catch</span> (e: Throwable) {
        <span style="color:#66d9ef">val</span> thread = Thread.currentThread()
        thread.uncaughtExceptionHandler.uncaughtException(thread, e)
    } <span style="color:#66d9ef">finally</span> {
        unTrackTask()
    }
}
</code></pre></div><h3 id="runtask">runTask</h3>
<p>resume过程参考visio类图</p>
<p><a href="#resumewith">resumewith</a></p>
<p>DispatchedTask&lt;<strong>in</strong> T&gt;</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">run</span>() {
   <span style="color:#66d9ef">val</span> taskContext = <span style="color:#66d9ef">this</span>.taskContext
   <span style="color:#66d9ef">try</span> {
     <span style="color:#66d9ef">val</span> delegate = <span style="color:#66d9ef">delegate</span> <span style="color:#66d9ef">as</span> DispatchedContinuation&lt;T&gt;

    <span style="color:#75715e">//continuation为BaseContinuationImpl子类，实现对第二层的代理
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">val</span> continuation = <span style="color:#66d9ef">delegate</span>.continuation
     <span style="color:#66d9ef">val</span> context = continuation.context
     <span style="color:#66d9ef">val</span> job = <span style="color:#66d9ef">if</span> (resumeMode.isCancellableMode) context[Job] <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">null</span>
     <span style="color:#66d9ef">val</span> state = takeState() <span style="color:#75715e">// NOTE: Must take state in any case, even if cancelled
</span><span style="color:#75715e"></span>     withCoroutineContext(context, <span style="color:#66d9ef">delegate</span>.countOrElement) {
       <span style="color:#66d9ef">if</span> (job <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">&amp;&amp;</span> !job.isActive)
         continuation.resumeWithException(job.getCancellationException())
       <span style="color:#66d9ef">else</span> {
         <span style="color:#66d9ef">val</span> exception = getExceptionalResult(state)
         <span style="color:#66d9ef">if</span> (exception <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>)
           continuation.resumeWithStackTrace(exception)<span style="color:#75715e">//cancel和其他异常时进入
</span><span style="color:#75715e"></span>         <span style="color:#66d9ef">else</span>
          <span style="color:#75715e">//调用resumeWith(Result.success(value))
</span><span style="color:#75715e"></span>           continuation.resume(getSuccessfulResult(state))<span style="color:#75715e">//main
</span><span style="color:#75715e"></span>       }
     }
   } <span style="color:#66d9ef">catch</span> (e: Throwable) {
     <span style="color:#66d9ef">throw</span> DispatchException(<span style="color:#e6db74">&#34;Unexpected exception running </span><span style="color:#e6db74">$this</span><span style="color:#e6db74">&#34;</span>, e)
   } <span style="color:#66d9ef">finally</span> {
     taskContext.afterTask()
   }
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#a6e22e">@Suppress</span>(<span style="color:#e6db74">&#34;NOTHING_TO_INLINE&#34;</span>)
<span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">Continuation</span>&lt;*&gt;.resumeWithStackTrace(exception: Throwable) {
    resumeWith(Result.failure(recoverStackTrace(exception, <span style="color:#66d9ef">this</span>)))
}
</code></pre></div><h4 id="suspendlambda_resumewith">SuspendLambda_resumeWith</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">//BaseContinuationImpl
</span><span style="color:#75715e">//封装了协程的运算逻辑，用以协程的启动和恢复
</span><span style="color:#75715e"></span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">resumeWith</span>(result: Result&lt;Any?&gt;) {
    <span style="color:#75715e">// This loop unrolls recursion in current.resumeWith(param) to make saner and shorter stack traces on resume
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">var</span> current = <span style="color:#66d9ef">this</span>
    <span style="color:#66d9ef">var</span> param = result
    <span style="color:#66d9ef">while</span> (<span style="color:#66d9ef">true</span>) {
        <span style="color:#75715e">// Invoke &#34;resume&#34; debug probe on every resumed continuation, so that a debugging library infrastructure
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// can precisely track what part of suspended callstack was already resumed
</span><span style="color:#75715e"></span>        probeCoroutineResumed(current)
        with(current) {
            <span style="color:#66d9ef">val</span> completion = completion<span style="color:#f92672">!!</span> <span style="color:#75715e">// fail fast when trying to resume continuation without completion
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">val</span> outcome: Result&lt;Any?&gt; =
                <span style="color:#66d9ef">try</span> {
                    <span style="color:#66d9ef">val</span> outcome = invokeSuspend(<span style="color:#66d9ef">param</span>)<span style="color:#75715e">//main
</span><span style="color:#75715e"></span>                    <span style="color:#66d9ef">if</span> (outcome <span style="color:#f92672">===</span> COROUTINE_SUSPENDED) <span style="color:#66d9ef">return</span>
                    Result.success(outcome)
                } <span style="color:#66d9ef">catch</span> (exception: Throwable) {<span style="color:#75715e">//catch了所有异常，封装到outcome里
</span><span style="color:#75715e"></span>                    Result.failure(exception)
                }
            releaseIntercepted() <span style="color:#75715e">// this state machine instance is terminating
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">if</span> (completion <span style="color:#66d9ef">is</span> BaseContinuationImpl) {
                <span style="color:#75715e">// unrolling recursion via loop
</span><span style="color:#75715e"></span>                current = completion
                <span style="color:#66d9ef">param</span> = outcome
            } <span style="color:#66d9ef">else</span> {<span style="color:#75715e">//是AbstractCoroutine实例时
</span><span style="color:#75715e"></span>                <span style="color:#75715e">// top-level completion reached -- invoke and return
</span><span style="color:#75715e"></span>                <span style="color:#75715e">//completion为AbstractCoroutine实例，实现对第一层的代理
</span><span style="color:#75715e"></span>                completion.resumeWith(outcome)
                <span style="color:#66d9ef">return</span>
            }
        }
    }
}
</code></pre></div><p><a href="#coroutinecompileoutput">coroutinecompileoutput</a></p>
<h4 id="abstractcoroutineresumewith">AbstractCoroutine.resumeWith</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">/** commonMain/AbstractCoroutine.kt
</span><span style="color:#75715e"> * Completes execution of this with coroutine with the specified result.
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">resumeWith</span>(result: Result&lt;T&gt;) {
    makeCompletingOnce(result.toState(), defaultResumeMode)
}

<span style="color:#75715e">//commonMain/JobSupport.kt
</span><span style="color:#75715e"></span> <span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">makeCompletingOnce</span>(proposedUpdate: Any?, mode: Int): Boolean = loopOnState { state <span style="color:#f92672">-&gt;</span>
        <span style="color:#66d9ef">when</span> (tryMakeCompleting(state, proposedUpdate, mode)) {
            COMPLETING_ALREADY_COMPLETING <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">throw</span> IllegalStateException(<span style="color:#e6db74">&#34;Job </span><span style="color:#e6db74">$this</span><span style="color:#e6db74"> is already complete or completing, &#34;</span> +
                <span style="color:#e6db74">&#34;but is being completed with </span><span style="color:#e6db74">$proposedUpdate</span><span style="color:#e6db74">&#34;</span>, proposedUpdate.exceptionOrNull)
            COMPLETING_COMPLETED <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>
            COMPLETING_WAITING_CHILDREN <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>
            COMPLETING_RETRY <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">return</span><span style="color:#a6e22e">@loopOnState</span>
            <span style="color:#66d9ef">else</span> <span style="color:#f92672">-&gt;</span> error(<span style="color:#e6db74">&#34;unexpected result&#34;</span>)
        }
    }
</code></pre></div><h2 id="withcontext基于suspendcoroutineuninterceptedorreturn">withContext(基于suspendCoroutineUninterceptedOrReturn)</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">suspend</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">T</span>&gt; <span style="color:#a6e22e">withContext</span>(
    context: CoroutineContext,
    block: <span style="color:#66d9ef">suspend</span> CoroutineScope.() <span style="color:#f92672">-&gt;</span> T
): T = suspendCoroutineUninterceptedOrReturn sc<span style="color:#960050;background-color:#1e0010">@</span> { uCont <span style="color:#f92672">-&gt;</span>
    <span style="color:#75715e">// compute new context
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">val</span> oldContext = uCont.context
    <span style="color:#66d9ef">val</span> newContext = oldContext + context
    <span style="color:#75715e">// always check for cancellation of new context
</span><span style="color:#75715e"></span>    newContext.checkCompletion()
    <span style="color:#75715e">// FAST PATH #1 -- new context is the same as the old one
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (newContext <span style="color:#f92672">===</span> oldContext) {
        <span style="color:#66d9ef">val</span> coroutine = ScopeCoroutine(newContext, uCont) <span style="color:#75715e">// MODE_DIRECT
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span><span style="color:#a6e22e">@sc</span> coroutine.startUndispatchedOrReturn(coroutine, block)
    }
    <span style="color:#75715e">// FAST PATH #2 -- the new dispatcher is the same as the old one (something else changed)
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// `equals` is used by design (see equals implementation is wrapper context like ExecutorCoroutineDispatcher)
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (newContext[ContinuationInterceptor] <span style="color:#f92672">==</span> oldContext[ContinuationInterceptor]) {
        <span style="color:#66d9ef">val</span> coroutine = UndispatchedCoroutine(newContext, uCont) <span style="color:#75715e">// MODE_UNDISPATCHED
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// There are changes in the context, so this thread needs to be updated
</span><span style="color:#75715e"></span>        withCoroutineContext(newContext, <span style="color:#66d9ef">null</span>) {
            <span style="color:#66d9ef">return</span><span style="color:#a6e22e">@sc</span> coroutine.startUndispatchedOrReturn(coroutine, block)
        }
    }
    <span style="color:#75715e">// SLOW PATH -- use new dispatcher
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">val</span> coroutine = DispatchedCoroutine(newContext, uCont) <span style="color:#75715e">// MODE_CANCELLABLE,传递uCont用于在old dispatcher上resume
</span><span style="color:#75715e"></span>    coroutine.initParentJob()
    block.startCoroutineCancellable(coroutine, coroutine)<span style="color:#75715e">//该方法和launch时的主流程类似，恢复流程由DispatchedCoroutine指定
</span><span style="color:#75715e"></span>    coroutine.getResult()
}
</code></pre></div><h3 id="dispatched">dispatched</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">// Used by withContext when context dispatcher changes
</span><span style="color:#75715e"></span><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DispatchedCoroutine</span>&lt;<span style="color:#66d9ef">in</span> T&gt;(
    context: CoroutineContext,
    uCont: Continuation&lt;T&gt;
) : ScopeCoroutine&lt;T&gt;(context, uCont) {
</code></pre></div><h4 id="监听completion通知执行resume">监听completion通知，执行resume</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">open</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ScopeCoroutine</span>&lt;<span style="color:#66d9ef">in</span> T&gt;(
    context: CoroutineContext,
    <span style="color:#a6e22e">@JvmField</span> <span style="color:#66d9ef">val</span> uCont: Continuation&lt;T&gt; <span style="color:#75715e">// unintercepted continuation
</span><span style="color:#75715e"></span>) : AbstractCoroutine&lt;T&gt;(context, <span style="color:#66d9ef">true</span>), CoroutineStackFrame {
  
      <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">afterCompletionInternal</span>(state: Any?, mode: Int) {
        <span style="color:#66d9ef">if</span> (state <span style="color:#66d9ef">is</span> CompletedExceptionally) {
            <span style="color:#66d9ef">val</span> exception = <span style="color:#66d9ef">if</span> (mode <span style="color:#f92672">==</span> MODE_IGNORE) state.cause <span style="color:#66d9ef">else</span> recoverStackTrace(state.cause, uCont)
            uCont.resumeUninterceptedWithExceptionMode(exception, mode)
        } <span style="color:#66d9ef">else</span> {
            uCont.resumeUninterceptedMode(state <span style="color:#66d9ef">as</span> T, mode)<span style="color:#75715e">//uCont是old，eg:Continuation at com.example.myapplication.coroutine.CoroutineTest$postItem$1.invokeSuspend(CoroutineTest.kt:55)
</span><span style="color:#75715e"></span>        }
    }
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">T</span>&gt; <span style="color:#a6e22e">Continuation</span>&lt;T&gt;.resumeUninterceptedMode(value: T, mode: Int) {
    <span style="color:#66d9ef">when</span> (mode) {
        MODE_ATOMIC_DEFAULT <span style="color:#f92672">-&gt;</span> intercepted().resume(value)
        MODE_CANCELLABLE <span style="color:#f92672">-&gt;</span> intercepted().resumeCancellable(value)
        MODE_DIRECT <span style="color:#f92672">-&gt;</span> resume(value)
        MODE_UNDISPATCHED <span style="color:#f92672">-&gt;</span> withCoroutineContext(context, <span style="color:#66d9ef">null</span>) { resume(value) }
        MODE_IGNORE <span style="color:#f92672">-&gt;</span> {}
        <span style="color:#66d9ef">else</span> <span style="color:#f92672">-&gt;</span> error(<span style="color:#e6db74">&#34;Invalid mode </span><span style="color:#e6db74">$mode</span><span style="color:#e6db74">&#34;</span>)
    }
}
</code></pre></div><p><a href="#suspendlambda_resumewith">resume</a></p>
<h3 id="undispatched">undispatched</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">T</span>, <span style="color:#a6e22e">R</span>&gt; <span style="color:#a6e22e">AbstractCoroutine</span>&lt;T&gt;.startUndispatchedOrReturn(<span style="color:#66d9ef">receiver</span>: R, block: <span style="color:#66d9ef">suspend</span> R.() <span style="color:#f92672">-&gt;</span> T): Any? {
    initParentJob()
    <span style="color:#66d9ef">return</span> undispatchedResult({ <span style="color:#66d9ef">true</span> }) {
        block.startCoroutineUninterceptedOrReturn(<span style="color:#66d9ef">receiver</span>, <span style="color:#66d9ef">this</span>)
    }
}
</code></pre></div><p>kotlin/coroutines/intrinsics/IntrinsicsJvm.kt</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">actual</span> <span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">T</span>&gt; <span style="color:#960050;background-color:#1e0010">(</span><span style="color:#a6e22e">suspend</span> () <span style="color:#f92672">-&gt;</span> T).startCoroutineUninterceptedOrReturn(
    completion: Continuation&lt;T&gt;
): Any? = (<span style="color:#66d9ef">this</span> <span style="color:#66d9ef">as</span> Function1&lt;Continuation&lt;T&gt;, Any?&gt;).invoke(completion)
</code></pre></div><h2 id="delay基于suspendcancellablecoroutine">delay(基于suspendCancellableCoroutine)</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Delays coroutine for a given time without blocking a thread and resumes it after a specified time.
</span><span style="color:#75715e"> * This suspending function is cancellable.
</span><span style="color:#75715e"> * If the [Job] of the current coroutine is cancelled or completed while this suspending function is waiting, this function
</span><span style="color:#75715e"> * immediately resumes with [CancellationException].
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">suspend</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">delay</span>(timeMillis: Long) {
    <span style="color:#66d9ef">if</span> (timeMillis <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">return</span> <span style="color:#75715e">// don&#39;t delay
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">return</span> suspendCancellableCoroutine sc<span style="color:#960050;background-color:#1e0010">@</span> { cont: CancellableContinuation&lt;Unit&gt; <span style="color:#f92672">-&gt;</span>
        cont.context.delay.scheduleResumeAfterDelay(timeMillis, cont)
    }
}

<span style="color:#75715e">/** Returns [Delay] implementation of the given context */</span>
<span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">val</span> CoroutineContext.delay: Delay <span style="color:#66d9ef">get</span>() = <span style="color:#66d9ef">get</span>(ContinuationInterceptor) <span style="color:#66d9ef">as</span>? Delay <span style="color:#f92672">?:</span> DefaultDelay
</code></pre></div><h3 id="suspendcancellablecoroutine">suspendCancellableCoroutine</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Suspends coroutine similar to [suspendCoroutine], but provide an implementation of [CancellableContinuation] to
</span><span style="color:#75715e"> * the [block]. This function throws [CancellationException] if the coroutine is cancelled or completed while suspended.
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">suspend</span> <span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">T</span>&gt; <span style="color:#a6e22e">suspendCancellableCoroutine</span>(
    <span style="color:#66d9ef">crossinline</span> block: (CancellableContinuation&lt;T&gt;) <span style="color:#f92672">-&gt;</span> Unit
): T =
    suspendCoroutineUninterceptedOrReturn { uCont <span style="color:#f92672">-&gt;</span><span style="color:#75715e">//uCont是生成的SuspendLambda子类，也就是第二层
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">val</span> cancellable = CancellableContinuationImpl(uCont.intercepted(), resumeMode = MODE_CANCELLABLE)
        <span style="color:#75715e">// NOTE: Before version 1.1.0 the following invocation was inlined here, so invocation of this
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// method indicates that the code was compiled by kotlinx.coroutines &lt; 1.1.0
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// cancellable.initCancellability()
</span><span style="color:#75715e"></span>        block(cancellable)
        cancellable.getResult()
    }
</code></pre></div><h3 id="suspendcoroutineuninterceptedorreturn">suspendCoroutineUninterceptedOrReturn</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">//Obtains the current continuation instance inside suspend functions and either suspends currently running coroutine or returns result immediately without suspension.
</span><span style="color:#75715e"></span><span style="color:#66d9ef">suspend</span> <span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">T</span>&gt; <span style="color:#a6e22e">suspendCoroutineUninterceptedOrReturn</span>(
    <span style="color:#66d9ef">crossinline</span> block: (Continuation&lt;T&gt;) <span style="color:#f92672">-&gt;</span> Any?
): T
</code></pre></div><h3 id="main线程delay执行block">main线程delay，执行block</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Implements [CoroutineDispatcher] on top of an arbitrary Android [Handler].
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HandlerContext</span>

  <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">scheduleResumeAfterDelay</span>(timeMillis: Long, continuation: CancellableContinuation&lt;Unit&gt;) {
    <span style="color:#66d9ef">val</span> block = Runnable {
        with(continuation) { resumeUndispatched(Unit) }
    }
    handler.postDelayed(block, timeMillis.coerceAtMost(MAX_DELAY))
    continuation.invokeOnCancellation { handler.removeCallbacks(block) }
}
</code></pre></div><h3 id="非main线程delay执行block">非main线程delay，执行block</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">scheduleResumeAfterDelay</span>(timeMillis: Long, continuation: CancellableContinuation&lt;Unit&gt;) {
    <span style="color:#66d9ef">val</span> timeNanos = delayToNanos(timeMillis)
    <span style="color:#66d9ef">if</span> (timeNanos &lt; MAX_DELAY_NS) {
        <span style="color:#66d9ef">val</span> now = nanoTime()
        DelayedResumeTask(now + timeNanos, continuation).also { task <span style="color:#f92672">-&gt;</span>
            continuation.disposeOnCancellation(task)
            schedule(now, task)
        }
    }
}
</code></pre></div><h4 id="cancellablecontinuationdisposeoncancellationhandle-disposablehandle">CancellableContinuation&lt;*&gt;.disposeOnCancellation(handle: DisposableHandle)</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">CancellableContinuation</span>&lt;*&gt;.disposeOnCancellation(handle: DisposableHandle) =
    invokeOnCancellation(handler = DisposeOnCancel(handle).asHandler)

<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DisposeOnCancel</span>(<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">val</span> handle: DisposableHandle) : CancelHandler() {
    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">invoke</span>(cause: Throwable?) = handle.dispose()
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">inner</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DelayedResumeTask</span>(
    nanoTime: Long,
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">val</span> cont: CancellableContinuation&lt;Unit&gt;
) : DelayedTask(nanoTime) {
    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">run</span>() { with(cont) { resumeUndispatched(Unit) } }
    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">toString</span>(): String = <span style="color:#66d9ef">super</span>.toString() + cont.toString()
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin">    <span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DelayedTask</span>(
        <span style="color:#75715e">/**
</span><span style="color:#75715e">         * This field can be only modified in [scheduleTask] before putting this DelayedTask
</span><span style="color:#75715e">         * into heap to avoid overflow and corruption of heap data structure.
</span><span style="color:#75715e">         */</span>
        <span style="color:#a6e22e">@JvmField</span> <span style="color:#66d9ef">var</span> nanoTime: Long
    ) : Runnable, Comparable&lt;DelayedTask&gt;, DisposableHandle, ThreadSafeHeapNode {
        
        <span style="color:#a6e22e">@Synchronized</span>
        <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">dispose</span>() {
            <span style="color:#66d9ef">val</span> heap = _heap
            <span style="color:#66d9ef">if</span> (heap <span style="color:#f92672">===</span> DISPOSED_TASK) <span style="color:#66d9ef">return</span> <span style="color:#75715e">// already disposed
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">@Suppress</span>(<span style="color:#e6db74">&#34;UNCHECKED_CAST&#34;</span>)
            (heap <span style="color:#66d9ef">as</span>? DelayedTaskQueue)<span style="color:#f92672">?.</span>remove(<span style="color:#66d9ef">this</span>) <span style="color:#75715e">// remove if it is in heap (first)
</span><span style="color:#75715e"></span>            _heap = DISPOSED_TASK <span style="color:#75715e">// never add again to any heap
</span><span style="color:#75715e"></span>        }
    }
</code></pre></div><h4 id="defaultexecutorschedule">DefaultExecutor.schedule</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">schedule</span>(now: Long, delayedTask: DelayedTask) {
    <span style="color:#66d9ef">when</span> (scheduleImpl(now, delayedTask)) {
        SCHEDULE_OK <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">if</span> (shouldUnpark(delayedTask)) unpark()
        SCHEDULE_COMPLETED <span style="color:#f92672">-&gt;</span> reschedule(now, delayedTask)
        SCHEDULE_DISPOSED <span style="color:#f92672">-&gt;</span> {} <span style="color:#75715e">// do nothing -- task was already disposed
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">else</span> <span style="color:#f92672">-&gt;</span> error(<span style="color:#e6db74">&#34;unexpected result&#34;</span>)
    }
}
</code></pre></div><h3 id="getresult">getResult</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#a6e22e">@PublishedApi</span>
<span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">getResult</span>(): Any? {
    installParentCancellationHandler()
    <span style="color:#66d9ef">if</span> (trySuspend()) <span style="color:#66d9ef">return</span> COROUTINE_SUSPENDED
    <span style="color:#75715e">// otherwise, onCompletionInternal was already invoked &amp; invoked tryResume, and the result is in the state
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">val</span> state = <span style="color:#66d9ef">this</span>.state
    <span style="color:#66d9ef">if</span> (state <span style="color:#66d9ef">is</span> CompletedExceptionally) <span style="color:#66d9ef">throw</span> recoverStackTrace(state.cause, <span style="color:#66d9ef">this</span>)
    <span style="color:#75715e">// if the parent job was already cancelled, then throw the corresponding cancellation exception
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// otherwise, there is a race is suspendCancellableCoroutine { cont -&gt; ... } does cont.resume(...)
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// before the block returns. This getResult would return a result as opposed to cancellation
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// exception that should have happened if the continuation is dispatched for execution later.
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">if</span> (resumeMode <span style="color:#f92672">==</span> MODE_CANCELLABLE) {
        <span style="color:#66d9ef">val</span> job = context[Job]
        <span style="color:#66d9ef">if</span> (job <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">&amp;&amp;</span> !job.isActive) {
            <span style="color:#66d9ef">val</span> cause = job.getCancellationException()
            cancelResult(state, cause)
            <span style="color:#66d9ef">throw</span> recoverStackTrace(cause, <span style="color:#66d9ef">this</span>)
        }
    }
    <span style="color:#66d9ef">return</span> getSuccessfulResult(state)
}
</code></pre></div><h4 id="trysuspend释放线程">trySuspend释放线程</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">val</span> UNDECIDED = <span style="color:#ae81ff">0</span>
<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">val</span> SUSPENDED = <span style="color:#ae81ff">1</span>
<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">val</span> RESUMED = <span style="color:#ae81ff">2</span>

<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">trySuspend</span>(): Boolean {
    _decision.loop { decision <span style="color:#f92672">-&gt;</span>
        <span style="color:#66d9ef">when</span> (decision) {
            UNDECIDED <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>._decision.compareAndSet(UNDECIDED, SUSPENDED)) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>
            RESUMED <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>
            <span style="color:#66d9ef">else</span> <span style="color:#f92672">-&gt;</span> error(<span style="color:#e6db74">&#34;Already suspended&#34;</span>)
        }
    }
}
</code></pre></div><h3 id="main线程delay恢复协程的后续执行">main线程delay,恢复协程的后续执行</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin">with(continuation) { resumeUndispatched(Unit) }
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Calls the specified function [block] with the given [receiver] as its receiver and returns its result.
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">@kotlin</span>.<span style="color:#66d9ef">internal</span>.InlineOnly
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">T</span>, <span style="color:#a6e22e">R</span>&gt; <span style="color:#a6e22e">with</span>(<span style="color:#66d9ef">receiver</span>: T, block: T.() <span style="color:#f92672">-&gt;</span> R): R {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">receiver</span>.block()
}
</code></pre></div><p>commonMain/CancellableContinuationImpl.kt</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">CoroutineDispatcher</span>.resumeUndispatched(value: T) {
    <span style="color:#66d9ef">val</span> dc = <span style="color:#66d9ef">delegate</span> <span style="color:#66d9ef">as</span>? DispatchedContinuation
    resumeImpl(value, <span style="color:#66d9ef">if</span> (dc<span style="color:#f92672">?.</span>dispatcher <span style="color:#f92672">===</span> <span style="color:#66d9ef">this</span>) MODE_UNDISPATCHED <span style="color:#66d9ef">else</span> resumeMode)
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">// returns null when successfully dispatched resumed, CancelledContinuation if too late (was already cancelled)
</span><span style="color:#75715e"></span><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">resumeImpl</span>(proposedUpdate: Any?, resumeMode: Int): CancelledContinuation? {
    _state.loop { state <span style="color:#f92672">-&gt;</span>
        <span style="color:#66d9ef">when</span> (state) {
            <span style="color:#66d9ef">is</span> NotCompleted <span style="color:#f92672">-&gt;</span> {
                <span style="color:#66d9ef">if</span> (!_state.compareAndSet(state, proposedUpdate)) <span style="color:#66d9ef">return</span><span style="color:#a6e22e">@loop</span> <span style="color:#75715e">// retry on cas failure
</span><span style="color:#75715e"></span>                disposeParentHandle()
                dispatchResume(resumeMode)<span style="color:#75715e">//main
</span><span style="color:#75715e"></span>                <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span>
            }
    }
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin">    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">dispatchResume</span>(mode: Int) {
        <span style="color:#66d9ef">if</span> (tryResume()) <span style="color:#66d9ef">return</span> <span style="color:#75715e">// completed before getResult invocation -- bail out
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// otherwise, getResult has already commenced, i.e. completed later or in other thread
</span><span style="color:#75715e"></span>        dispatch(mode)
    }
</code></pre></div><h4 id="tryresume">tryResume</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">tryResume</span>(): Boolean {
    _decision.loop { decision <span style="color:#f92672">-&gt;</span>
        <span style="color:#66d9ef">when</span> (decision) {
            UNDECIDED <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>._decision.compareAndSet(UNDECIDED, RESUMED)) <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>
            SUSPENDED <span style="color:#f92672">-&gt;</span> <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>
            <span style="color:#66d9ef">else</span> <span style="color:#f92672">-&gt;</span> error(<span style="color:#e6db74">&#34;Already resumed&#34;</span>)
        }
    }
}
</code></pre></div><h4 id="dispatchedtaskdispatch">DispatchedTask.dispatch</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">T</span>&gt; <span style="color:#a6e22e">DispatchedTask</span>&lt;T&gt;.dispatch(mode: Int = MODE_CANCELLABLE) {
    <span style="color:#66d9ef">val</span> delegate = <span style="color:#66d9ef">this</span>.<span style="color:#66d9ef">delegate</span>
    <span style="color:#66d9ef">if</span> (mode.isDispatchedMode <span style="color:#f92672">&amp;&amp;</span> <span style="color:#66d9ef">delegate</span> <span style="color:#66d9ef">is</span> DispatchedContinuation&lt;*&gt; <span style="color:#f92672">&amp;&amp;</span> mode.isCancellableMode <span style="color:#f92672">==</span> resumeMode.isCancellableMode) {
        <span style="color:#75715e">// dispatch directly using this instance&#39;s Runnable implementation
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">val</span> dispatcher = <span style="color:#66d9ef">delegate</span>.dispatcher
        <span style="color:#66d9ef">val</span> context = <span style="color:#66d9ef">delegate</span>.context
        <span style="color:#66d9ef">if</span> (dispatcher.isDispatchNeeded(context)) {
            dispatcher.dispatch(context, <span style="color:#66d9ef">this</span>)
        } <span style="color:#66d9ef">else</span> {
            resumeUnconfined()
        }
    } <span style="color:#66d9ef">else</span> {
        resume(<span style="color:#66d9ef">delegate</span>, mode)<span style="color:#75715e">//main
</span><span style="color:#75715e"></span>    }
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">T</span>&gt; <span style="color:#a6e22e">DispatchedTask</span>&lt;T&gt;.resume(<span style="color:#66d9ef">delegate</span>: Continuation&lt;T&gt;, useMode: Int) {
    <span style="color:#75715e">// slow-path - use delegate
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">val</span> state = takeState()
    <span style="color:#66d9ef">val</span> exception = getExceptionalResult(state)
    <span style="color:#66d9ef">if</span> (exception <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
        <span style="color:#75715e">/*
</span><span style="color:#75715e">         * Recover stacktrace for non-dispatched tasks.
</span><span style="color:#75715e">         * We usually do not recover stacktrace in a `resume` as all resumes go through `DispatchedTask.run`
</span><span style="color:#75715e">         * and we recover stacktraces there, but this is not the case for a `suspend fun main()` that knows nothing about
</span><span style="color:#75715e">         * kotlinx.coroutines and DispatchedTask
</span><span style="color:#75715e">         */</span>
        <span style="color:#66d9ef">val</span> recovered = <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">delegate</span> <span style="color:#66d9ef">is</span> DispatchedTask&lt;*&gt;) exception <span style="color:#66d9ef">else</span> recoverStackTrace(exception, <span style="color:#66d9ef">delegate</span>)
        <span style="color:#66d9ef">delegate</span>.resumeWithExceptionMode(recovered, useMode)
    } <span style="color:#66d9ef">else</span> {
        <span style="color:#66d9ef">delegate</span>.resumeMode(getSuccessfulResult(state), useMode)<span style="color:#75715e">//main
</span><span style="color:#75715e"></span>    }
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">T</span>&gt; <span style="color:#a6e22e">Continuation</span>&lt;T&gt;.resumeMode(value: T, mode: Int) {
    <span style="color:#66d9ef">when</span> (mode) {
        MODE_ATOMIC_DEFAULT <span style="color:#f92672">-&gt;</span> resume(value)
        MODE_CANCELLABLE <span style="color:#f92672">-&gt;</span> resumeCancellable(value)
        MODE_DIRECT <span style="color:#f92672">-&gt;</span> resumeDirect(value)
        MODE_UNDISPATCHED <span style="color:#f92672">-&gt;</span> (<span style="color:#66d9ef">this</span> <span style="color:#66d9ef">as</span> DispatchedContinuation).resumeUndispatched(value)
        MODE_IGNORE <span style="color:#f92672">-&gt;</span> {}
        <span style="color:#66d9ef">else</span> <span style="color:#f92672">-&gt;</span> error(<span style="color:#e6db74">&#34;Invalid mode </span><span style="color:#e6db74">$mode</span><span style="color:#e6db74">&#34;</span>)
    }
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">resumeUndispatched</span>(value: T) {
  <span style="color:#75715e">//this: DispatchedContinuation[Main [immediate]...]
</span><span style="color:#75715e"></span>    withCoroutineContext(context, countOrElement) {
        continuation.resume(value)<span style="color:#75715e">//走后续的resume流程
</span><span style="color:#75715e"></span>    }
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">T</span>&gt; <span style="color:#a6e22e">Continuation</span>&lt;T&gt;.resume(value: T): Unit =
   resumeWith(Result.success(value))
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">//协程的恢复
</span><span style="color:#75715e"></span><span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">resumeWith</span>(result: Result&lt;T&gt;) {
    <span style="color:#66d9ef">val</span> context = continuation.context
    <span style="color:#66d9ef">val</span> state = result.toState()
    <span style="color:#66d9ef">if</span> (dispatcher.isDispatchNeeded(context)) {
        _state = state
        resumeMode = MODE_ATOMIC_DEFAULT
        dispatcher.dispatch(context, <span style="color:#66d9ef">this</span>)
    } <span style="color:#66d9ef">else</span> {
        executeUnconfined(state, MODE_ATOMIC_DEFAULT) {
            withCoroutineContext(<span style="color:#66d9ef">this</span>.context, countOrElement) {
                continuation.resumeWith(result)
            }
        }
    }
}
</code></pre></div><p><a href="#suspendlambda_resumewith">继续中间层的resume流程</a></p>
<h2 id="coroutinescope基于suspendcoroutineuninterceptedorreturn">coroutineScope(基于suspendCoroutineUninterceptedOrReturn)</h2>
<p>commonMain/CoroutineScope.kt</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">suspend</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">R</span>&gt; <span style="color:#a6e22e">coroutineScope</span>(block: <span style="color:#66d9ef">suspend</span> CoroutineScope.() <span style="color:#f92672">-&gt;</span> R): R {
    contract {
        callsInPlace(block, InvocationKind.EXACTLY_ONCE)
    }
    <span style="color:#66d9ef">return</span> suspendCoroutineUninterceptedOrReturn { uCont <span style="color:#f92672">-&gt;</span>
        <span style="color:#66d9ef">val</span> coroutine = ScopeCoroutine(uCont.context, uCont)
        coroutine.startUndispatchedOrReturn(coroutine, block)
    }
}
</code></pre></div><h2 id="job">Job</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin">* A job has the following states:
*
* | **State**                        | [isActive] | [isCompleted] | [isCancelled] |
* | <span style="color:#f92672">--------------------------------</span> | <span style="color:#f92672">----------</span> | <span style="color:#f92672">------------</span>- | <span style="color:#f92672">------------</span>- |
* | _New_ (optional initial state)   | <span style="color:#a6e22e">`false</span><span style="color:#960050;background-color:#1e0010">`</span>    | <span style="color:#a6e22e">`false</span><span style="color:#960050;background-color:#1e0010">`</span>       | <span style="color:#a6e22e">`false</span><span style="color:#960050;background-color:#1e0010">`</span>       |
* | _Active_ (default initial state) | <span style="color:#a6e22e">`true</span><span style="color:#960050;background-color:#1e0010">`</span>     | <span style="color:#a6e22e">`false</span><span style="color:#960050;background-color:#1e0010">`</span>       | <span style="color:#a6e22e">`false</span><span style="color:#960050;background-color:#1e0010">`</span>       |
* | _Completing_ (transient state)   | <span style="color:#a6e22e">`true</span><span style="color:#960050;background-color:#1e0010">`</span>     | <span style="color:#a6e22e">`false</span><span style="color:#960050;background-color:#1e0010">`</span>       | <span style="color:#a6e22e">`false</span><span style="color:#960050;background-color:#1e0010">`</span>       |
* | _Cancelling_ (transient state)   | <span style="color:#a6e22e">`false</span><span style="color:#960050;background-color:#1e0010">`</span>    | <span style="color:#a6e22e">`false</span><span style="color:#960050;background-color:#1e0010">`</span>       | <span style="color:#a6e22e">`true</span><span style="color:#960050;background-color:#1e0010">`</span>        |
* | _Cancelled_ (<span style="color:#66d9ef">final</span> state)        | <span style="color:#a6e22e">`false</span><span style="color:#960050;background-color:#1e0010">`</span>    | <span style="color:#a6e22e">`true</span><span style="color:#960050;background-color:#1e0010">`</span>        | <span style="color:#a6e22e">`true</span><span style="color:#960050;background-color:#1e0010">`</span>        |
* | _Completed_ (<span style="color:#66d9ef">final</span> state)        | <span style="color:#a6e22e">`false</span><span style="color:#960050;background-color:#1e0010">`</span>    | <span style="color:#a6e22e">`true</span><span style="color:#960050;background-color:#1e0010">`</span>        | <span style="color:#a6e22e">`false</span><span style="color:#960050;background-color:#1e0010">`</span>       |
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin">* <span style="color:#960050;background-color:#1e0010">```</span>
*                                       wait children
* +<span style="color:#f92672">----</span>-+ start  +<span style="color:#f92672">--------</span>+ complete   +<span style="color:#f92672">------------</span>-+  finish  +<span style="color:#f92672">----------</span>-+
* | New | <span style="color:#f92672">-----&gt;</span> | Active | <span style="color:#f92672">---------&gt;</span> | Completing  | <span style="color:#f92672">-------&gt;</span> | Completed |
* +<span style="color:#f92672">----</span>-+        +<span style="color:#f92672">--------</span>+            +<span style="color:#f92672">------------</span>-+          +<span style="color:#f92672">----------</span>-+
*                  |  cancel / fail       |
*                  |     +<span style="color:#f92672">----------------</span>+
*                  |     |
*                  V     V
*              +<span style="color:#f92672">------------</span>+                           finish  +<span style="color:#f92672">----------</span>-+
*              | Cancelling | <span style="color:#f92672">--------------------------------</span>&gt; | Cancelled |
*              +<span style="color:#f92672">------------</span>+                                   +<span style="color:#f92672">----------</span>-+
* <span style="color:#960050;background-color:#1e0010">```</span>
</code></pre></div><h2 id="async">async</h2>
<p>async时释放线程，但不挂起协程</p>
<p>await被调用时不释放线程，但挂起协程</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">T</span>&gt; <span style="color:#a6e22e">CoroutineScope</span>.async(
    context: CoroutineContext = EmptyCoroutineContext,
    start: CoroutineStart = CoroutineStart.DEFAULT,
    block: <span style="color:#66d9ef">suspend</span> CoroutineScope.() <span style="color:#f92672">-&gt;</span> T
): Deferred&lt;T&gt; {
    <span style="color:#66d9ef">val</span> newContext = newCoroutineContext(context)
    <span style="color:#66d9ef">val</span> coroutine = <span style="color:#66d9ef">if</span> (start.isLazy)
        LazyDeferredCoroutine(newContext, block) <span style="color:#66d9ef">else</span>
        DeferredCoroutine&lt;T&gt;(newContext, active = <span style="color:#66d9ef">true</span>)
    coroutine.start(start, coroutine, block)
    <span style="color:#66d9ef">return</span> coroutine
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">Deferred</span>&lt;<span style="color:#66d9ef">out</span> T&gt; : Job {
  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">suspend</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">await</span>(): T
  <span style="color:#f92672">......</span>
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">open</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DeferredCoroutine</span>&lt;T&gt;(
    parentContext: CoroutineContext,
    active: Boolean
) : AbstractCoroutine&lt;T&gt;(parentContext, active), Deferred&lt;T&gt;, SelectClause1&lt;T&gt; {
    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">getCompleted</span>(): T = getCompletedInternal() <span style="color:#66d9ef">as</span> T
    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">suspend</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">await</span>(): T = awaitInternal() <span style="color:#66d9ef">as</span> T
    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">val</span> onAwait: SelectClause1&lt;T&gt; <span style="color:#66d9ef">get</span>() = <span style="color:#66d9ef">this</span>
    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">R</span>&gt; <span style="color:#a6e22e">registerSelectClause1</span>(select: SelectInstance&lt;R&gt;, block: <span style="color:#66d9ef">suspend</span> (T) <span style="color:#f92672">-&gt;</span> R) =
        registerSelectClause1Internal(select, block)
}
</code></pre></div><h3 id="awaitinternal">awaitInternal</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">suspend</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">awaitInternal</span>(): Any? {
    <span style="color:#75715e">// fast-path -- check state (avoid extra object creation)
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">while</span> (<span style="color:#66d9ef">true</span>) { <span style="color:#75715e">// lock-free loop on state
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">val</span> state = <span style="color:#66d9ef">this</span>.state
        <span style="color:#66d9ef">if</span> (state <span style="color:#f92672">!is</span> Incomplete) {
            <span style="color:#75715e">// already complete -- just return result
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">if</span> (state <span style="color:#66d9ef">is</span> CompletedExceptionally) { <span style="color:#75715e">// Slow path to recover stacktrace
</span><span style="color:#75715e"></span>                recoverAndThrow(state.cause)
            }
            <span style="color:#66d9ef">return</span> state.unboxState()

        }
        <span style="color:#66d9ef">if</span> (startInternal(state) <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">break</span> <span style="color:#75715e">// break unless needs to retry
</span><span style="color:#75715e"></span>    }
    <span style="color:#66d9ef">return</span> awaitSuspend() <span style="color:#75715e">// slow-path
</span><span style="color:#75715e"></span>}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">suspend</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">awaitSuspend</span>(): Any? = suspendCoroutineUninterceptedOrReturn { uCont <span style="color:#f92672">-&gt;</span>
    <span style="color:#66d9ef">val</span> cont = AwaitContinuation(uCont.intercepted(), <span style="color:#66d9ef">this</span>)
    cont.disposeOnCancellation(invokeOnCompletion(ResumeAwaitOnCompletion(<span style="color:#66d9ef">this</span>, cont).asHandler))
    cont.getResult()
}
</code></pre></div><h3 id="invokeoncompletion">invokeOnCompletion</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">invokeOnCompletion</span>(handler: CompletionHandler): DisposableHandle =
    invokeOnCompletion(onCancelling = <span style="color:#66d9ef">false</span>, invokeImmediately = <span style="color:#66d9ef">true</span>, handler = handler)
</code></pre></div><h3 id="resumeawaitoncompletion">ResumeAwaitOnCompletion</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ResumeAwaitOnCompletion</span>&lt;T&gt;(
    job: JobSupport,
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">val</span> continuation: CancellableContinuationImpl&lt;T&gt;
) : JobNode&lt;JobSupport&gt;(job) {
    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">invoke</span>(cause: Throwable?) {
        <span style="color:#66d9ef">val</span> state = job.state
        assert { state <span style="color:#f92672">!is</span> Incomplete }
        <span style="color:#66d9ef">if</span> (state <span style="color:#66d9ef">is</span> CompletedExceptionally) {
            <span style="color:#75715e">// Resume with exception in atomic way to preserve exception
</span><span style="color:#75715e"></span>            continuation.resumeWithExceptionMode(state.cause, MODE_ATOMIC_DEFAULT)
        } <span style="color:#66d9ef">else</span> {
            <span style="color:#75715e">// Resuming with value in a cancellable way (AwaitContinuation is configured for this mode).
</span><span style="color:#75715e"></span>            <span style="color:#a6e22e">@Suppress</span>(<span style="color:#e6db74">&#34;UNCHECKED_CAST&#34;</span>)
            continuation.resume(state.unboxState() <span style="color:#66d9ef">as</span> T)
        }
    }
    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">toString</span>() = <span style="color:#e6db74">&#34;ResumeAwaitOnCompletion[</span><span style="color:#e6db74">$continuation</span><span style="color:#e6db74">]&#34;</span>
}
</code></pre></div><h2 id="dispatchersmainimmediate">Dispatchers.Main.immediate</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#a6e22e">@JvmStatic</span>
<span style="color:#75715e">//这里的dispatcher就是下面的HandlerContext实例
</span><span style="color:#75715e"></span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">actual</span> <span style="color:#66d9ef">val</span> Main: MainCoroutineDispatcher <span style="color:#66d9ef">get</span>() = MainDispatcherLoader.dispatcher

MainDispatcherLoader
<span style="color:#66d9ef">val</span> dispatcher: MainCoroutineDispatcher = loadMainDispatcher()
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MainCoroutineDispatcher</span> : CoroutineDispatcher() {
  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">val</span> immediate: MainCoroutineDispatcher
}

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">sealed</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HandlerDispatcher</span> : MainCoroutineDispatcher(), Delay {
  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">val</span> immediate: HandlerDispatcher
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HandlerContext</span> <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">constructor</span>(
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">val</span> handler: Handler,
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">val</span> name: String?,
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">val</span> invokeImmediately: Boolean
) : HandlerDispatcher(), Delay {

<span style="color:#a6e22e">@Volatile</span>
<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">var</span> _immediate: HandlerContext? = <span style="color:#66d9ef">if</span> (invokeImmediately) <span style="color:#66d9ef">this</span> <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">null</span>

<span style="color:#66d9ef">override</span> <span style="color:#66d9ef">val</span> immediate: HandlerContext = _immediate <span style="color:#f92672">?:</span>
        HandlerContext(handler, name, <span style="color:#66d9ef">true</span>).also { _immediate = <span style="color:#66d9ef">it</span> }
  
<span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">isDispatchNeeded</span>(context: CoroutineContext): Boolean {
    <span style="color:#66d9ef">return</span> <span style="color:#f92672">!in</span>vokeImmediately <span style="color:#f92672">||</span> Looper.myLooper() <span style="color:#f92672">!=</span> handler.looper
}
</code></pre></div><p>协程resume时根据dispatcher.isDispatchNeeded判断是否需要dispatch</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin">DispatchedContinuation
<span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">resumeCancellable</span>(value: T) {
    <span style="color:#66d9ef">if</span> (dispatcher.isDispatchNeeded(context)) {<span style="color:#75715e">//main
</span><span style="color:#75715e"></span>        _state = value
        resumeMode = MODE_CANCELLABLE
        dispatcher.dispatch(context, <span style="color:#66d9ef">this</span>)
    } <span style="color:#66d9ef">else</span> {
        executeUnconfined(value, MODE_CANCELLABLE) {
            <span style="color:#66d9ef">if</span> (!resumeCancelled()) {
                resumeUndispatched(value)
            }
        }
    }
}
</code></pre></div><h2 id="coroutinestackframe">CoroutineStackFrame</h2>
<p>发生异常时用于恢复协程堆栈</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">actual</span> <span style="color:#66d9ef">typealias</span> CoroutineStackFrame = kotlin.coroutines.jvm.<span style="color:#66d9ef">internal</span>.CoroutineStackFrame
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Represents one frame in the coroutine call stack for debugger.
</span><span style="color:#75715e"> * This interface is implemented by compiler-generated implementations of
</span><span style="color:#75715e"> * [Continuation] interface.
</span><span style="color:#75715e"> */</span>
<span style="color:#a6e22e">@SinceKotlin</span>(<span style="color:#e6db74">&#34;1.3&#34;</span>)
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">CoroutineStackFrame</span> {
    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * Returns a reference to the stack frame of the caller of this frame,
</span><span style="color:#75715e">     * that is a frame before this frame in coroutine call stack.
</span><span style="color:#75715e">     * The result is `null` for the first frame of coroutine.
</span><span style="color:#75715e">     */</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">val</span> callerFrame: CoroutineStackFrame?

    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * Returns stack trace element that correspond to this stack frame.
</span><span style="color:#75715e">     * The result is `null` if the stack trace element is not available for this frame.
</span><span style="color:#75715e">     * In this case, the debugger represents this stack frame using the
</span><span style="color:#75715e">     * result of [toString] function.
</span><span style="color:#75715e">     */</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">getStackTraceElement</span>(): StackTraceElement?
}
</code></pre></div><p>DispatchedTask.run</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">run</span>() {
    <span style="color:#66d9ef">val</span> taskContext = <span style="color:#66d9ef">this</span>.taskContext
    <span style="color:#66d9ef">var</span> fatalException: Throwable? = <span style="color:#66d9ef">null</span>
        withCoroutineContext(context, <span style="color:#66d9ef">delegate</span>.countOrElement) {
            <span style="color:#66d9ef">val</span> exception = getExceptionalResult(state)
            <span style="color:#66d9ef">val</span> job = <span style="color:#66d9ef">if</span> (resumeMode.isCancellableMode) context[Job] <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">null</span>
            <span style="color:#75715e">/*
</span><span style="color:#75715e">             * Check whether continuation was originally resumed with an exception.
</span><span style="color:#75715e">             * If so, it dominates cancellation, otherwise the original exception
</span><span style="color:#75715e">             * will be silently lost.
</span><span style="color:#75715e">             */</span>
            <span style="color:#66d9ef">if</span> (exception <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">&amp;&amp;</span> job <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">&amp;&amp;</span> !job.isActive) {
                <span style="color:#66d9ef">val</span> cause = job.getCancellationException()
                cancelResult(state, cause)
                continuation.resumeWithStackTrace(cause)
            } <span style="color:#66d9ef">else</span> {
                <span style="color:#66d9ef">if</span> (exception <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) continuation.resumeWithStackTrace(exception)<span style="color:#75715e">//main
</span><span style="color:#75715e"></span>                <span style="color:#66d9ef">else</span> continuation.resume(getSuccessfulResult(state))
            }
        }
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">inline</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">Continuation</span>&lt;*&gt;.resumeWithStackTrace(exception: Throwable) {
    resumeWith(Result.failure(recoverStackTrace(exception, <span style="color:#66d9ef">this</span>)))
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">internal</span> <span style="color:#66d9ef">actual</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">E</span> : <span style="color:#a6e22e">Throwable</span>&gt; <span style="color:#a6e22e">recoverStackTrace</span>(exception: E, continuation: Continuation&lt;*&gt;): E {
    <span style="color:#66d9ef">if</span> (!RECOVER_STACK_TRACES <span style="color:#f92672">||</span> continuation <span style="color:#f92672">!is</span> CoroutineStackFrame) <span style="color:#66d9ef">return</span> exception
    <span style="color:#66d9ef">return</span> recoverFromStackFrame(exception, continuation)
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">fun</span> &lt;<span style="color:#a6e22e">E</span> : <span style="color:#a6e22e">Throwable</span>&gt; <span style="color:#a6e22e">recoverFromStackFrame</span>(exception: E, continuation: CoroutineStackFrame): E {
    <span style="color:#75715e">/*
</span><span style="color:#75715e">    * Here we are checking whether exception has already recovered stacktrace.
</span><span style="color:#75715e">    * If so, we extract initial and merge recovered stacktrace and current one
</span><span style="color:#75715e">    */</span>
    <span style="color:#66d9ef">val</span> <span style="color:#960050;background-color:#1e0010">(</span>cause, recoveredStacktrace) = exception.causeAndStacktrace()

    <span style="color:#75715e">// Try to create an exception of the same type and get stacktrace from continuation
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">val</span> newException = tryCopyException(cause) <span style="color:#f92672">?:</span> <span style="color:#66d9ef">return</span> exception
    <span style="color:#66d9ef">val</span> stacktrace = createStackTrace(continuation)
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">createStackTrace</span>(continuation: CoroutineStackFrame): ArrayDeque&lt;StackTraceElement&gt; {
    <span style="color:#66d9ef">val</span> stack = ArrayDeque&lt;StackTraceElement&gt;()
    continuation.getStackTraceElement()<span style="color:#f92672">?.</span>let { stack.add(<span style="color:#66d9ef">it</span>) }

    <span style="color:#66d9ef">var</span> last = continuation
    <span style="color:#66d9ef">while</span> (<span style="color:#66d9ef">true</span>) {
        last = (last <span style="color:#66d9ef">as</span>? CoroutineStackFrame)<span style="color:#f92672">?.</span>callerFrame <span style="color:#f92672">?:</span> <span style="color:#66d9ef">break</span>
        last.getStackTraceElement()<span style="color:#f92672">?.</span>let { stack.add(<span style="color:#66d9ef">it</span>) }
    }
    <span style="color:#66d9ef">return</span> stack
}
</code></pre></div>

<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/en/kotlin/coroutine/kotlin%E5%8D%8F%E7%A8%8B/" title="kotlin协程"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/en/kotlin/coroutine/kotlin%E5%8D%8F%E7%A8%8B%E5%8F%96%E6%B6%88/" title="kotlin协程取消" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1623151670"></script>
    <script src="/js/perfect-scrollbar.min.js?1623151670"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1623151670"></script>
    <script src="/js/jquery.sticky.js?1623151670"></script>
    <script src="/js/featherlight.min.js?1623151670"></script>
    <script src="/js/highlight.pack.js?1623151670"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1623151670"></script>
    <script src="/js/learn.js?1623151670"></script>
    <script src="/js/hugo-learn.js?1623151670"></script>
    
        
            <script src="/mermaid/mermaid.js?1623151670"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

