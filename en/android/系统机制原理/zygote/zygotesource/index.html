<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.80.0" />
    <meta name="description" content="Documentation for Hugo Learn Theme">
<meta name="author" content="Mathieu Cornic">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>ZygoteSource :: 郑欢的学习总结</title>

    
    <link href="/css/nucleus.css?1611382670" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1611382670" rel="stylesheet">
    <link href="/css/hybrid.css?1611382670" rel="stylesheet">
    <link href="/css/featherlight.min.css?1611382670" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1611382670" rel="stylesheet">
    <link href="/css/auto-complete.css?1611382670" rel="stylesheet">
    <link href="/css/atom-one-dark.css?1611382670" rel="stylesheet">
    <link href="/css/theme.css?1611382670" rel="stylesheet">
    <link href="/css/hugo-theme.css?1611382670" rel="stylesheet">
    
    <link href="/css/theme-mine.css?1611382670" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1611382670"></script>

    <script src="/js/auto_toc_scroll.js?1611382670"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    

  </head>
  <body class="" data-url="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/zygote/zygotesource/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href='/en'>
    <img src="/avatar.png" width="60px" />
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1611382670"></script>
<script type="text/javascript" src="/js/auto-complete.js?1611382670"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/huanle19891345.github.io\/\/en";
    
</script>
<script type="text/javascript" src="/js/search.js?1611382670"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/en/android/" title="android" class="dd-item
        parent
        
        
        ">
      <a href="/en/android/">
          android
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/google/" title="google" class="dd-item
        
        
        
        ">
      <a href="/en/android/google/">
          google
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/google/supporttoandroidx/" title="supportToAndroidx" class="dd-item ">
        <a href="/en/android/google/supporttoandroidx/">
        supportToAndroidx
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/" title="系统机制原理" class="dd-item
        parent
        
        
        ">
      <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/">
          系统机制原理
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/ashmem/" title="ashmem" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/ashmem/">
          ashmem
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/ashmem/%E5%8C%BF%E5%90%8D%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98ashmem/" title="匿名共享内存Ashmem" class="dd-item ">
        <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/ashmem/%E5%8C%BF%E5%90%8D%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98ashmem/">
        匿名共享内存Ashmem
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/bitmap/" title="bitmap" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/bitmap/">
          bitmap
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/bitmap/bitmap/" title="Bitmap" class="dd-item ">
        <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/bitmap/bitmap/">
        Bitmap
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/bitmap/bitmapsource/" title="BitmapSource" class="dd-item ">
        <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/bitmap/bitmapsource/">
        BitmapSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/handler/" title="handler" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/handler/">
          handler
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/handler/looper/" title="Looper" class="dd-item ">
        <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/handler/looper/">
        Looper
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/handler/threadlocal/" title="ThreadLocal" class="dd-item ">
        <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/handler/threadlocal/">
        ThreadLocal
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/input/" title="input" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/input/">
          input
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/input/toucheventnative/" title="touchEventNative" class="dd-item ">
        <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/input/toucheventnative/">
        touchEventNative
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/zygote/" title="zygote" class="dd-item
        parent
        
        
        ">
      <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/zygote/">
          zygote
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/zygote/systemserversource/" title="SystemServerSource" class="dd-item ">
        <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/zygote/systemserversource/">
        SystemServerSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/zygote/zygotesource/" title="ZygoteSource" class="dd-item active">
        <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/zygote/zygotesource/">
        ZygoteSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/zygote/zygote%E8%BF%9B%E7%A8%8B/" title="Zygote进程" class="dd-item ">
        <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/zygote/zygote%E8%BF%9B%E7%A8%8B/">
        Zygote进程
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E5%A4%9A%E8%BF%9B%E7%A8%8B/" title="多进程" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E5%A4%9A%E8%BF%9B%E7%A8%8B/">
          多进程
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/" title="binder" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/">
          binder
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/binderclient/" title="BinderClient" class="dd-item ">
        <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/binderclient/">
        BinderClient
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/binderdeath/" title="BinderDeath" class="dd-item ">
        <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/binderdeath/">
        BinderDeath
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/binderkernel/" title="BinderKernel" class="dd-item ">
        <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/binderkernel/">
        BinderKernel
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/binderserver/" title="BinderServer" class="dd-item ">
        <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/binderserver/">
        BinderServer
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/binderservicemanager/" title="BinderServiceManager" class="dd-item ">
        <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/binderservicemanager/">
        BinderServiceManager
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/binder%E5%8E%9F%E7%90%86/" title="Binder原理" class="dd-item ">
        <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/binder%E5%8E%9F%E7%90%86/">
        Binder原理
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E5%A4%9A%E8%BF%9B%E7%A8%8B/mmkv/" title="mmkv" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E5%A4%9A%E8%BF%9B%E7%A8%8B/mmkv/">
          mmkv
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E5%A4%9A%E8%BF%9B%E7%A8%8B/mmkv/mmkv/" title="MMKV" class="dd-item ">
        <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E5%A4%9A%E8%BF%9B%E7%A8%8B/mmkv/mmkv/">
        MMKV
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/" title="系统绘制" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/">
          系统绘制
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/graphics/" title="Graphics" class="dd-item ">
        <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/graphics/">
        Graphics
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/vsync/" title="Vsync" class="dd-item ">
        <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/vsync/">
        Vsync
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/vsync_surfaceflinger/" title="Vsync_SurfaceFlinger" class="dd-item ">
        <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/vsync_surfaceflinger/">
        Vsync_SurfaceFlinger
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/%E7%A1%AC%E4%BB%B6%E5%8A%A0%E9%80%9F%E7%BB%98%E5%88%B6/" title="硬件加速绘制" class="dd-item ">
        <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/%E7%A1%AC%E4%BB%B6%E5%8A%A0%E9%80%9F%E7%BB%98%E5%88%B6/">
        硬件加速绘制
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/%E7%BB%98%E5%88%B6%E5%8E%9F%E7%90%86/" title="绘制原理" class="dd-item ">
        <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/%E7%BB%98%E5%88%B6%E5%8E%9F%E7%90%86/">
        绘制原理
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/%E8%BD%AF%E4%BB%B6%E7%BB%98%E5%88%B6/" title="软件绘制" class="dd-item ">
        <a href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/%E8%BD%AF%E4%BB%B6%E7%BB%98%E5%88%B6/">
        软件绘制
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/" title="跨平台" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/">
          跨平台
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/" title="flutter" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/">
          flutter
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E9%80%9A%E4%BF%A1/" title="通信" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E9%80%9A%E4%BF%A1/">
          通信
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E9%80%9A%E4%BF%A1/flutter%E6%B6%88%E6%81%AF%E6%9C%BA%E5%88%B6/" title="Flutter消息机制" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E9%80%9A%E4%BF%A1/flutter%E6%B6%88%E6%81%AF%E6%9C%BA%E5%88%B6/">
        Flutter消息机制
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://github.com/huanle19891345"><i class='fab fa-fw fa-github'></i> GitHub repo</a>
              </li>
          
              <li>
                  <a class="padding" href="https://huanle19891345.github.io/en/showcase"><i class='fas fa-fw fa-camera'></i> Showcases</a>
              </li>
          
              <li>
                  <a class="padding" href="https://gohugo.io/"><i class='fas fa-fw fa-bookmark'></i> Hugo Documentation</a>
              </li>
          
              <li>
                  <a class="padding" href="https://huanle19891345.github.io/en/credits"><i class='fas fa-fw fa-bullhorn'></i> Credits</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      

      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/en/'>技术探索总结</a> > <a href='/en/android/'>android</a> > <a href='/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/'>系统机制原理</a> > <a href='/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/zygote/'>zygote</a> > ZygoteSource
          
        
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#原理图">原理图</a></li>
    <li><a href="#zygoteinitmain">ZygoteInit.main</a>
      <ul>
        <li><a href="#forksystemserver">forkSystemServer</a></li>
        <li><a href="#systemserver">SystemServer</a>
          <ul>
            <li><a href="#handlesystemserverprocess">handleSystemServerProcess</a></li>
            <li><a href="#zygoteinit">zygoteInit</a>
              <ul>
                <li><a href="#runtimeinitcommoninit">RuntimeInit.commonInit</a></li>
                <li><a href="#nativezygoteinit">nativeZygoteInit</a></li>
                <li><a href="#runtimeinitapplicationinit">RuntimeInit.applicationInit</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#zygoteserver">ZygoteServer</a>
          <ul>
            <li><a href="#runselectloop">runSelectLoop</a></li>
            <li><a href="#zygoteconnectionprocessonecommand">ZygoteConnection.processOneCommand</a></li>
          </ul>
        </li>
        <li><a href="#childprocess">ChildProcess</a>
          <ul>
            <li><a href="#handlechildproc">handleChildProc</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#参考">参考</a>
      <ul>
        <li><a href="#zygote为什么使用socket不用binder">Zygote为什么使用Socket不用Binder</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              ZygoteSource
            </h1>
          

        


<h2 id="原理图">原理图</h2>
<p><img src="/img/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/zygote/zygotesource.assets/zygote_fork_process.png" alt=""></p>
<h2 id="zygoteinitmain">ZygoteInit.main</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String argv<span style="color:#f92672">[])</span> <span style="color:#f92672">{</span>
        ZygoteServer zygoteServer <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ZygoteServer<span style="color:#f92672">();</span>
           <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 1<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> argv<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
                <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;start-system-server&#34;</span><span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>argv<span style="color:#f92672">[</span>i<span style="color:#f92672">]))</span> <span style="color:#f92672">{</span>
                    startSystemServer <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span>
                <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;--enable-lazy-preload&#34;</span><span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>argv<span style="color:#f92672">[</span>i<span style="color:#f92672">]))</span> <span style="color:#f92672">{</span>
                    enableLazyPreload <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span>
                <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>argv<span style="color:#f92672">[</span>i<span style="color:#f92672">].</span><span style="color:#a6e22e">startsWith</span><span style="color:#f92672">(</span>ABI_LIST_ARG<span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
                    abiList <span style="color:#f92672">=</span> argv<span style="color:#f92672">[</span>i<span style="color:#f92672">].</span><span style="color:#a6e22e">substring</span><span style="color:#f92672">(</span>ABI_LIST_ARG<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">());</span>
                <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>argv<span style="color:#f92672">[</span>i<span style="color:#f92672">].</span><span style="color:#a6e22e">startsWith</span><span style="color:#f92672">(</span>SOCKET_NAME_ARG<span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
                    socketName <span style="color:#f92672">=</span> argv<span style="color:#f92672">[</span>i<span style="color:#f92672">].</span><span style="color:#a6e22e">substring</span><span style="color:#f92672">(</span>SOCKET_NAME_ARG<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">());</span>
                <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
                    <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> RuntimeException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Unknown command line argument: &#34;</span> <span style="color:#f92672">+</span> argv<span style="color:#f92672">[</span>i<span style="color:#f92672">]);</span>
                <span style="color:#f92672">}</span>
            <span style="color:#f92672">}</span>
        
        zygoteServer<span style="color:#f92672">.</span><span style="color:#a6e22e">registerServerSocketFromEnv</span><span style="color:#f92672">(</span>socketName<span style="color:#f92672">);</span>
        
            <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>startSystemServer<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                Runnable r <span style="color:#f92672">=</span> forkSystemServer<span style="color:#f92672">(</span>abiList<span style="color:#f92672">,</span> socketName<span style="color:#f92672">,</span> zygoteServer<span style="color:#f92672">);</span>

                <span style="color:#75715e">// {@code r == null} in the parent (zygote) process, and {@code r != null} in the
</span><span style="color:#75715e"></span>                <span style="color:#75715e">// child (system_server) process.
</span><span style="color:#75715e"></span>                <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>r <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                    r<span style="color:#f92672">.</span><span style="color:#a6e22e">run</span><span style="color:#f92672">();</span>
                    <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
                <span style="color:#f92672">}</span>
            <span style="color:#f92672">}</span>
            Log<span style="color:#f92672">.</span><span style="color:#a6e22e">i</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Accepting command socket connections&#34;</span><span style="color:#f92672">);</span>

            <span style="color:#75715e">// The select loop returns early in the child process after a fork and
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// loops forever in the zygote.
</span><span style="color:#75715e"></span>            caller <span style="color:#f92672">=</span> zygoteServer<span style="color:#f92672">.</span><span style="color:#a6e22e">runSelectLoop</span><span style="color:#f92672">(</span>abiList<span style="color:#f92672">);</span>
            <span style="color:#75715e">// We&#39;re in the child process and have exited the select loop. Proceed to execute the
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// command.
</span><span style="color:#75715e"></span>       		  <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>caller <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                caller<span style="color:#f92672">.</span><span style="color:#a6e22e">run</span><span style="color:#f92672">();</span>
            <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
</code></pre></div><h3 id="forksystemserver">forkSystemServer</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> Runnable <span style="color:#a6e22e">forkSystemServer</span><span style="color:#f92672">(</span>String abiList<span style="color:#f92672">,</span> String socketName<span style="color:#f92672">,</span>
            ZygoteServer zygoteServer<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">/* Request to fork the system server process */</span>
            pid <span style="color:#f92672">=</span> Zygote<span style="color:#f92672">.</span><span style="color:#a6e22e">forkSystemServer</span><span style="color:#f92672">(</span>
                    parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">uid</span><span style="color:#f92672">,</span> parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">gid</span><span style="color:#f92672">,</span>
                    parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">gids</span><span style="color:#f92672">,</span>
                    parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">runtimeFlags</span><span style="color:#f92672">,</span>
                    <span style="color:#66d9ef">null</span><span style="color:#f92672">,</span>
                    parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">permittedCapabilities</span><span style="color:#f92672">,</span>
                    parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">effectiveCapabilities</span><span style="color:#f92672">);</span>
        
                <span style="color:#75715e">/* For child process */</span>
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>pid <span style="color:#f92672">==</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>hasSecondZygote<span style="color:#f92672">(</span>abiList<span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
                waitForSecondaryZygote<span style="color:#f92672">(</span>socketName<span style="color:#f92672">);</span>
            <span style="color:#f92672">}</span>

            zygoteServer<span style="color:#f92672">.</span><span style="color:#a6e22e">closeServerSocket</span><span style="color:#f92672">();</span>
            <span style="color:#66d9ef">return</span> handleSystemServerProcess<span style="color:#f92672">(</span>parsedArgs<span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
       
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">   <span style="color:#75715e">/** @return 0 if this is the child, pid of the child
</span><span style="color:#75715e">     * if this is the parent, or -1 on error.
</span><span style="color:#75715e">      */</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">forkSystemServer</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> uid<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> gid<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">[]</span> gids<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> runtimeFlags<span style="color:#f92672">,</span>
            <span style="color:#66d9ef">int</span><span style="color:#f92672">[][]</span> rlimits<span style="color:#f92672">,</span> <span style="color:#66d9ef">long</span> permittedCapabilities<span style="color:#f92672">,</span> <span style="color:#66d9ef">long</span> effectiveCapabilities<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">int</span> pid <span style="color:#f92672">=</span> nativeForkSystemServer<span style="color:#f92672">(</span>
                uid<span style="color:#f92672">,</span> gid<span style="color:#f92672">,</span> gids<span style="color:#f92672">,</span> runtimeFlags<span style="color:#f92672">,</span> rlimits<span style="color:#f92672">,</span> permittedCapabilities<span style="color:#f92672">,</span> effectiveCapabilities<span style="color:#f92672">);</span>
        <span style="color:#75715e">// Enable tracing as soon as we enter the system_server.
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>pid <span style="color:#f92672">==</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            Trace<span style="color:#f92672">.</span><span style="color:#a6e22e">setTracingEnabled</span><span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">,</span> runtimeFlags<span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
     <span style="color:#66d9ef">return</span> pid<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><h3 id="systemserver">SystemServer</h3>
<h4 id="handlesystemserverprocess">handleSystemServerProcess</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Finish remaining work for the newly forked system server process.
</span><span style="color:#75715e"> */</span>
<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> Runnable <span style="color:#a6e22e">handleSystemServerProcess</span><span style="color:#f92672">(</span>ZygoteConnection<span style="color:#f92672">.</span><span style="color:#a6e22e">Arguments</span> parsedArgs<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            ClassLoader cl <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
            <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>systemServerClasspath <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                cl <span style="color:#f92672">=</span> createPathClassLoader<span style="color:#f92672">(</span>systemServerClasspath<span style="color:#f92672">,</span> parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">targetSdkVersion</span><span style="color:#f92672">);</span>

                Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">currentThread</span><span style="color:#f92672">().</span><span style="color:#a6e22e">setContextClassLoader</span><span style="color:#f92672">(</span>cl<span style="color:#f92672">);</span>
            <span style="color:#f92672">}</span>

            <span style="color:#75715e">/*
</span><span style="color:#75715e">             * Pass the remaining arguments to SystemServer.
</span><span style="color:#75715e">             */</span>
            <span style="color:#66d9ef">return</span> ZygoteInit<span style="color:#f92672">.</span><span style="color:#a6e22e">zygoteInit</span><span style="color:#f92672">(</span>parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">targetSdkVersion</span><span style="color:#f92672">,</span> parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">remainingArgs</span><span style="color:#f92672">,</span> cl<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span>
</code></pre></div><h4 id="zygoteinit">zygoteInit</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> Runnable <span style="color:#a6e22e">zygoteInit</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> targetSdkVersion<span style="color:#f92672">,</span> String<span style="color:#f92672">[]</span> argv<span style="color:#f92672">,</span> ClassLoader classLoader<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        Slog<span style="color:#f92672">.</span><span style="color:#a6e22e">d</span><span style="color:#f92672">(</span>RuntimeInit<span style="color:#f92672">.</span><span style="color:#a6e22e">TAG</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;RuntimeInit: Starting application from zygote&#34;</span><span style="color:#f92672">);</span>

        RuntimeInit<span style="color:#f92672">.</span><span style="color:#a6e22e">commonInit</span><span style="color:#f92672">();</span>
        ZygoteInit<span style="color:#f92672">.</span><span style="color:#a6e22e">nativeZygoteInit</span><span style="color:#f92672">();</span>
        <span style="color:#66d9ef">return</span> RuntimeInit<span style="color:#f92672">.</span><span style="color:#a6e22e">applicationInit</span><span style="color:#f92672">(</span>targetSdkVersion<span style="color:#f92672">,</span> argv<span style="color:#f92672">,</span> classLoader<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
</code></pre></div><h5 id="runtimeinitcommoninit">RuntimeInit.commonInit</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@UnsupportedAppUsage</span>
<span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">commonInit</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    <span style="color:#75715e">/*
</span><span style="color:#75715e">     * set handlers; these apply to all threads in the VM. Apps can replace
</span><span style="color:#75715e">     * the default handler, but not the pre handler.
</span><span style="color:#75715e">     */</span>
    LoggingHandler loggingHandler <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> LoggingHandler<span style="color:#f92672">();</span>
    RuntimeHooks<span style="color:#f92672">.</span><span style="color:#a6e22e">setUncaughtExceptionPreHandler</span><span style="color:#f92672">(</span>loggingHandler<span style="color:#f92672">);</span>
    Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">setDefaultUncaughtExceptionHandler</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> KillApplicationHandler<span style="color:#f92672">(</span>loggingHandler<span style="color:#f92672">));</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>frameworks/base/core/jni/AndroidRuntime.cpp</p>
<h5 id="nativezygoteinit">nativeZygoteInit</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">com_android_internal_os_ZygoteInit_nativeZygoteInit</span>(JNIEnv<span style="color:#f92672">*</span> env, jobject clazz)
{
    gCurRuntime<span style="color:#f92672">-&gt;</span>onZygoteInit();
}
</code></pre></div><p>frameworks/base/cmds/app_process/app_main.cpp</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">    <span style="color:#66d9ef">virtual</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onZygoteInit</span>()
    {
        sp<span style="color:#f92672">&lt;</span>ProcessState<span style="color:#f92672">&gt;</span> proc <span style="color:#f92672">=</span> ProcessState<span style="color:#f92672">::</span>self();
        ALOGV(<span style="color:#e6db74">&#34;App process: starting thread pool.</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>);
        proc<span style="color:#f92672">-&gt;</span>startThreadPool();
    }
</code></pre></div><h5 id="runtimeinitapplicationinit">RuntimeInit.applicationInit</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">static</span> Runnable <span style="color:#a6e22e">applicationInit</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> targetSdkVersion<span style="color:#f92672">,</span> String<span style="color:#f92672">[]</span> argv<span style="color:#f92672">,</span>
            ClassLoader classLoader<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// If the application calls System.exit(), terminate the process
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// immediately without running any shutdown hooks.  It is not possible to
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// shutdown an Android application gracefully.  Among other things, the
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// Android runtime shutdown hooks close the Binder driver, which can cause
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// leftover running threads to crash before the process actually exits.
</span><span style="color:#75715e"></span>        nativeSetExitWithoutCleanup<span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">);</span>

        <span style="color:#75715e">// We want to be fairly aggressive about heap utilization, to avoid
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// holding on to a lot of memory that isn&#39;t needed.
</span><span style="color:#75715e"></span>        VMRuntime<span style="color:#f92672">.</span><span style="color:#a6e22e">getRuntime</span><span style="color:#f92672">().</span><span style="color:#a6e22e">setTargetHeapUtilization</span><span style="color:#f92672">(</span>0<span style="color:#f92672">.</span><span style="color:#a6e22e">75f</span><span style="color:#f92672">);</span>
        VMRuntime<span style="color:#f92672">.</span><span style="color:#a6e22e">getRuntime</span><span style="color:#f92672">().</span><span style="color:#a6e22e">setTargetSdkVersion</span><span style="color:#f92672">(</span>targetSdkVersion<span style="color:#f92672">);</span>

        <span style="color:#66d9ef">final</span> Arguments args <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Arguments<span style="color:#f92672">(</span>argv<span style="color:#f92672">);</span>

        <span style="color:#75715e">// The end of of the RuntimeInit event (see #zygoteInit).
</span><span style="color:#75715e"></span>        Trace<span style="color:#f92672">.</span><span style="color:#a6e22e">traceEnd</span><span style="color:#f92672">(</span>Trace<span style="color:#f92672">.</span><span style="color:#a6e22e">TRACE_TAG_ACTIVITY_MANAGER</span><span style="color:#f92672">);</span>

        <span style="color:#75715e">// Remaining arguments are passed to the start class&#39;s static main
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> findStaticMain<span style="color:#f92672">(</span>args<span style="color:#f92672">.</span><span style="color:#a6e22e">startClass</span><span style="color:#f92672">,</span> args<span style="color:#f92672">.</span><span style="color:#a6e22e">startArgs</span><span style="color:#f92672">,</span> classLoader<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">//ActivityThread的全类名由AMS startProcess时写入到socket，zygoteServer再读取，传递过来    
</span><span style="color:#75715e"></span><span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">static</span> Runnable <span style="color:#a6e22e">findStaticMain</span><span style="color:#f92672">(</span>String className<span style="color:#f92672">,</span> String<span style="color:#f92672">[]</span> argv<span style="color:#f92672">,</span>
            ClassLoader classLoader<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        cl <span style="color:#f92672">=</span> Class<span style="color:#f92672">.</span><span style="color:#a6e22e">forName</span><span style="color:#f92672">(</span>className<span style="color:#f92672">,</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">,</span> classLoader<span style="color:#f92672">);</span>
        
        
        Method m<span style="color:#f92672">;</span>
         m <span style="color:#f92672">=</span> cl<span style="color:#f92672">.</span><span style="color:#a6e22e">getMethod</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;main&#34;</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">new</span> Class<span style="color:#f92672">[]</span> <span style="color:#f92672">{</span> String<span style="color:#f92672">[].</span><span style="color:#a6e22e">class</span> <span style="color:#f92672">});</span>
         <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> MethodAndArgsCaller<span style="color:#f92672">(</span>m<span style="color:#f92672">,</span> argv<span style="color:#f92672">);</span>
</code></pre></div><h3 id="zygoteserver">ZygoteServer</h3>
<h4 id="runselectloop">runSelectLoop</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * Runs the zygote process&#39;s select loop. Accepts new connections as
</span><span style="color:#75715e">     * they happen, and reads commands from connections one spawn-request&#39;s
</span><span style="color:#75715e">     * worth at a time.
</span><span style="color:#75715e">     */</span>
    Runnable <span style="color:#a6e22e">runSelectLoop</span><span style="color:#f92672">(</span>String abiList<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        ArrayList<span style="color:#f92672">&lt;</span>FileDescriptor<span style="color:#f92672">&gt;</span> fds <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;</span>FileDescriptor<span style="color:#f92672">&gt;();</span>
        ArrayList<span style="color:#f92672">&lt;</span>ZygoteConnection<span style="color:#f92672">&gt;</span> peers <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;</span>ZygoteConnection<span style="color:#f92672">&gt;();</span>

        fds<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>mServerSocket<span style="color:#f92672">.</span><span style="color:#a6e22e">getFileDescriptor</span><span style="color:#f92672">());</span>
        peers<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#66d9ef">null</span><span style="color:#f92672">);</span>
        
        <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            StructPollfd<span style="color:#f92672">[]</span> pollFds <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> StructPollfd<span style="color:#f92672">[</span>fds<span style="color:#f92672">.</span><span style="color:#a6e22e">size</span><span style="color:#f92672">()];</span>
            <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> pollFds<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span> <span style="color:#f92672">++</span>i<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                pollFds<span style="color:#f92672">[</span>i<span style="color:#f92672">]</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> StructPollfd<span style="color:#f92672">();</span>
                pollFds<span style="color:#f92672">[</span>i<span style="color:#f92672">].</span><span style="color:#a6e22e">fd</span> <span style="color:#f92672">=</span> fds<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>i<span style="color:#f92672">);</span>
                pollFds<span style="color:#f92672">[</span>i<span style="color:#f92672">].</span><span style="color:#a6e22e">events</span> <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">short</span><span style="color:#f92672">)</span> POLLIN<span style="color:#f92672">;</span>
            <span style="color:#f92672">}</span>
            <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
                Os<span style="color:#f92672">.</span><span style="color:#a6e22e">poll</span><span style="color:#f92672">(</span>pollFds<span style="color:#f92672">,</span> <span style="color:#f92672">-</span>1<span style="color:#f92672">);</span>
            <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>ErrnoException ex<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> RuntimeException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;poll failed&#34;</span><span style="color:#f92672">,</span> ex<span style="color:#f92672">);</span>
            <span style="color:#f92672">}</span>
            
           <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> pollFds<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">-</span> 1<span style="color:#f92672">;</span> i <span style="color:#f92672">&gt;=</span> 0<span style="color:#f92672">;</span> <span style="color:#f92672">--</span>i<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                <span style="color:#66d9ef">if</span> <span style="color:#f92672">((</span>pollFds<span style="color:#f92672">[</span>i<span style="color:#f92672">].</span><span style="color:#a6e22e">revents</span> <span style="color:#f92672">&amp;</span> POLLIN<span style="color:#f92672">)</span> <span style="color:#f92672">==</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                    <span style="color:#66d9ef">continue</span><span style="color:#f92672">;</span>
                <span style="color:#f92672">}</span>
                <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>i <span style="color:#f92672">==</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                    ZygoteConnection newPeer <span style="color:#f92672">=</span> acceptCommandPeer<span style="color:#f92672">(</span>abiList<span style="color:#f92672">);</span>
                    peers<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>newPeer<span style="color:#f92672">);</span>
                    fds<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>newPeer<span style="color:#f92672">.</span><span style="color:#a6e22e">getFileDesciptor</span><span style="color:#f92672">());</span>
                <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
                    <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
                        ZygoteConnection connection <span style="color:#f92672">=</span> peers<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>i<span style="color:#f92672">);</span>
                        <span style="color:#66d9ef">final</span> Runnable command <span style="color:#f92672">=</span> connection<span style="color:#f92672">.</span><span style="color:#a6e22e">processOneCommand</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">);</span>
                    <span style="color:#f92672">}</span>
                <span style="color:#f92672">}</span>
           <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span>
</code></pre></div><h4 id="zygoteconnectionprocessonecommand">ZygoteConnection.processOneCommand</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * Reads one start command from the command socket. If successful, a child is forked and a
</span><span style="color:#75715e">     * {@code Runnable} that calls the childs main method (or equivalent) is returned in the child
</span><span style="color:#75715e">     * process. {@code null} is always returned in the parent process (the zygote).
</span><span style="color:#75715e">     */</span>
 Runnable <span style="color:#a6e22e">processOneCommand</span><span style="color:#f92672">(</span>ZygoteServer zygoteServer<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
             pid <span style="color:#f92672">=</span> Zygote<span style="color:#f92672">.</span><span style="color:#a6e22e">forkAndSpecialize</span><span style="color:#f92672">(</span>parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">uid</span><span style="color:#f92672">,</span> parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">gid</span><span style="color:#f92672">,</span> parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">gids</span><span style="color:#f92672">,</span>
                parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">runtimeFlags</span><span style="color:#f92672">,</span> rlimits<span style="color:#f92672">,</span> parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">mountExternal</span><span style="color:#f92672">,</span> parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">seInfo</span><span style="color:#f92672">,</span>
                parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">niceName</span><span style="color:#f92672">,</span> fdsToClose<span style="color:#f92672">,</span> fdsToIgnore<span style="color:#f92672">,</span> parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">startChildZygote</span><span style="color:#f92672">,</span>
                parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">instructionSet</span><span style="color:#f92672">,</span> parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">appDataDir</span><span style="color:#f92672">);</span>
     
           <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>pid <span style="color:#f92672">==</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                <span style="color:#75715e">// in child
</span><span style="color:#75715e"></span>                zygoteServer<span style="color:#f92672">.</span><span style="color:#a6e22e">setForkChild</span><span style="color:#f92672">();</span>

                zygoteServer<span style="color:#f92672">.</span><span style="color:#a6e22e">closeServerSocket</span><span style="color:#f92672">();</span>
                IoUtils<span style="color:#f92672">.</span><span style="color:#a6e22e">closeQuietly</span><span style="color:#f92672">(</span>serverPipeFd<span style="color:#f92672">);</span>
                serverPipeFd <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>

                <span style="color:#66d9ef">return</span> handleChildProc<span style="color:#f92672">(</span>parsedArgs<span style="color:#f92672">,</span> descriptors<span style="color:#f92672">,</span> childPipeFd<span style="color:#f92672">,</span>
                        parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">startChildZygote</span><span style="color:#f92672">);</span>
            <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
                <span style="color:#75715e">// In the parent. A pid &lt; 0 indicates a failure and will be handled in
</span><span style="color:#75715e"></span>                <span style="color:#75715e">// handleParentProc.
</span><span style="color:#75715e"></span>                IoUtils<span style="color:#f92672">.</span><span style="color:#a6e22e">closeQuietly</span><span style="color:#f92672">(</span>childPipeFd<span style="color:#f92672">);</span>
                childPipeFd <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
                handleParentProc<span style="color:#f92672">(</span>pid<span style="color:#f92672">,</span> descriptors<span style="color:#f92672">,</span> serverPipeFd<span style="color:#f92672">);</span>
                <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
            <span style="color:#f92672">}</span>
</code></pre></div><h3 id="childprocess">ChildProcess</h3>
<h4 id="handlechildproc">handleChildProc</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">   <span style="color:#66d9ef">private</span> Runnable <span style="color:#a6e22e">handleChildProc</span><span style="color:#f92672">(</span>Arguments parsedArgs<span style="color:#f92672">,</span> FileDescriptor<span style="color:#f92672">[]</span> descriptors<span style="color:#f92672">,</span>
            FileDescriptor pipeFd<span style="color:#f92672">,</span> <span style="color:#66d9ef">boolean</span> isZygote<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
       
          <span style="color:#66d9ef">if</span> <span style="color:#f92672">(!</span>isZygote<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                <span style="color:#66d9ef">return</span> ZygoteInit<span style="color:#f92672">.</span><span style="color:#a6e22e">zygoteInit</span><span style="color:#f92672">(</span>parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">targetSdkVersion</span><span style="color:#f92672">,</span> parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">remainingArgs</span><span style="color:#f92672">,</span>
                        <span style="color:#66d9ef">null</span> <span style="color:#75715e">/* classLoader */</span><span style="color:#f92672">);</span>
            <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
                <span style="color:#66d9ef">return</span> ZygoteInit<span style="color:#f92672">.</span><span style="color:#a6e22e">childZygoteInit</span><span style="color:#f92672">(</span>parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">targetSdkVersion</span><span style="color:#f92672">,</span>
                        parsedArgs<span style="color:#f92672">.</span><span style="color:#a6e22e">remainingArgs</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">null</span> <span style="color:#75715e">/* classLoader */</span><span style="color:#f92672">);</span>
            <span style="color:#f92672">}</span>
      
</code></pre></div><p><a href="#zygoteinit">zygoteinit</a></p>
<h2 id="参考">参考</h2>
<p>&laquo;深入理解Android 卷1 4.4.1ActivityManagerService发送请求&gt;</p>
<h3 id="zygote为什么使用socket不用binder">Zygote为什么使用Socket不用Binder</h3>
<p><a href="http://www.doublersolutions.com/docs/dce/osfdocs/htmls/develop/appdev/Appde193.htm">fork()不支持多线程</a>，如果使用Binder则fork()时可能会丢弃binder线程池中的任务或造成死锁，而通过socket进行单线程可以解决这个问题</p>
<p>安全性?</p>
<p>RuntimeInit.main //没啥机会调用到</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@UnsupportedAppUsage</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> argv<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    enableDdms<span style="color:#f92672">();</span>

    commonInit<span style="color:#f92672">();</span>

    <span style="color:#75715e">/*
</span><span style="color:#75715e">     * Now that we&#39;re running in interpreted code, call back into native code
</span><span style="color:#75715e">     * to run the system.
</span><span style="color:#75715e">     */</span>
    nativeFinishInit<span style="color:#f92672">();</span>
<span style="color:#f92672">}</span>
</code></pre></div>

<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/zygote/systemserversource/" title="SystemServerSource"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/en/android/%E7%B3%BB%E7%BB%9F%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86/zygote/zygote%E8%BF%9B%E7%A8%8B/" title="Zygote进程" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1611382670"></script>
    <script src="/js/perfect-scrollbar.min.js?1611382670"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1611382670"></script>
    <script src="/js/jquery.sticky.js?1611382670"></script>
    <script src="/js/featherlight.min.js?1611382670"></script>
    <script src="/js/highlight.pack.js?1611382670"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1611382670"></script>
    <script src="/js/learn.js?1611382670"></script>
    <script src="/js/hugo-learn.js?1611382670"></script>
    
        
            <script src="/mermaid/mermaid.js?1611382670"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

