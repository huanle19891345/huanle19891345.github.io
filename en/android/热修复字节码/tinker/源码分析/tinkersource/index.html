<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.80.0" />
    <meta name="description" content="Documentation for Hugo Learn Theme">
<meta name="author" content="Mathieu Cornic">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>TinkerSource :: 郑欢的学习总结</title>

    
    <link href="/css/nucleus.css?1622447484" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1622447484" rel="stylesheet">
    <link href="/css/hybrid.css?1622447484" rel="stylesheet">
    <link href="/css/featherlight.min.css?1622447484" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1622447484" rel="stylesheet">
    <link href="/css/auto-complete.css?1622447484" rel="stylesheet">
    <link href="/css/atom-one-dark.css?1622447484" rel="stylesheet">
    <link href="/css/theme.css?1622447484" rel="stylesheet">
    <link href="/css/hugo-theme.css?1622447484" rel="stylesheet">
    
    <link href="/css/theme-mine.css?1622447484" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1622447484"></script>

    <script src="/js/auto_toc_scroll.js?1622447484"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    

  </head>
  <body class="" data-url="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/tinkersource/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href='/en'>
    <img src="/avatar.png" width="60px" />
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1622447484"></script>
<script type="text/javascript" src="/js/auto-complete.js?1622447484"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/huanle19891345.github.io\/\/en";
    
</script>
<script type="text/javascript" src="/js/search.js?1622447484"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/en/android/" title="android" class="dd-item
        parent
        
        
        ">
      <a href="/en/android/">
          android
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/aop/" title="aop" class="dd-item
        
        
        
        ">
      <a href="/en/android/aop/">
          aop
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/aop/asm%E8%AE%BF%E5%AE%A2%E8%80%85%E6%A8%A1%E5%BC%8F/" title="ASM访客者模式" class="dd-item ">
        <a href="/en/android/aop/asm%E8%AE%BF%E5%AE%A2%E8%80%85%E6%A8%A1%E5%BC%8F/">
        ASM访客者模式
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/aop/jdk%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/" title="JDK动态代理" class="dd-item ">
        <a href="/en/android/aop/jdk%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/">
        JDK动态代理
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/aop/%E7%BC%96%E8%AF%91%E6%8F%92%E6%A1%A9%E5%92%8C%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/" title="编译插桩和动态代理" class="dd-item ">
        <a href="/en/android/aop/%E7%BC%96%E8%AF%91%E6%8F%92%E6%A1%A9%E5%92%8C%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86/">
        编译插桩和动态代理
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/art/" title="art" class="dd-item
        
        
        
        ">
      <a href="/en/android/art/">
          art
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/art/1%E7%B1%BB%E7%BC%96%E8%AF%91/" title="1类编译" class="dd-item
        
        
        
        ">
      <a href="/en/android/art/1%E7%B1%BB%E7%BC%96%E8%AF%91/">
          1类编译
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/1%E7%B1%BB%E7%BC%96%E8%AF%91/dex2oat/" title="dex2oat" class="dd-item ">
        <a href="/en/android/art/1%E7%B1%BB%E7%BC%96%E8%AF%91/dex2oat/">
        dex2oat
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/1%E7%B1%BB%E7%BC%96%E8%AF%91/dex2oat%E4%BB%8B%E7%BB%8D/" title="dex2oat介绍" class="dd-item ">
        <a href="/en/android/art/1%E7%B1%BB%E7%BC%96%E8%AF%91/dex2oat%E4%BB%8B%E7%BB%8D/">
        dex2oat介绍
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/art/2%E7%B1%BB%E5%8A%A0%E8%BD%BD/" title="2类加载" class="dd-item
        
        
        
        ">
      <a href="/en/android/art/2%E7%B1%BB%E5%8A%A0%E8%BD%BD/">
          2类加载
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/2%E7%B1%BB%E5%8A%A0%E8%BD%BD/android_n%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91%E4%B8%8E%E5%AF%B9%E7%83%AD%E8%A1%A5%E4%B8%81%E5%BD%B1%E5%93%8D%E8%A7%A3%E6%9E%90/" title="Android_N混合编译与对热补丁影响解析" class="dd-item ">
        <a href="/en/android/art/2%E7%B1%BB%E5%8A%A0%E8%BD%BD/android_n%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91%E4%B8%8E%E5%AF%B9%E7%83%AD%E8%A1%A5%E4%B8%81%E5%BD%B1%E5%93%8D%E8%A7%A3%E6%9E%90/">
        Android_N混合编译与对热补丁影响解析
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/2%E7%B1%BB%E5%8A%A0%E8%BD%BD/%E7%B1%BB%E5%8A%A0%E8%BD%BD/" title="类加载" class="dd-item ">
        <a href="/en/android/art/2%E7%B1%BB%E5%8A%A0%E8%BD%BD/%E7%B1%BB%E5%8A%A0%E8%BD%BD/">
        类加载
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/2%E7%B1%BB%E5%8A%A0%E8%BD%BD/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%B1%82/" title="类加载虚拟机层" class="dd-item ">
        <a href="/en/android/art/2%E7%B1%BB%E5%8A%A0%E8%BD%BD/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%B1%82/">
        类加载虚拟机层
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/art/alloc_gc/" title="alloc_gc" class="dd-item
        
        
        
        ">
      <a href="/en/android/art/alloc_gc/">
          alloc_gc
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/alloc_gc/1space/" title="1Space" class="dd-item ">
        <a href="/en/android/art/alloc_gc/1space/">
        1Space
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/alloc_gc/2alloc/" title="2Alloc" class="dd-item ">
        <a href="/en/android/art/alloc_gc/2alloc/">
        2Alloc
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/alloc_gc/allocrelated/" title="AllocRelated" class="dd-item ">
        <a href="/en/android/art/alloc_gc/allocrelated/">
        AllocRelated
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/alloc_gc/gc/" title="GC" class="dd-item ">
        <a href="/en/android/art/alloc_gc/gc/">
        GC
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/alloc_gc/gc1_ms_cms/" title="GC1_MS_CMS" class="dd-item ">
        <a href="/en/android/art/alloc_gc/gc1_ms_cms/">
        GC1_MS_CMS
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/alloc_gc/gc2_concurrentcopying/" title="GC2_ConcurrentCopying" class="dd-item ">
        <a href="/en/android/art/alloc_gc/gc2_concurrentcopying/">
        GC2_ConcurrentCopying
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/alloc_gc/gc3_markcompact/" title="GC3_MarkCompact" class="dd-item ">
        <a href="/en/android/art/alloc_gc/gc3_markcompact/">
        GC3_MarkCompact
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/alloc_gc/gc4_semi_space/" title="GC4_Semi_Space" class="dd-item ">
        <a href="/en/android/art/alloc_gc/gc4_semi_space/">
        GC4_Semi_Space
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/alloc_gc/runtime_visitroots/" title="Runtime_VisitRoots" class="dd-item ">
        <a href="/en/android/art/alloc_gc/runtime_visitroots/">
        Runtime_VisitRoots
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/art_lock/" title="ART_Lock" class="dd-item ">
        <a href="/en/android/art/art_lock/">
        ART_Lock
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/art/jni/" title="jni" class="dd-item
        
        
        
        ">
      <a href="/en/android/art/jni/">
          jni
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/jni/_%E8%A7%A3%E9%87%8A%E6%89%A7%E8%A1%8C7_0/" title="_解释执行7_0" class="dd-item ">
        <a href="/en/android/art/jni/_%E8%A7%A3%E9%87%8A%E6%89%A7%E8%A1%8C7_0/">
        _解释执行7_0
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/jni/java_jni%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%E5%8E%9F%E7%90%86/" title="java_jni方法调用原理" class="dd-item ">
        <a href="/en/android/art/jni/java_jni%E6%96%B9%E6%B3%95%E8%B0%83%E7%94%A8%E5%8E%9F%E7%90%86/">
        java_jni方法调用原理
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/jni/jni%E6%95%B0%E6%8D%AE%E8%BD%AC%E6%8D%A2/" title="Jni数据转换" class="dd-item ">
        <a href="/en/android/art/jni/jni%E6%95%B0%E6%8D%AE%E8%BD%AC%E6%8D%A2/">
        Jni数据转换
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/jni/systemloadlibrary/" title="SystemLoadLibrary" class="dd-item ">
        <a href="/en/android/art/jni/systemloadlibrary/">
        SystemLoadLibrary
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/jni/%E5%BC%82%E5%B8%B8/" title="异常" class="dd-item ">
        <a href="/en/android/art/jni/%E5%BC%82%E5%B8%B8/">
        异常
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/art/%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/" title="启动流程" class="dd-item
        
        
        
        ">
      <a href="/en/android/art/%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/">
          启动流程
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/art%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/" title="ART启动流程" class="dd-item ">
        <a href="/en/android/art/%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/art%E5%90%AF%E5%8A%A8%E6%B5%81%E7%A8%8B/">
        ART启动流程
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="基础数据结构" class="dd-item ">
        <a href="/en/android/art/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">
        基础数据结构
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/art/%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91_%E8%BF%90%E8%A1%8C/" title="混合编译_运行" class="dd-item
        
        
        
        ">
      <a href="/en/android/art/%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91_%E8%BF%90%E8%A1%8C/">
          混合编译_运行
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91_%E8%BF%90%E8%A1%8C/jvm_jit/" title="JVM_JIT" class="dd-item ">
        <a href="/en/android/art/%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91_%E8%BF%90%E8%A1%8C/jvm_jit/">
        JVM_JIT
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/art/%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91_%E8%BF%90%E8%A1%8C/%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91_%E8%BF%90%E8%A1%8C/" title="混合编译_运行" class="dd-item ">
        <a href="/en/android/art/%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91_%E8%BF%90%E8%A1%8C/%E6%B7%B7%E5%90%88%E7%BC%96%E8%AF%91_%E8%BF%90%E8%A1%8C/">
        混合编译_运行
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/gradlejenkins/" title="gradlejenkins" class="dd-item
        
        
        
        ">
      <a href="/en/android/gradlejenkins/">
          gradlejenkins
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/gradlejenkins/androidplugin/" title="AndroidPlugin" class="dd-item ">
        <a href="/en/android/gradlejenkins/androidplugin/">
        AndroidPlugin
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/gradlejenkins/android%E6%89%93%E5%8C%85/" title="android打包" class="dd-item
        
        
        
        ">
      <a href="/en/android/gradlejenkins/android%E6%89%93%E5%8C%85/">
          android打包
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/gradlejenkins/android%E6%89%93%E5%8C%85/android%E6%89%93%E5%8C%85/" title="Android打包" class="dd-item ">
        <a href="/en/android/gradlejenkins/android%E6%89%93%E5%8C%85/android%E6%89%93%E5%8C%85/">
        Android打包
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/gradlejenkins/gradledebug/" title="GradleDebug" class="dd-item ">
        <a href="/en/android/gradlejenkins/gradledebug/">
        GradleDebug
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/gradlejenkins/gradleplugin/" title="GradlePlugin" class="dd-item ">
        <a href="/en/android/gradlejenkins/gradleplugin/">
        GradlePlugin
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/gradlejenkins/gradle%E6%89%93%E5%8C%85%E8%BF%87%E7%A8%8B/" title="Gradle打包过程" class="dd-item ">
        <a href="/en/android/gradlejenkins/gradle%E6%89%93%E5%8C%85%E8%BF%87%E7%A8%8B/">
        Gradle打包过程
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/gradlejenkins/transform/" title="Transform" class="dd-item ">
        <a href="/en/android/gradlejenkins/transform/">
        Transform
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/jetpack/" title="jetpack" class="dd-item
        
        
        
        ">
      <a href="/en/android/jetpack/">
          jetpack
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/jetpack/arch/" title="arch" class="dd-item
        
        
        
        ">
      <a href="/en/android/jetpack/arch/">
          arch
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/coroutines/" title="Coroutines" class="dd-item ">
        <a href="/en/android/jetpack/arch/coroutines/">
        Coroutines
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/jetpack/arch/databinding/" title="databinding" class="dd-item
        
        
        
        ">
      <a href="/en/android/jetpack/arch/databinding/">
          databinding
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/databinding/databinding/" title="Databinding" class="dd-item ">
        <a href="/en/android/jetpack/arch/databinding/databinding/">
        Databinding
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/databinding/twowaydatabinding/" title="TwoWayDataBinding" class="dd-item ">
        <a href="/en/android/jetpack/arch/databinding/twowaydatabinding/">
        TwoWayDataBinding
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/jetpack/arch/di/" title="di" class="dd-item
        
        
        
        ">
      <a href="/en/android/jetpack/arch/di/">
          di
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/di/di/" title="DI" class="dd-item ">
        <a href="/en/android/jetpack/arch/di/di/">
        DI
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/di/hiltsource/" title="HiltSource" class="dd-item ">
        <a href="/en/android/jetpack/arch/di/hiltsource/">
        HiltSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/jetpack/arch/lifecycle/" title="lifecycle" class="dd-item
        
        
        
        ">
      <a href="/en/android/jetpack/arch/lifecycle/">
          lifecycle
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/lifecycle/lifecycle/" title="Lifecycle" class="dd-item ">
        <a href="/en/android/jetpack/arch/lifecycle/lifecycle/">
        Lifecycle
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/lifecycle/lifecyclecoroutine/" title="LifecycleCoroutine" class="dd-item ">
        <a href="/en/android/jetpack/arch/lifecycle/lifecyclecoroutine/">
        LifecycleCoroutine
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/jetpack/arch/livedata/" title="livedata" class="dd-item
        
        
        
        ">
      <a href="/en/android/jetpack/arch/livedata/">
          livedata
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/livedata/livedata/" title="LiveData" class="dd-item ">
        <a href="/en/android/jetpack/arch/livedata/livedata/">
        LiveData
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/livedata/livedatacoroutine/" title="LiveDataCoroutine" class="dd-item ">
        <a href="/en/android/jetpack/arch/livedata/livedatacoroutine/">
        LiveDataCoroutine
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/livedata/mediatorlivedata/" title="MediatorLiveData" class="dd-item ">
        <a href="/en/android/jetpack/arch/livedata/mediatorlivedata/">
        MediatorLiveData
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/livedata/transformations/" title="Transformations" class="dd-item ">
        <a href="/en/android/jetpack/arch/livedata/transformations/">
        Transformations
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/jetpack/arch/viewmodel/" title="viewmodel" class="dd-item
        
        
        
        ">
      <a href="/en/android/jetpack/arch/viewmodel/">
          viewmodel
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/viewmodel/saveandrestoreinstancestate/" title="SaveAndRestoreInstanceState" class="dd-item ">
        <a href="/en/android/jetpack/arch/viewmodel/saveandrestoreinstancestate/">
        SaveAndRestoreInstanceState
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/viewmodel/savedstatehandle/" title="SavedStateHandle" class="dd-item ">
        <a href="/en/android/jetpack/arch/viewmodel/savedstatehandle/">
        SavedStateHandle
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/viewmodel/savingstates/" title="SavingStates" class="dd-item ">
        <a href="/en/android/jetpack/arch/viewmodel/savingstates/">
        SavingStates
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/viewmodel/viewmodel/" title="ViewModel" class="dd-item ">
        <a href="/en/android/jetpack/arch/viewmodel/viewmodel/">
        ViewModel
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/viewmodel/viewmodelscope_delegate/" title="ViewModelScope_Delegate" class="dd-item ">
        <a href="/en/android/jetpack/arch/viewmodel/viewmodelscope_delegate/">
        ViewModelScope_Delegate
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/jetpack/arch/%E6%9E%B6%E6%9E%84%E5%AE%9E%E7%8E%B0/" title="架构实现" class="dd-item
        
        
        
        ">
      <a href="/en/android/jetpack/arch/%E6%9E%B6%E6%9E%84%E5%AE%9E%E7%8E%B0/">
          架构实现
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/%E6%9E%B6%E6%9E%84%E5%AE%9E%E7%8E%B0/kaptgenerateviewmodel/" title="KaptGenerateViewModel" class="dd-item ">
        <a href="/en/android/jetpack/arch/%E6%9E%B6%E6%9E%84%E5%AE%9E%E7%8E%B0/kaptgenerateviewmodel/">
        KaptGenerateViewModel
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/%E6%9E%B6%E6%9E%84%E5%AE%9E%E7%8E%B0/%E6%9E%B6%E6%9E%84%E6%80%9D%E8%80%83%E5%92%8C%E5%AE%9E%E7%8E%B0/" title="架构思考和实现" class="dd-item ">
        <a href="/en/android/jetpack/arch/%E6%9E%B6%E6%9E%84%E5%AE%9E%E7%8E%B0/%E6%9E%B6%E6%9E%84%E6%80%9D%E8%80%83%E5%92%8C%E5%AE%9E%E7%8E%B0/">
        架构思考和实现
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/arch/%E6%9E%B6%E6%9E%84%E5%AE%9E%E7%8E%B0/%E6%9E%B6%E6%9E%84%E6%80%9D%E8%80%83%E5%92%8C%E5%AE%9E%E7%8E%B0inner/" title="架构思考和实现Inner" class="dd-item ">
        <a href="/en/android/jetpack/arch/%E6%9E%B6%E6%9E%84%E5%AE%9E%E7%8E%B0/%E6%9E%B6%E6%9E%84%E6%80%9D%E8%80%83%E5%92%8C%E5%AE%9E%E7%8E%B0inner/">
        架构思考和实现Inner
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/jetpack/compose/" title="compose" class="dd-item
        
        
        
        ">
      <a href="/en/android/jetpack/compose/">
          compose
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/compose/compose/" title="Compose" class="dd-item ">
        <a href="/en/android/jetpack/compose/compose/">
        Compose
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/compose/composesource/" title="ComposeSource" class="dd-item ">
        <a href="/en/android/jetpack/compose/composesource/">
        ComposeSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/compose/layoutnode/" title="LayoutNode" class="dd-item ">
        <a href="/en/android/jetpack/compose/layoutnode/">
        LayoutNode
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/compose/recomposition/" title="ReComposition" class="dd-item ">
        <a href="/en/android/jetpack/compose/recomposition/">
        ReComposition
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/jetpack/supporttoandroidx/" title="SupportToAndroidx" class="dd-item ">
        <a href="/en/android/jetpack/supporttoandroidx/">
        SupportToAndroidx
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/ndk/" title="ndk" class="dd-item
        
        
        
        ">
      <a href="/en/android/ndk/">
          ndk
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/ndk/elf%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84/" title="ELF文件结构" class="dd-item ">
        <a href="/en/android/ndk/elf%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84/">
        ELF文件结构
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/ndk/jni/" title="JNI" class="dd-item ">
        <a href="/en/android/ndk/jni/">
        JNI
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/ndk/native_hook/" title="native_hook" class="dd-item ">
        <a href="/en/android/ndk/native_hook/">
        native_hook
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/" title="system" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/">
          system
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/ashmem/" title="ashmem" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/ashmem/">
          ashmem
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/ashmem/%E5%8C%BF%E5%90%8D%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98ashmem/" title="匿名共享内存Ashmem" class="dd-item ">
        <a href="/en/android/system/ashmem/%E5%8C%BF%E5%90%8D%E5%85%B1%E4%BA%AB%E5%86%85%E5%AD%98ashmem/">
        匿名共享内存Ashmem
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/bitmap/" title="bitmap" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/bitmap/">
          bitmap
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/bitmap/bitmap/" title="Bitmap" class="dd-item ">
        <a href="/en/android/system/bitmap/bitmap/">
        Bitmap
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/bitmap/bitmapsource/" title="BitmapSource" class="dd-item ">
        <a href="/en/android/system/bitmap/bitmapsource/">
        BitmapSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/handler/" title="handler" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/handler/">
          handler
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/handler/epoll/" title="Epoll" class="dd-item ">
        <a href="/en/android/system/handler/epoll/">
        Epoll
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/handler/looper/" title="Looper" class="dd-item ">
        <a href="/en/android/system/handler/looper/">
        Looper
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/handler/threadlocal/" title="ThreadLocal" class="dd-item ">
        <a href="/en/android/system/handler/threadlocal/">
        ThreadLocal
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/input/" title="input" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/input/">
          input
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/input/toucheventnative/" title="touchEventNative" class="dd-item ">
        <a href="/en/android/system/input/toucheventnative/">
        touchEventNative
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/kernel/" title="kernel" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/kernel/">
          kernel
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/kernel/kernel/" title="kernel" class="dd-item ">
        <a href="/en/android/system/kernel/kernel/">
        kernel
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/layoutinflater/" title="layoutinflater" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/layoutinflater/">
          layoutinflater
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/layoutinflater/layoutinflater/" title="LayoutInflater" class="dd-item ">
        <a href="/en/android/system/layoutinflater/layoutinflater/">
        LayoutInflater
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/surfaceview/" title="surfaceview" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/surfaceview/">
          surfaceview
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/surfaceview/surfaceviewsource/" title="SurfaceViewSource" class="dd-item ">
        <a href="/en/android/system/surfaceview/surfaceviewsource/">
        SurfaceViewSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/textureview/" title="textureview" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/textureview/">
          textureview
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/textureview/textureviewsource/" title="TextureViewSource" class="dd-item ">
        <a href="/en/android/system/textureview/textureviewsource/">
        TextureViewSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/thread/" title="thread" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/thread/">
          thread
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/thread/stacktraceelement/" title="StackTraceElement" class="dd-item ">
        <a href="/en/android/system/thread/stacktraceelement/">
        StackTraceElement
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/thread/threadstate/" title="ThreadState" class="dd-item ">
        <a href="/en/android/system/thread/threadstate/">
        ThreadState
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/zygote/" title="zygote" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/zygote/">
          zygote
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/zygote/systemserversource/" title="SystemServerSource" class="dd-item ">
        <a href="/en/android/system/zygote/systemserversource/">
        SystemServerSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/zygote/zygotesource/" title="ZygoteSource" class="dd-item ">
        <a href="/en/android/system/zygote/zygotesource/">
        ZygoteSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/zygote/zygote%E8%BF%9B%E7%A8%8B/" title="Zygote进程" class="dd-item ">
        <a href="/en/android/system/zygote/zygote%E8%BF%9B%E7%A8%8B/">
        Zygote进程
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/%E5%90%8E%E5%8F%B0%E4%BB%BB%E5%8A%A1/" title="后台任务" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/%E5%90%8E%E5%8F%B0%E4%BB%BB%E5%8A%A1/">
          后台任务
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E5%90%8E%E5%8F%B0%E4%BB%BB%E5%8A%A1/%E5%90%8E%E5%8F%B0%E4%BB%BB%E5%8A%A1%E5%A4%84%E7%90%86/" title="后台任务处理" class="dd-item ">
        <a href="/en/android/system/%E5%90%8E%E5%8F%B0%E4%BB%BB%E5%8A%A1/%E5%90%8E%E5%8F%B0%E4%BB%BB%E5%8A%A1%E5%A4%84%E7%90%86/">
        后台任务处理
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/" title="多进程" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/">
          多进程
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/" title="binder" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/">
          binder
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/1binderservicemanager/" title="1BinderServiceManager" class="dd-item ">
        <a href="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/1binderservicemanager/">
        1BinderServiceManager
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/2binderserver/" title="2BinderServer" class="dd-item ">
        <a href="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/2binderserver/">
        2BinderServer
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/3binderclient/" title="3BinderClient" class="dd-item ">
        <a href="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/3binderclient/">
        3BinderClient
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/4binderkernel/" title="4BinderKernel" class="dd-item ">
        <a href="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/4binderkernel/">
        4BinderKernel
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/binderdeath/" title="BinderDeath" class="dd-item ">
        <a href="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/binderdeath/">
        BinderDeath
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/binder%E5%8E%9F%E7%90%86/" title="Binder原理" class="dd-item ">
        <a href="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/binder/binder%E5%8E%9F%E7%90%86/">
        Binder原理
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/mmkv/" title="mmkv" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/mmkv/">
          mmkv
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/mmkv/mmkv/" title="MMKV" class="dd-item ">
        <a href="/en/android/system/%E5%A4%9A%E8%BF%9B%E7%A8%8B/mmkv/mmkv/">
        MMKV
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/%E5%BA%94%E7%94%A8%E5%90%AF%E5%8A%A8%E9%80%80%E5%87%BA/" title="应用启动退出" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/%E5%BA%94%E7%94%A8%E5%90%AF%E5%8A%A8%E9%80%80%E5%87%BA/">
          应用启动退出
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E5%BA%94%E7%94%A8%E5%90%AF%E5%8A%A8%E9%80%80%E5%87%BA/%E5%BA%94%E7%94%A8%E5%90%AF%E5%8A%A8/" title="应用启动" class="dd-item ">
        <a href="/en/android/system/%E5%BA%94%E7%94%A8%E5%90%AF%E5%8A%A8%E9%80%80%E5%87%BA/%E5%BA%94%E7%94%A8%E5%90%AF%E5%8A%A8/">
        应用启动
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/%E6%BA%90%E7%A0%81%E7%A0%94%E7%A9%B6%E6%96%B9%E6%B3%95/" title="源码研究方法" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/%E6%BA%90%E7%A0%81%E7%A0%94%E7%A9%B6%E6%96%B9%E6%B3%95/">
          源码研究方法
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E6%BA%90%E7%A0%81%E7%A0%94%E7%A9%B6%E6%96%B9%E6%B3%95/syscall%E6%9F%A5%E6%89%BE%E6%96%B9%E5%BC%8F/" title="Syscall查找方式" class="dd-item ">
        <a href="/en/android/system/%E6%BA%90%E7%A0%81%E7%A0%94%E7%A9%B6%E6%96%B9%E6%B3%95/syscall%E6%9F%A5%E6%89%BE%E6%96%B9%E5%BC%8F/">
        Syscall查找方式
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/" title="系统绘制" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/">
          系统绘制
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/graphics/" title="Graphics" class="dd-item ">
        <a href="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/graphics/">
        Graphics
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/measurelayoutdraw/" title="measurelayoutdraw" class="dd-item
        
        
        
        ">
      <a href="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/measurelayoutdraw/">
          measurelayoutdraw
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/measurelayoutdraw/measure/" title="measure" class="dd-item ">
        <a href="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/measurelayoutdraw/measure/">
        measure
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/vsync/" title="Vsync" class="dd-item ">
        <a href="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/vsync/">
        Vsync
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/vsync_surfaceflinger/" title="Vsync_SurfaceFlinger" class="dd-item ">
        <a href="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/vsync_surfaceflinger/">
        Vsync_SurfaceFlinger
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/%E7%A1%AC%E4%BB%B6%E5%8A%A0%E9%80%9F%E7%BB%98%E5%88%B6/" title="硬件加速绘制" class="dd-item ">
        <a href="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/%E7%A1%AC%E4%BB%B6%E5%8A%A0%E9%80%9F%E7%BB%98%E5%88%B6/">
        硬件加速绘制
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/%E7%BB%98%E5%88%B6%E5%8E%9F%E7%90%86/" title="绘制原理" class="dd-item ">
        <a href="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/%E7%BB%98%E5%88%B6%E5%8E%9F%E7%90%86/">
        绘制原理
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/%E8%BD%AF%E4%BB%B6%E7%BB%98%E5%88%B6/" title="软件绘制" class="dd-item ">
        <a href="/en/android/system/%E7%B3%BB%E7%BB%9F%E7%BB%98%E5%88%B6/%E8%BD%AF%E4%BB%B6%E7%BB%98%E5%88%B6/">
        软件绘制
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/ui/" title="ui" class="dd-item
        
        
        
        ">
      <a href="/en/android/ui/">
          ui
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/ui/webview/" title="webview" class="dd-item
        
        
        
        ">
      <a href="/en/android/ui/webview/">
          webview
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/ui/webview/webview/" title="WebView" class="dd-item ">
        <a href="/en/android/ui/webview/webview/">
        WebView
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/ui/%E5%8A%A8%E7%94%BB/" title="动画" class="dd-item
        
        
        
        ">
      <a href="/en/android/ui/%E5%8A%A8%E7%94%BB/">
          动画
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/ui/%E5%8A%A8%E7%94%BB/animatorsource/" title="AnimatorSource" class="dd-item ">
        <a href="/en/android/ui/%E5%8A%A8%E7%94%BB/animatorsource/">
        AnimatorSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E5%8C%85%E4%BD%93%E7%A7%AF/" title="包体积" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E5%8C%85%E4%BD%93%E7%A7%AF/">
          包体积
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E5%8C%85%E4%BD%93%E7%A7%AF/%E5%8C%85%E4%BD%93%E7%A7%AF%E5%8E%8B%E7%BC%A9/" title="包体积压缩" class="dd-item ">
        <a href="/en/android/%E5%8C%85%E4%BD%93%E7%A7%AF/%E5%8C%85%E4%BD%93%E7%A7%AF%E5%8E%8B%E7%BC%A9/">
        包体积压缩
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E5%9F%8B%E7%82%B9/" title="埋点" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E5%9F%8B%E7%82%B9/">
          埋点
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E5%9F%8B%E7%82%B9/%E5%9F%8B%E7%82%B9/" title="埋点" class="dd-item ">
        <a href="/en/android/%E5%9F%8B%E7%82%B9/%E5%9F%8B%E7%82%B9/">
        埋点
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E5%9F%8B%E7%82%B9/%E6%98%93%E8%A7%82%E6%96%B9%E8%88%9F/" title="易观方舟" class="dd-item ">
        <a href="/en/android/%E5%9F%8B%E7%82%B9/%E6%98%93%E8%A7%82%E6%96%B9%E8%88%9F/">
        易观方舟
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E5%AD%98%E5%82%A8/" title="存储" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E5%AD%98%E5%82%A8/">
          存储
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E5%AD%98%E5%82%A8/sharedpreferences/" title="sharedpreferences" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E5%AD%98%E5%82%A8/sharedpreferences/">
          sharedpreferences
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E5%AD%98%E5%82%A8/sharedpreferences/sharedpreferences/" title="SharedPreferences" class="dd-item ">
        <a href="/en/android/%E5%AD%98%E5%82%A8/sharedpreferences/sharedpreferences/">
        SharedPreferences
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E5%AE%89%E5%85%A8/" title="安全" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E5%AE%89%E5%85%A8/">
          安全
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E5%AE%89%E5%85%A8/app%E7%AD%BE%E5%90%8D/" title="app签名" class="dd-item ">
        <a href="/en/android/%E5%AE%89%E5%85%A8/app%E7%AD%BE%E5%90%8D/">
        app签名
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E5%AE%89%E5%85%A8/%E5%BA%94%E7%94%A8%E5%AE%89%E5%85%A8/" title="应用安全" class="dd-item ">
        <a href="/en/android/%E5%AE%89%E5%85%A8/%E5%BA%94%E7%94%A8%E5%AE%89%E5%85%A8/">
        应用安全
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E5%AE%89%E5%85%A8/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E5%AE%89%E5%85%A8/" title="网络请求安全" class="dd-item ">
        <a href="/en/android/%E5%AE%89%E5%85%A8/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E5%AE%89%E5%85%A8/">
        网络请求安全
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" title="性能优化" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">
          性能优化
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/" title="apm" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/">
          apm
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/matrixgradleplugin/" title="MatrixGradlePlugin" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/matrixgradleplugin/">
        MatrixGradlePlugin
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/matrixsource/" title="MatrixSource" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/matrixsource/">
        MatrixSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/matrix%E6%8E%A5%E5%85%A5%E5%90%8E%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/" title="Matrix接入后遇到的问题" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/matrix%E6%8E%A5%E5%85%A5%E5%90%8E%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/">
        Matrix接入后遇到的问题
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/matrix%E7%A0%94%E7%A9%B6/" title="Matrix研究" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/matrix%E7%A0%94%E7%A9%B6/">
        Matrix研究
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/resource/" title="resource" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/resource/">
          resource
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/resource/matrixresourceplugin/" title="MatrixResourcePlugin" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/apm/resource/matrixresourceplugin/">
        MatrixResourcePlugin
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/" title="内存优化" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/">
          内存优化
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/dumphprof/" title="DumpHprof" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/dumphprof/">
        DumpHprof
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/hprof_binary_dump_format/" title="Hprof_binary_dump_format" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/hprof_binary_dump_format/">
        Hprof_binary_dump_format
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/koomsource/" title="KOOMSource" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/koomsource/">
        KOOMSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/leakcanary2/" title="LeakCanary2" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/leakcanary2/">
        LeakCanary2
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/leakcanary2analyze/" title="LeakCanary2Analyze" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/leakcanary2analyze/">
        LeakCanary2Analyze
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/managememory/" title="manageMemory" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/managememory/">
        manageMemory
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/oom/" title="OOM" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%86%85%E5%AD%98%E4%BC%98%E5%8C%96/oom/">
        OOM
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%B8%83%E5%B1%80%E4%BC%98%E5%8C%96/" title="布局优化" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%B8%83%E5%B1%80%E4%BC%98%E5%8C%96/">
          布局优化
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%B8%83%E5%B1%80%E4%BC%98%E5%8C%96/%E5%B8%83%E5%B1%80%E4%BC%98%E5%8C%96/" title="布局优化" class="dd-item ">
        <a href="/en/android/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/%E5%B8%83%E5%B1%80%E4%BC%98%E5%8C%96/%E5%B8%83%E5%B1%80%E4%BC%98%E5%8C%96/">
        布局优化
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/" title="插件化" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/">
          插件化
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/apk%E5%AE%89%E8%A3%85%E5%92%8C%E5%8D%B8%E8%BD%BD/" title="apk安装和卸载" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/apk%E5%AE%89%E8%A3%85%E5%92%8C%E5%8D%B8%E8%BD%BD/">
          apk安装和卸载
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/apk%E5%AE%89%E8%A3%85%E5%92%8C%E5%8D%B8%E8%BD%BD/%E5%BA%94%E7%94%A8%E5%AE%89%E8%A3%85%E5%92%8C%E5%8D%B8%E8%BD%BD%E8%BF%87%E7%A8%8B/" title="应用安装和卸载过程" class="dd-item ">
        <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/apk%E5%AE%89%E8%A3%85%E5%92%8C%E5%8D%B8%E8%BD%BD/%E5%BA%94%E7%94%A8%E5%AE%89%E8%A3%85%E5%92%8C%E5%8D%B8%E8%BD%BD%E8%BF%87%E7%A8%8B/">
        应用安装和卸载过程
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/hook/" title="Hook" class="dd-item ">
        <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/hook/">
        Hook
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/qigsaw/" title="qigsaw" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/qigsaw/">
          qigsaw
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/qigsaw/qigsaw/" title="Qigsaw" class="dd-item ">
        <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/qigsaw/qigsaw/">
        Qigsaw
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/shadow/" title="shadow" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/shadow/">
          shadow
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/shadow/shadow/" title="Shadow" class="dd-item ">
        <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/shadow/shadow/">
        Shadow
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/shadow/shadowplugin/" title="ShadowPlugin" class="dd-item ">
        <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/shadow/shadowplugin/">
        ShadowPlugin
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/shadow/shadowsource/" title="ShadowSource" class="dd-item ">
        <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/shadow/shadowsource/">
        ShadowSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/%E6%8F%92%E4%BB%B6%E5%8C%96%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B/" title="插件化技术选型" class="dd-item ">
        <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/%E6%8F%92%E4%BB%B6%E5%8C%96%E6%8A%80%E6%9C%AF%E9%80%89%E5%9E%8B/">
        插件化技术选型
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/%E6%8F%92%E4%BB%B6%E5%8C%96%E9%9D%A2%E4%B8%B4%E7%9A%84%E9%97%AE%E9%A2%98/" title="插件化面临的问题" class="dd-item ">
        <a href="/en/android/%E6%8F%92%E4%BB%B6%E5%8C%96/%E6%8F%92%E4%BB%B6%E5%8C%96%E9%9D%A2%E4%B8%B4%E7%9A%84%E9%97%AE%E9%A2%98/">
        插件化面临的问题
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/" title="热修复字节码" class="dd-item
        parent
        
        
        ">
      <a href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/">
          热修复字节码
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/andfix/" title="AndFix" class="dd-item ">
        <a href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/andfix/">
        AndFix
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/andfixsource/" title="AndFixSource" class="dd-item ">
        <a href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/andfixsource/">
        AndFixSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/dex%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/" title="Dex文件格式" class="dd-item ">
        <a href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/dex%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F/">
        Dex文件格式
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/hotfixresearch/" title="hotfixResearch" class="dd-item ">
        <a href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/hotfixresearch/">
        hotfixResearch
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/multidex/" title="MultiDex" class="dd-item ">
        <a href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/multidex/">
        MultiDex
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/" title="tinker" class="dd-item
        parent
        
        
        ">
      <a href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/">
          tinker
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" title="源码分析" class="dd-item
        parent
        
        
        ">
      <a href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/">
          源码分析
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/resource.arsc%E7%94%9F%E6%88%90%E5%92%8C%E7%BB%93%E6%9E%84/" title="Resource.arsc生成和结构" class="dd-item ">
        <a href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/resource.arsc%E7%94%9F%E6%88%90%E5%92%8C%E7%BB%93%E6%9E%84/">
        Resource.arsc生成和结构
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/tinkergradlepluginsource/" title="TinkerGradlePluginSource" class="dd-item ">
        <a href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/tinkergradlepluginsource/">
        TinkerGradlePluginSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/tinkersource/" title="TinkerSource" class="dd-item active">
        <a href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/tinkersource/">
        TinkerSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/" title="稳定性" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/">
          稳定性
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/" title="异常" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/">
          异常
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/anr/" title="anr" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/anr/">
          anr
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/anr/anr/" title="ANR" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/anr/anr/">
        ANR
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/javacrash/" title="javacrash" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/javacrash/">
          javacrash
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/javacrash/javacrashsystemhandle/" title="JavaCrashSystemHandle" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/javacrash/javacrashsystemhandle/">
        JavaCrashSystemHandle
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/" title="nativecrash" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/">
          nativecrash
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/nativecrash1systemhandle/" title="nativeCrash1SystemHandle" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/nativecrash1systemhandle/">
        nativeCrash1SystemHandle
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/nativecrash2collectstack/" title="nativeCrash2CollectStack" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/nativecrash2collectstack/">
        nativeCrash2CollectStack
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/nativecrash3symbolrecovery/" title="nativeCrash3SymbolRecovery" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/nativecrash3symbolrecovery/">
        nativeCrash3SymbolRecovery
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/nativecrash4analysisrootcause/" title="nativeCrash4AnalysisRootCause" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/nativecrash4analysisrootcause/">
        nativeCrash4AnalysisRootCause
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/nativecrash%E9%80%89%E5%9E%8B%E5%92%8C%E6%95%B4%E4%BD%93%E6%B5%81%E7%A8%8B/" title="nativeCrash选型和整体流程" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/nativecrash/nativecrash%E9%80%89%E5%9E%8B%E5%92%8C%E6%95%B4%E4%BD%93%E6%B5%81%E7%A8%8B/">
        nativeCrash选型和整体流程
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/xcrash/" title="xcrash" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/xcrash/">
          xcrash
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/xcrash/linuxapi/" title="linuxApi" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/xcrash/linuxapi/">
        linuxApi
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/xcrash/xcrashanr/" title="xCrashAnr" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/xcrash/xcrashanr/">
        xCrashAnr
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/xcrash/xcrashnativecrash/" title="xCrashNativeCrash" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/xcrash/xcrashnativecrash/">
        xCrashNativeCrash
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/xcrash/xcrash%E5%8E%9F%E7%90%86/" title="xCrash原理" class="dd-item ">
        <a href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/%E5%BC%82%E5%B8%B8/xcrash/xcrash%E5%8E%9F%E7%90%86/">
        xCrash原理
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/android/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/" title="自动化测试" class="dd-item
        
        
        
        ">
      <a href="/en/android/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/">
          自动化测试
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/android/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/android%E4%BB%A3%E7%A0%81%E8%87%AA%E6%B5%8B/" title="android代码自测" class="dd-item ">
        <a href="/en/android/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/android%E4%BB%A3%E7%A0%81%E8%87%AA%E6%B5%8B/">
        android代码自测
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/en/java/" title="java" class="dd-item
        
        
        
        ">
      <a href="/en/java/">
          java
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/java/blockingqueue/" title="BlockingQueue" class="dd-item ">
        <a href="/en/java/blockingqueue/">
        BlockingQueue
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/java/java%E5%B9%B6%E5%8F%91/" title="java并发" class="dd-item ">
        <a href="/en/java/java%E5%B9%B6%E5%8F%91/">
        java并发
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/java/threadpoolexecutor/" title="ThreadPoolExecutor" class="dd-item ">
        <a href="/en/java/threadpoolexecutor/">
        ThreadPoolExecutor
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/en/kotlin/" title="kotlin" class="dd-item
        
        
        
        ">
      <a href="/en/kotlin/">
          kotlin
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/kotlin/coroutine/" title="coroutine" class="dd-item
        
        
        
        ">
      <a href="/en/kotlin/coroutine/">
          coroutine
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/kotlin/coroutine/kotlin%E5%8D%8F%E7%A8%8B/" title="kotlin协程" class="dd-item ">
        <a href="/en/kotlin/coroutine/kotlin%E5%8D%8F%E7%A8%8B/">
        kotlin协程
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/kotlin/coroutine/kotlin%E5%8D%8F%E7%A8%8Bsource/" title="kotlin协程Source" class="dd-item ">
        <a href="/en/kotlin/coroutine/kotlin%E5%8D%8F%E7%A8%8Bsource/">
        kotlin协程Source
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/kotlin/coroutine/kotlin%E5%8D%8F%E7%A8%8B%E5%8F%96%E6%B6%88/" title="kotlin协程取消" class="dd-item ">
        <a href="/en/kotlin/coroutine/kotlin%E5%8D%8F%E7%A8%8B%E5%8F%96%E6%B6%88/">
        kotlin协程取消
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/kotlin/coroutine/kotlin%E5%8D%8F%E7%A8%8B%E5%BC%82%E5%B8%B8/" title="kotlin协程异常" class="dd-item ">
        <a href="/en/kotlin/coroutine/kotlin%E5%8D%8F%E7%A8%8B%E5%BC%82%E5%B8%B8/">
        kotlin协程异常
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/kotlin/coroutine/%E4%BD%BF%E7%94%A8%E6%8C%82%E8%B5%B7%E5%87%BD%E6%95%B0%E6%9D%A5%E5%B0%81%E8%A3%85%E5%9B%9E%E8%B0%83/" title="使用挂起函数来封装回调" class="dd-item ">
        <a href="/en/kotlin/coroutine/%E4%BD%BF%E7%94%A8%E6%8C%82%E8%B5%B7%E5%87%BD%E6%95%B0%E6%9D%A5%E5%B0%81%E8%A3%85%E5%9B%9E%E8%B0%83/">
        使用挂起函数来封装回调
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/en/linux/" title="linux" class="dd-item
        
        
        
        ">
      <a href="/en/linux/">
          linux
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/linux/linux_io/" title="linux_io" class="dd-item ">
        <a href="/en/linux/linux_io/">
        linux_io
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/en/%E6%80%9D%E6%83%B3/" title="思想" class="dd-item
        
        
        
        ">
      <a href="/en/%E6%80%9D%E6%83%B3/">
          思想
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E6%80%9D%E6%83%B3/ioc/" title="IOC" class="dd-item ">
        <a href="/en/%E6%80%9D%E6%83%B3/ioc/">
        IOC
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E6%80%9D%E6%83%B3/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83/" title="程序设计规范" class="dd-item ">
        <a href="/en/%E6%80%9D%E6%83%B3/%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1%E8%A7%84%E8%8C%83/">
        程序设计规范
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E6%80%9D%E6%83%B3/%E7%BB%A7%E6%89%BF%E5%92%8C%E7%BB%84%E5%90%88/" title="继承和组合" class="dd-item ">
        <a href="/en/%E6%80%9D%E6%83%B3/%E7%BB%A7%E6%89%BF%E5%92%8C%E7%BB%84%E5%90%88/">
        继承和组合
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/" title="方向和趋势" class="dd-item
        
        
        
        ">
      <a href="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/">
          方向和趋势
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/" title="音视频" class="dd-item
        
        
        
        ">
      <a href="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/">
          音视频
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/ffmpeg/" title="ffmpeg" class="dd-item
        
        
        
        ">
      <a href="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/ffmpeg/">
          ffmpeg
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/ffmpeg/examples/" title="examples" class="dd-item
        
        
        
        ">
      <a href="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/ffmpeg/examples/">
          examples
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/ffmpeg/examples/transcodingsource/" title="TranscodingSource" class="dd-item ">
        <a href="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/ffmpeg/examples/transcodingsource/">
        TranscodingSource
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/ffmpeg/ffmpegdebug/" title="FFmpegDebug" class="dd-item ">
        <a href="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/ffmpeg/ffmpegdebug/">
        FFmpegDebug
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/webrtc/" title="webrtc" class="dd-item
        
        
        
        ">
      <a href="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/webrtc/">
          webrtc
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/webrtc/webrtc%E6%BA%90%E7%A0%81%E4%B8%8B%E8%BD%BD%E5%92%8C%E7%BC%96%E8%AF%91/" title="WebRTC源码下载和编译" class="dd-item ">
        <a href="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/webrtc/webrtc%E6%BA%90%E7%A0%81%E4%B8%8B%E8%BD%BD%E5%92%8C%E7%BC%96%E8%AF%91/">
        WebRTC源码下载和编译
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/%E7%BC%96%E8%A7%A3%E7%A0%81/" title="编解码" class="dd-item
        
        
        
        ">
      <a href="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/%E7%BC%96%E8%A7%A3%E7%A0%81/">
          编解码
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/%E7%BC%96%E8%A7%A3%E7%A0%81/%E7%BC%96%E8%A7%A3%E7%A0%81%E7%9F%A5%E8%AF%86/" title="编解码知识" class="dd-item ">
        <a href="/en/%E6%96%B9%E5%90%91%E5%92%8C%E8%B6%8B%E5%8A%BF/%E9%9F%B3%E8%A7%86%E9%A2%91/%E7%BC%96%E8%A7%A3%E7%A0%81/%E7%BC%96%E8%A7%A3%E7%A0%81%E7%9F%A5%E8%AF%86/">
        编解码知识
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/" title="跨平台" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/">
          跨平台
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/" title="flutter" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/">
          flutter
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/engine/" title="engine" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/engine/">
          engine
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/engine/engine/" title="Engine" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/engine/engine/">
        Engine
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/engine/flutterenginecache/" title="FlutterEngineCache" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/engine/flutterenginecache/">
        FlutterEngineCache
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/engine/flutterenginedebug%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" title="FlutterEngineDebug环境搭建" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/engine/flutterenginedebug%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">
        FlutterEngineDebug环境搭建
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/engine/flutterenginegroup/" title="FlutterEngineGroup" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/engine/flutterenginegroup/">
        FlutterEngineGroup
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/startup/" title="startup" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/startup/">
          startup
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/startup/flutter_surface/" title="flutter_surface" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/startup/flutter_surface/">
        flutter_surface
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/startup/startup/" title="startup" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/startup/startup/">
        startup
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/startup/startup_dart_framework/" title="startup_dart_framework" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/startup/startup_dart_framework/">
        startup_dart_framework
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/startup/startup_embedder_framwwork/" title="startup_embedder_framwwork" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/startup/startup_embedder_framwwork/">
        startup_embedder_framwwork
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/touch/" title="touch" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/touch/">
          touch
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/touch/touch/" title="Touch" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/touch/touch/">
        Touch
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%8A%A8%E7%94%BB/" title="动画" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%8A%A8%E7%94%BB/">
          动画
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%8A%A8%E7%94%BB/%E5%8A%A8%E7%94%BB/" title="动画" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%8A%A8%E7%94%BB/%E5%8A%A8%E7%94%BB/">
        动画
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%93%8D%E5%BA%94%E5%BC%8F%E6%9E%B6%E6%9E%84/" title="响应式架构" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%93%8D%E5%BA%94%E5%BC%8F%E6%9E%B6%E6%9E%84/">
          响应式架构
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%93%8D%E5%BA%94%E5%BC%8F%E6%9E%B6%E6%9E%84/provider/" title="Provider" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%93%8D%E5%BA%94%E5%BC%8F%E6%9E%B6%E6%9E%84/provider/">
        Provider
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%93%8D%E5%BA%94%E5%BC%8F%E6%9E%B6%E6%9E%84/%E8%B7%A8%E7%BB%84%E4%BB%B6%E4%BC%A0%E9%80%92%E6%95%B0%E6%8D%AE/" title="跨组件传递数据" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E5%93%8D%E5%BA%94%E5%BC%8F%E6%9E%B6%E6%9E%84/%E8%B7%A8%E7%BB%84%E4%BB%B6%E4%BC%A0%E9%80%92%E6%95%B0%E6%8D%AE/">
        跨组件传递数据
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/" title="混合开发" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/">
          混合开发
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/flutterboost/" title="FlutterBoost" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/flutterboost/">
        FlutterBoost
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/flutterboost3/" title="FlutterBoost3" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/flutterboost3/">
        FlutterBoost3
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/" title="混合开发" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/">
        混合开发
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B8%B2%E6%9F%93/" title="渲染" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B8%B2%E6%9F%93/">
          渲染
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B8%B2%E6%9F%93/widget/" title="Widget" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B8%B2%E6%9F%93/widget/">
        Widget
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B8%B2%E6%9F%93/%E6%B8%B2%E6%9F%93/" title="渲染" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E6%B8%B2%E6%9F%93/%E6%B8%B2%E6%9F%93/">
        渲染
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E8%B7%AF%E7%94%B1/" title="路由" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E8%B7%AF%E7%94%B1/">
          路由
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E8%B7%AF%E7%94%B1/%E8%B7%AF%E7%94%B1/" title="路由" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E8%B7%AF%E7%94%B1/%E8%B7%AF%E7%94%B1/">
        路由
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E9%80%9A%E4%BF%A1/" title="通信" class="dd-item
        
        
        
        ">
      <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E9%80%9A%E4%BF%A1/">
          通信
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E9%80%9A%E4%BF%A1/messageloop/" title="MessageLoop" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E9%80%9A%E4%BF%A1/messageloop/">
        MessageLoop
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E9%80%9A%E4%BF%A1/methodchannel/" title="MethodChannel" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E9%80%9A%E4%BF%A1/methodchannel/">
        MethodChannel
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E9%80%9A%E4%BF%A1/pigeon/" title="Pigeon" class="dd-item ">
        <a href="/en/%E8%B7%A8%E5%B9%B3%E5%8F%B0/flutter/%E9%80%9A%E4%BF%A1/pigeon/">
        Pigeon
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://github.com/huanle19891345"><i class='fab fa-fw fa-github'></i> GitHub repo</a>
              </li>
          
              <li>
                  <a class="padding" href="https://huanle19891345.github.io/en/showcase"><i class='fas fa-fw fa-camera'></i> Showcases</a>
              </li>
          
              <li>
                  <a class="padding" href="https://gohugo.io/"><i class='fas fa-fw fa-bookmark'></i> Hugo Documentation</a>
              </li>
          
              <li>
                  <a class="padding" href="https://huanle19891345.github.io/en/credits"><i class='fas fa-fw fa-bullhorn'></i> Credits</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      

      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/en/'>技术探索总结</a> > <a href='/en/android/'>android</a> > <a href='/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/'>热修复字节码</a> > <a href='/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/'>tinker</a> > <a href='/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/'>源码分析</a> > TinkerSource
          
        
          
        
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#tinkerapplicationattachbasecontext">TinkerApplication.attachBaseContext</a>
      <ul>
        <li><a href="#loadtinker">loadTinker</a>
          <ul>
            <li><a href="#tinkerloadertryload">TinkerLoader.tryLoad</a></li>
            <li><a href="#tinkerdexloaderloadtinkerjars">TinkerDexLoader.loadTinkerJars</a></li>
            <li><a href="#systemclassloaderadderinstalldexes">SystemClassLoaderAdder.installDexes</a></li>
          </ul>
        </li>
        <li><a href="#tinkerapplicationinlinefenceattachbasecontext">TinkerApplicationInlineFence.attachBaseContext</a>
          <ul>
            <li><a href="#defaultapplicationlike">DefaultApplicationLike(&hellip;)</a></li>
            <li><a href="#mapplicationlikeonbasecontextattached">mApplicationLike.onBaseContextAttached</a></li>
            <li><a href="#sampleapplicationlike类设计和原理">SampleApplicationLike类设计和原理</a></li>
            <li><a href="#tinkermanagerinstalltinker">TinkerManager.installTinker</a></li>
            <li><a href="#tinkerinstall">Tinker.install</a>
              <ul>
                <li><a href="#tinkerloadresultparsetinkerresult">tinkerLoadResult.parseTinkerResult</a></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#loadreporter">LoadReporter</a>
      <ul>
        <li><a href="#defaultloadreporter">DefaultLoadReporter</a></li>
        <li><a href="#sampleloadreporter">SampleLoadReporter</a>
          <ul>
            <li><a href="#onloadresult">onLoadResult</a></li>
            <li><a href="#upgradepatchretryonpatchretryload">UpgradePatchRetry.onPatchRetryLoad</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#patchlistener">PatchListener</a>
      <ul>
        <li><a href="#defaultpatchlistener">DefaultPatchListener</a>
          <ul>
            <li><a href="#onpatchreceived">onPatchReceived</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#tinkerpatchservicerunpatchservice">TinkerPatchService.runPatchService</a>
      <ul>
        <li><a href="#patchreporter">PatchReporter</a>
          <ul>
            <li><a href="#defaultpatchreporteronpatchservicestart">DefaultPatchReporter.onPatchServiceStart</a></li>
            <li><a href="#upgradepatchretryonpatchservicestart">UpgradePatchRetry.onPatchServiceStart</a></li>
          </ul>
        </li>
        <li><a href="#upgradepatchtrypatch">UpgradePatch.tryPatch</a>
          <ul>
            <li><a href="#patchdexfile复用dexpatchapplierexecuteandsaveto">patchDexFile,复用DexPatchApplier.executeAndSaveTo</a></li>
            <li><a href="#dexoptimizedexfiles">dexOptimizeDexFiles</a>
              <ul>
                <li><a href="#interpretdex2oat">interpretDex2Oat</a></li>
                <li><a href="#triggerdex2oat">triggerDex2Oat</a></li>
                <li><a href="#dexfileloaddex">DexFile.loadDex</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#abstractresultservicerunresultservice">AbstractResultService.runResultService</a>
          <ul>
            <li><a href="#defaulttinkerresultserviceonpatchresult">DefaultTinkerResultService.onPatchResult</a></li>
            <li><a href="#sampleresultserviceonpatchresult">SampleResultService.onPatchResult</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#其他">其他</a></li>
    <li><a href="#tinker">Tinker</a>
      <ul>
        <li><a href="#cleanpatch">cleanPatch</a></li>
      </ul>
    </li>
    <li><a href="#重试patch">重试patch</a></li>
    <li><a href="#testdex检测流程">test.dex检测流程</a></li>
    <li><a href="#tinker_data">tinker_data</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              TinkerSource
            </h1>
          

        


<h2 id="tinkerapplicationattachbasecontext">TinkerApplication.attachBaseContext</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> \* tinkerFlags, which types is supported
</span><span style="color:#75715e"> \* dex only, library only, all support
</span><span style="color:#75715e"> \* default: TINKER_ENABLE_ALL
</span><span style="color:#75715e"> */</span>
 <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> tinkerFlags<span style="color:#f92672">;</span>
 <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">boolean</span> tinkerLoadVerifyFlag<span style="color:#f92672">;</span>
 <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> String delegateClassName<span style="color:#f92672">;</span>
 <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> String loaderClassName<span style="color:#f92672">;</span>

<span style="color:#66d9ef">private</span> ITinkerInlineFenceBridge mBridge <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> String TINKER_LOADER_METHOD <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;tryLoad&#34;</span><span style="color:#f92672">;</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Override</span>
 <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">attachBaseContext</span><span style="color:#f92672">(</span>Context base<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">super</span><span style="color:#f92672">.</span><span style="color:#a6e22e">attachBaseContext</span><span style="color:#f92672">(</span>base<span style="color:#f92672">);</span>
   Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">setDefaultUncaughtExceptionHandler</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> TinkerUncaughtHandler<span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">));</span>
   onBaseContextAttached<span style="color:#f92672">(</span>base<span style="color:#f92672">);</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span> <span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onBaseContextAttached</span><span style="color:#f92672">(</span>Context base<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
     <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">long</span> applicationStartElapsedTime <span style="color:#f92672">=</span> SystemClock<span style="color:#f92672">.</span><span style="color:#a6e22e">elapsedRealtime</span><span style="color:#f92672">();</span>
     <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">long</span> applicationStartMillisTime <span style="color:#f92672">=</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">currentTimeMillis</span><span style="color:#f92672">();</span>
     loadTinker<span style="color:#f92672">();</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span>     <span style="color:#75715e">//补丁应用之后才初始化TinkerApplicationInlineFence类，并在其中反射构造SampleApplicationLike，达到修复application代码的目的
</span><span style="color:#75715e"></span>     mBridge <span style="color:#f92672">=</span> createInlineFence<span style="color:#f92672">(</span>tinkerFlags<span style="color:#f92672">,</span> delegateClassName<span style="color:#f92672">,</span>
         tinkerLoadVerifyFlag<span style="color:#f92672">,</span> applicationStartElapsedTime<span style="color:#f92672">,</span> applicationStartMillisTime<span style="color:#f92672">,</span>
         tinkerResultIntent<span style="color:#f92672">);</span>
     mBridge<span style="color:#f92672">.</span><span style="color:#a6e22e">attachBaseContext</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">,</span> base<span style="color:#f92672">);</span>
     <span style="color:#75715e">//reset save mode
</span><span style="color:#75715e"></span>     <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>useSafeMode<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
       ShareTinkerInternals<span style="color:#f92672">.</span><span style="color:#a6e22e">setSafeModeCount</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">,</span> 0<span style="color:#f92672">);</span>
     <span style="color:#f92672">}</span>
   <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h3 id="loadtinker">loadTinker</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">loadTinker</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
     <span style="color:#75715e">//reflect tinker loader, because loaderClass may be define by user!
</span><span style="color:#75715e"></span>     Class<span style="color:#f92672">&lt;?&gt;</span> tinkerLoadClass <span style="color:#f92672">=</span> Class<span style="color:#f92672">.</span><span style="color:#a6e22e">forName</span><span style="color:#f92672">(</span>loaderClassName<span style="color:#f92672">,</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">,</span> TinkerApplication<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">.</span><span style="color:#a6e22e">getClassLoader</span><span style="color:#f92672">());</span>
     Method loadMethod <span style="color:#f92672">=</span> tinkerLoadClass<span style="color:#f92672">.</span><span style="color:#a6e22e">getMethod</span><span style="color:#f92672">(</span>TINKER_LOADER_METHOD<span style="color:#f92672">,</span> TinkerApplication<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
     Constructor<span style="color:#f92672">&lt;?&gt;</span> constructor <span style="color:#f92672">=</span> tinkerLoadClass<span style="color:#f92672">.</span><span style="color:#a6e22e">getConstructor</span><span style="color:#f92672">();</span>
     tinkerResultIntent <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>Intent<span style="color:#f92672">)</span> loadMethod<span style="color:#f92672">.</span><span style="color:#a6e22e">invoke</span><span style="color:#f92672">(</span>constructor<span style="color:#f92672">.</span><span style="color:#a6e22e">newInstance</span><span style="color:#f92672">(),</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Throwable e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     <span style="color:#75715e">//has exception, put exception error code
</span><span style="color:#75715e"></span>     tinkerResultIntent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent<span style="color:#f92672">();</span>
     ShareIntentUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">setIntentReturnCode</span><span style="color:#f92672">(</span>tinkerResultIntent<span style="color:#f92672">,</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">ERROR_LOAD_PATCH_UNKNOWN_EXCEPTION</span><span style="color:#f92672">);</span>
     tinkerResultIntent<span style="color:#f92672">.</span><span style="color:#a6e22e">putExtra</span><span style="color:#f92672">(</span>INTENT_PATCH_EXCEPTION<span style="color:#f92672">,</span> e<span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span>
 <span style="color:#f92672">}</span>
</code></pre></div><h4 id="tinkerloadertryload">TinkerLoader.tryLoad</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TinkerLoader</span> <span style="color:#66d9ef">extends</span> AbstractTinkerLoader <span style="color:#f92672">{</span>
  <span style="color:#75715e">/**
</span><span style="color:#75715e"> * only main process can handle patch version change or incomplete
</span><span style="color:#75715e"> */</span>
 <span style="color:#a6e22e">@Override</span>
 <span style="color:#66d9ef">public</span> Intent <span style="color:#a6e22e">tryLoad</span><span style="color:#f92672">(</span>TinkerApplication app<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   Log<span style="color:#f92672">.</span><span style="color:#a6e22e">d</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;tryLoad test test&#34;</span><span style="color:#f92672">);</span>
   Intent resultIntent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent<span style="color:#f92672">();</span>

   <span style="color:#66d9ef">long</span> begin <span style="color:#f92672">=</span> SystemClock<span style="color:#f92672">.</span><span style="color:#a6e22e">elapsedRealtime</span><span style="color:#f92672">();</span>
   tryLoadPatchFilesInternal<span style="color:#f92672">(</span>app<span style="color:#f92672">,</span> resultIntent<span style="color:#f92672">);</span>
   <span style="color:#66d9ef">long</span> cost <span style="color:#f92672">=</span> SystemClock<span style="color:#f92672">.</span><span style="color:#a6e22e">elapsedRealtime</span><span style="color:#f92672">()</span> <span style="color:#f92672">-</span> begin<span style="color:#f92672">;</span>
   ShareIntentUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">setIntentPatchCostTime</span><span style="color:#f92672">(</span>resultIntent<span style="color:#f92672">,</span> cost<span style="color:#f92672">);</span>
   <span style="color:#66d9ef">return</span> resultIntent<span style="color:#f92672">;</span>
 <span style="color:#f92672">}</span>
  
<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">tryLoadPatchFilesInternal</span><span style="color:#f92672">(</span>TinkerApplication app<span style="color:#f92672">,</span> Intent resultIntent<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
<span style="color:#75715e">//data dir, such as /data/data/tinker.sample.android/tinker
</span><span style="color:#75715e"></span>File patchDirectoryFile <span style="color:#f92672">=</span> SharePatchFileUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getPatchDirectory</span><span style="color:#f92672">(</span>app<span style="color:#f92672">);</span>

<span style="color:#75715e">//tinker
</span><span style="color:#75715e"></span>String patchDirectoryPath <span style="color:#f92672">=</span> patchDirectoryFile<span style="color:#f92672">.</span><span style="color:#a6e22e">getAbsolutePath</span><span style="color:#f92672">();</span>

<span style="color:#75715e">//tinker/patch.info
</span><span style="color:#75715e"></span>File patchInfoFile <span style="color:#f92672">=</span> SharePatchFileUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getPatchInfoFile</span><span style="color:#f92672">(</span>patchDirectoryPath<span style="color:#f92672">);</span>
patchInfo <span style="color:#f92672">=</span> SharePatchInfo<span style="color:#f92672">.</span><span style="color:#a6e22e">readAndCheckPropertyWithLock</span><span style="color:#f92672">(</span>patchInfoFile<span style="color:#f92672">,</span> patchInfoLockFile<span style="color:#f92672">);</span>

<span style="color:#66d9ef">boolean</span> isRemoveNewVersion <span style="color:#f92672">=</span> patchInfo<span style="color:#f92672">.</span><span style="color:#a6e22e">isRemoveNewVersion</span><span style="color:#f92672">;</span>
 <span style="color:#75715e">// So far new version is not loaded in main process and other processes.
</span><span style="color:#75715e"></span> <span style="color:#75715e">// We can remove new version directory safely.
</span><span style="color:#75715e"></span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>mainProcess <span style="color:#f92672">&amp;&amp;</span> isRemoveNewVersion<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   Log<span style="color:#f92672">.</span><span style="color:#a6e22e">w</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;found clean patch mark and we are in main process, delete patch file now.&#34;</span><span style="color:#f92672">);</span>
   String patchName <span style="color:#f92672">=</span> SharePatchFileUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getPatchVersionDirectory</span><span style="color:#f92672">(</span>newVersion<span style="color:#f92672">);</span>
   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>patchName <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     String patchVersionDirFullPath <span style="color:#f92672">=</span> patchDirectoryPath <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;/&#34;</span> <span style="color:#f92672">+</span> patchName<span style="color:#f92672">;</span>
     SharePatchFileUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">deleteDir</span><span style="color:#f92672">(</span>patchVersionDirFullPath<span style="color:#f92672">);</span>
     SharePatchInfo<span style="color:#f92672">.</span><span style="color:#a6e22e">rewritePatchInfoFileWithLock</span><span style="color:#f92672">(</span>patchInfoFile<span style="color:#f92672">,</span> patchInfo<span style="color:#f92672">,</span> patchInfoLockFile<span style="color:#f92672">);</span>
  <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#75715e">//tinker/patch-641e634c
</span><span style="color:#75715e"></span>String patchVersionDirectory <span style="color:#f92672">=</span> patchDirectoryPath <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;/&#34;</span> <span style="color:#f92672">+</span> patchName<span style="color:#f92672">;</span>
 File patchVersionDirectoryFile <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span>patchVersionDirectory<span style="color:#f92672">);</span>
 <span style="color:#66d9ef">if</span> <span style="color:#f92672">(!</span>patchVersionDirectoryFile<span style="color:#f92672">.</span><span style="color:#a6e22e">exists</span><span style="color:#f92672">())</span> <span style="color:#f92672">{</span>
   <span style="color:#75715e">//we may delete patch info file
</span><span style="color:#75715e"></span>   ShareIntentUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">setIntentReturnCode</span><span style="color:#f92672">(</span>resultIntent<span style="color:#f92672">,</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">ERROR_LOAD_PATCH_VERSION_DIRECTORY_NOT_EXIST</span><span style="color:#f92672">);</span>
   <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
 <span style="color:#f92672">}</span>

<span style="color:#75715e">//tinker/patch-641e634c/patch-641e634c.apk
</span><span style="color:#75715e"></span> <span style="color:#66d9ef">final</span> String patchVersionFileRelPath <span style="color:#f92672">=</span> SharePatchFileUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getPatchVersionFile</span><span style="color:#f92672">(</span>version<span style="color:#f92672">);</span>
 File patchVersionFile <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>patchVersionFileRelPath <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">?</span> <span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span>patchVersionDirectoryFile<span style="color:#f92672">.</span><span style="color:#a6e22e">getAbsolutePath</span><span style="color:#f92672">(),</span> patchVersionFileRelPath<span style="color:#f92672">)</span> <span style="color:#f92672">:</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">);</span>

ShareSecurityCheck securityCheck <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ShareSecurityCheck<span style="color:#f92672">(</span>app<span style="color:#f92672">);</span>
 <span style="color:#66d9ef">int</span> returnCode <span style="color:#f92672">=</span> ShareTinkerInternals<span style="color:#f92672">.</span><span style="color:#a6e22e">checkTinkerPackage</span><span style="color:#f92672">(</span>app<span style="color:#f92672">,</span> tinkerFlag<span style="color:#f92672">,</span> patchVersionFile<span style="color:#f92672">,</span> securityCheck<span style="color:#f92672">);</span>
 <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>returnCode <span style="color:#f92672">!=</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">ERROR_PACKAGE_CHECK_OK</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

<span style="color:#75715e">//now we can load patch jar
</span><span style="color:#75715e"></span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(!</span>isArkHotRuning <span style="color:#f92672">&amp;&amp;</span> isEnabledForDex<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">boolean</span> loadTinkerJars <span style="color:#f92672">=</span> TinkerDexLoader<span style="color:#f92672">.</span><span style="color:#a6e22e">loadTinkerJars</span><span style="color:#f92672">(</span>app<span style="color:#f92672">,</span> patchVersionDirectory<span style="color:#f92672">,</span> oatDex<span style="color:#f92672">,</span> resultIntent<span style="color:#f92672">,</span> isSystemOTA<span style="color:#f92672">,</span> isProtectedApp<span style="color:#f92672">);</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span> <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h4 id="tinkerdexloaderloadtinkerjars">TinkerDexLoader.loadTinkerJars</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> \* Load tinker JARs and add them to
</span><span style="color:#75715e"> \* the Application ClassLoader.
</span><span style="color:#75715e"> */</span>
 <span style="color:#a6e22e">@TargetApi</span><span style="color:#f92672">(</span>Build<span style="color:#f92672">.</span><span style="color:#a6e22e">VERSION_CODES</span><span style="color:#f92672">.</span><span style="color:#a6e22e">ICE_CREAM_SANDWICH</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">loadTinkerJars</span><span style="color:#f92672">(</span><span style="color:#66d9ef">final</span> TinkerApplication application<span style="color:#f92672">,</span> String directory<span style="color:#f92672">,</span> String oatDir<span style="color:#f92672">,</span> Intent intentResult<span style="color:#f92672">,</span> <span style="color:#66d9ef">boolean</span> isSystemOTA<span style="color:#f92672">,</span> <span style="color:#66d9ef">boolean</span> isProtectedApp<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

 BaseDexClassLoader classLoader <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>BaseDexClassLoader<span style="color:#f92672">)</span> TinkerDexLoader<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">.</span><span style="color:#a6e22e">getClassLoader</span><span style="color:#f92672">();</span>
 <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>classLoader <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   Log<span style="color:#f92672">.</span><span style="color:#a6e22e">i</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;classloader: &#34;</span> <span style="color:#f92672">+</span> classLoader<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">());</span>
 <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
   Log<span style="color:#f92672">.</span><span style="color:#a6e22e">e</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;classloader is null&#34;</span><span style="color:#f92672">);</span>
   ShareIntentUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">setIntentReturnCode</span><span style="color:#f92672">(</span>intentResult<span style="color:#f92672">,</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">ERROR_LOAD_PATCH_VERSION_DEX_CLASSLOADER_NULL</span><span style="color:#f92672">);</span>
   <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
 <span style="color:#f92672">}</span>

File optimizeDir <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span>directory <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;/&#34;</span> <span style="color:#f92672">+</span> oatDir<span style="color:#f92672">);</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span><span style="color:#f92672">......</span>
  <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
   SystemClassLoaderAdder<span style="color:#f92672">.</span><span style="color:#a6e22e">installDexes</span><span style="color:#f92672">(</span>application<span style="color:#f92672">,</span> classLoader<span style="color:#f92672">,</span> optimizeDir<span style="color:#f92672">,</span> legalFiles<span style="color:#f92672">,</span> isProtectedApp<span style="color:#f92672">);</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span> <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Throwable e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   Log<span style="color:#f92672">.</span><span style="color:#a6e22e">e</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;install dexes failed&#34;</span><span style="color:#f92672">);</span>
   intentResult<span style="color:#f92672">.</span><span style="color:#a6e22e">putExtra</span><span style="color:#f92672">(</span>ShareIntentUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">INTENT_PATCH_EXCEPTION</span><span style="color:#f92672">,</span> e<span style="color:#f92672">);</span>
   ShareIntentUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">setIntentReturnCode</span><span style="color:#f92672">(</span>intentResult<span style="color:#f92672">,</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">ERROR_LOAD_PATCH_VERSION_DEX_LOAD_EXCEPTION</span><span style="color:#f92672">);</span>
   <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
 <span style="color:#f92672">}</span>
 <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span>
</code></pre></div><h4 id="systemclassloaderadderinstalldexes">SystemClassLoaderAdder.installDexes</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">installDexes</span><span style="color:#f92672">(</span>Application application<span style="color:#f92672">,</span> BaseDexClassLoader loader<span style="color:#f92672">,</span> File dexOptDir<span style="color:#f92672">,</span> List<span style="color:#f92672">&lt;</span>File<span style="color:#f92672">&gt;</span> files<span style="color:#f92672">,</span> <span style="color:#66d9ef">boolean</span> isProtectedApp<span style="color:#f92672">)</span>
   <span style="color:#66d9ef">throws</span> Throwable <span style="color:#f92672">{</span>
   Log<span style="color:#f92672">.</span><span style="color:#a6e22e">i</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;installDexes dexOptDir: &#34;</span> <span style="color:#f92672">+</span> dexOptDir<span style="color:#f92672">.</span><span style="color:#a6e22e">getAbsolutePath</span><span style="color:#f92672">()</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;, dex size:&#34;</span> <span style="color:#f92672">+</span> files<span style="color:#f92672">.</span><span style="color:#a6e22e">size</span><span style="color:#f92672">());</span>
 
   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(!</span>files<span style="color:#f92672">.</span><span style="color:#a6e22e">isEmpty</span><span style="color:#f92672">())</span> <span style="color:#f92672">{</span>
     files <span style="color:#f92672">=</span> createSortedAdditionalPathEntries<span style="color:#f92672">(</span>files<span style="color:#f92672">);</span>
     ClassLoader classLoader <span style="color:#f92672">=</span> loader<span style="color:#f92672">;</span>
     <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>Build<span style="color:#f92672">.</span><span style="color:#a6e22e">VERSION</span><span style="color:#f92672">.</span><span style="color:#a6e22e">SDK_INT</span> <span style="color:#f92672">&gt;=</span> 24 <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">!</span>isProtectedApp<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
       classLoader <span style="color:#f92672">=</span> AndroidNClassLoader<span style="color:#f92672">.</span><span style="color:#a6e22e">inject</span><span style="color:#f92672">(</span>loader<span style="color:#f92672">,</span> application<span style="color:#f92672">);</span>
     <span style="color:#f92672">}</span>
     <span style="color:#75715e">//because in dalvik, if inner class is not the same classloader with it wrapper class.
</span><span style="color:#75715e"></span>     <span style="color:#75715e">//it won&#39;t fail at dex2opt
</span><span style="color:#75715e"></span>     <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>Build<span style="color:#f92672">.</span><span style="color:#a6e22e">VERSION</span><span style="color:#f92672">.</span><span style="color:#a6e22e">SDK_INT</span> <span style="color:#f92672">&gt;=</span> 23<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
       V23<span style="color:#f92672">.</span><span style="color:#a6e22e">install</span><span style="color:#f92672">(</span>classLoader<span style="color:#f92672">,</span> files<span style="color:#f92672">,</span> dexOptDir<span style="color:#f92672">);</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span>     <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>Build<span style="color:#f92672">.</span><span style="color:#a6e22e">VERSION</span><span style="color:#f92672">.</span><span style="color:#a6e22e">SDK_INT</span> <span style="color:#f92672">&gt;=</span> 19<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
       V19<span style="color:#f92672">.</span><span style="color:#a6e22e">install</span><span style="color:#f92672">(</span>classLoader<span style="color:#f92672">,</span> files<span style="color:#f92672">,</span> dexOptDir<span style="color:#f92672">);</span>
     <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>Build<span style="color:#f92672">.</span><span style="color:#a6e22e">VERSION</span><span style="color:#f92672">.</span><span style="color:#a6e22e">SDK_INT</span> <span style="color:#f92672">&gt;=</span> 14<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
       V14<span style="color:#f92672">.</span><span style="color:#a6e22e">install</span><span style="color:#f92672">(</span>classLoader<span style="color:#f92672">,</span> files<span style="color:#f92672">,</span> dexOptDir<span style="color:#f92672">);</span>
     <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
       V4<span style="color:#f92672">.</span><span style="color:#a6e22e">install</span><span style="color:#f92672">(</span>classLoader<span style="color:#f92672">,</span> files<span style="color:#f92672">,</span> dexOptDir<span style="color:#f92672">);</span>
     <span style="color:#f92672">}</span>

<span style="color:#75715e">//install done
</span><span style="color:#75715e"></span> sPatchDexCount <span style="color:#f92672">=</span> files<span style="color:#f92672">.</span><span style="color:#a6e22e">size</span><span style="color:#f92672">();</span>
 Log<span style="color:#f92672">.</span><span style="color:#a6e22e">i</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;after loaded classloader: &#34;</span> <span style="color:#f92672">+</span> classLoader <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;, dex size:&#34;</span> <span style="color:#f92672">+</span> sPatchDexCount<span style="color:#f92672">);</span>

 <span style="color:#66d9ef">if</span> <span style="color:#f92672">(!</span>checkDexInstall<span style="color:#f92672">(</span>classLoader<span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
   <span style="color:#75715e">//reset patch dex
</span><span style="color:#75715e"></span>   SystemClassLoaderAdder<span style="color:#f92672">.</span><span style="color:#a6e22e">uninstallPatchDex</span><span style="color:#f92672">(</span>classLoader<span style="color:#f92672">);</span>
   <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> TinkerRuntimeException<span style="color:#f92672">(</span>ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">CHECK_DEX_INSTALL_FAIL</span><span style="color:#f92672">);</span>
 <span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> \* Installer for platform versions 23.
</span><span style="color:#75715e"> */</span>
 <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">V23</span> <span style="color:#f92672">{</span>

   <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">install</span><span style="color:#f92672">(</span>ClassLoader loader<span style="color:#f92672">,</span> List<span style="color:#f92672">&lt;</span>File<span style="color:#f92672">&gt;</span> additionalClassPathEntries<span style="color:#f92672">,</span>
                 File optimizedDirectory<span style="color:#f92672">)</span>
     <span style="color:#66d9ef">throws</span> IllegalArgumentException<span style="color:#f92672">,</span> IllegalAccessException<span style="color:#f92672">,</span>
     NoSuchFieldException<span style="color:#f92672">,</span> InvocationTargetException<span style="color:#f92672">,</span> NoSuchMethodException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>
     <span style="color:#75715e">/* The patched class loader is expected to be a descendant of
</span><span style="color:#75715e">     \* dalvik.system.BaseDexClassLoader. We modify its
</span><span style="color:#75715e">     \* dalvik.system.DexPathList pathList field to append additional DEX
</span><span style="color:#75715e">     \* file entries.
</span><span style="color:#75715e">     */</span>
     Field pathListField <span style="color:#f92672">=</span> ShareReflectUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">findField</span><span style="color:#f92672">(</span>loader<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;pathList&#34;</span><span style="color:#f92672">);</span>
     Object dexPathList <span style="color:#f92672">=</span> pathListField<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>loader<span style="color:#f92672">);</span>
     ArrayList<span style="color:#f92672">&lt;</span>IOException<span style="color:#f92672">&gt;</span> suppressedExceptions <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;</span>IOException<span style="color:#f92672">&gt;();</span>
     ShareReflectUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">expandFieldArray</span><span style="color:#f92672">(</span>dexPathList<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;dexElements&#34;</span><span style="color:#f92672">,</span> makePathElements<span style="color:#f92672">(</span>dexPathList<span style="color:#f92672">,</span>
       <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;</span>File<span style="color:#f92672">&gt;(</span>additionalClassPathEntries<span style="color:#f92672">),</span> optimizedDirectory<span style="color:#f92672">,</span>
       suppressedExceptions<span style="color:#f92672">));</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span>     <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>suppressedExceptions<span style="color:#f92672">.</span><span style="color:#a6e22e">size</span><span style="color:#f92672">()</span> <span style="color:#f92672">&gt;</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
       <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>IOException e <span style="color:#f92672">:</span> suppressedExceptions<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
         Log<span style="color:#f92672">.</span><span style="color:#a6e22e">w</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Exception in makePathElement&#34;</span><span style="color:#f92672">,</span> e<span style="color:#f92672">);</span>
         <span style="color:#66d9ef">throw</span> e<span style="color:#f92672">;</span>
     <span style="color:#f92672">}}}</span>

   <span style="color:#75715e">/**
</span><span style="color:#75715e">   \* A wrapper around
</span><span style="color:#75715e">   \* {@code private static final dalvik.system.DexPathList#makePathElements}.
</span><span style="color:#75715e">   */</span>
   <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> Object<span style="color:#f92672">[]</span> <span style="color:#a6e22e">makePathElements</span><span style="color:#f92672">(</span>
     Object dexPathList<span style="color:#f92672">,</span> ArrayList<span style="color:#f92672">&lt;</span>File<span style="color:#f92672">&gt;</span> files<span style="color:#f92672">,</span> File optimizedDirectory<span style="color:#f92672">,</span>
     ArrayList<span style="color:#f92672">&lt;</span>IOException<span style="color:#f92672">&gt;</span> suppressedExceptions<span style="color:#f92672">)</span>
     <span style="color:#66d9ef">throws</span> IllegalAccessException<span style="color:#f92672">,</span> InvocationTargetException<span style="color:#f92672">,</span> NoSuchMethodException <span style="color:#f92672">{</span>
     Method makePathElements<span style="color:#f92672">;</span>
     <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
       makePathElements <span style="color:#f92672">=</span> ShareReflectUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">findMethod</span><span style="color:#f92672">(</span>dexPathList<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;makePathElements&#34;</span><span style="color:#f92672">,</span> List<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span> File<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span>
         List<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
     <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>NoSuchMethodException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
       Log<span style="color:#f92672">.</span><span style="color:#a6e22e">e</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;NoSuchMethodException: makePathElements(List,File,List) failure&#34;</span><span style="color:#f92672">);</span>
       <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
         makePathElements <span style="color:#f92672">=</span> ShareReflectUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">findMethod</span><span style="color:#f92672">(</span>dexPathList<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;makePathElements&#34;</span><span style="color:#f92672">,</span> ArrayList<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span> File<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span> ArrayList<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
       <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>NoSuchMethodException e1<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
         Log<span style="color:#f92672">.</span><span style="color:#a6e22e">e</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;NoSuchMethodException: makeDexElements(ArrayList,File,ArrayList) failure&#34;</span><span style="color:#f92672">);</span>
         <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
           Log<span style="color:#f92672">.</span><span style="color:#a6e22e">e</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;NoSuchMethodException: try use v19 instead&#34;</span><span style="color:#f92672">);</span>
           <span style="color:#66d9ef">return</span> V19<span style="color:#f92672">.</span><span style="color:#a6e22e">makeDexElements</span><span style="color:#f92672">(</span>dexPathList<span style="color:#f92672">,</span> files<span style="color:#f92672">,</span> optimizedDirectory<span style="color:#f92672">,</span> suppressedExceptions<span style="color:#f92672">);</span>
         <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>NoSuchMethodException e2<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
           Log<span style="color:#f92672">.</span><span style="color:#a6e22e">e</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;NoSuchMethodException: makeDexElements(List,File,List) failure&#34;</span><span style="color:#f92672">);</span>
           <span style="color:#66d9ef">throw</span> e2<span style="color:#f92672">;</span>
         <span style="color:#f92672">}</span>
       <span style="color:#f92672">}</span>
     <span style="color:#f92672">}</span>
     <span style="color:#66d9ef">return</span> <span style="color:#f92672">(</span>Object<span style="color:#f92672">[])</span> makePathElements<span style="color:#f92672">.</span><span style="color:#a6e22e">invoke</span><span style="color:#f92672">(</span>dexPathList<span style="color:#f92672">,</span> files<span style="color:#f92672">,</span> optimizedDirectory<span style="color:#f92672">,</span> suppressedExceptions<span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span>
 <span style="color:#f92672">}</span>
</code></pre></div><h3 id="tinkerapplicationinlinefenceattachbasecontext">TinkerApplicationInlineFence.attachBaseContext</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">ITinkerInlineFenceBridge</span> <span style="color:#f92672">{</span>
 <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">attachBaseContext</span><span style="color:#f92672">(</span>TinkerApplication app<span style="color:#f92672">,</span> Context base<span style="color:#f92672">);</span>
 <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onCreate</span><span style="color:#f92672">(</span>TinkerApplication app<span style="color:#f92672">);</span>
 <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onConfigurationChanged</span><span style="color:#f92672">(</span>Configuration newConfig<span style="color:#f92672">);</span>
 <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onTrimMemory</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> level<span style="color:#f92672">);</span>
 <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onLowMemory</span><span style="color:#f92672">();</span>
 <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onTerminate</span><span style="color:#f92672">();</span>
 ClassLoader <span style="color:#a6e22e">getClassLoader</span><span style="color:#f92672">(</span>ClassLoader cl<span style="color:#f92672">);</span>
 Context <span style="color:#a6e22e">getBaseContext</span><span style="color:#f92672">(</span>Context base<span style="color:#f92672">);</span>
 AssetManager <span style="color:#a6e22e">getAssets</span><span style="color:#f92672">(</span>AssetManager assets<span style="color:#f92672">);</span>
 Resources <span style="color:#a6e22e">getResources</span><span style="color:#f92672">(</span>Resources res<span style="color:#f92672">);</span>
 Object <span style="color:#a6e22e">getSystemService</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">,</span> Object service<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TinkerApplicationInlineFence</span> <span style="color:#66d9ef">implements</span> ITinkerInlineFenceBridge <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> Intent mTinkerResultIntent<span style="color:#f92672">;</span>
  <span style="color:#66d9ef">private</span> ApplicationLike mApplicationLike <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Override</span>
 <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">attachBaseContext</span><span style="color:#f92672">(</span>TinkerApplication app<span style="color:#f92672">,</span> Context base<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   attachBaseContextImpl_$noinline$<span style="color:#f92672">(</span>app<span style="color:#f92672">,</span> base<span style="color:#f92672">);</span>
 <span style="color:#f92672">}</span>
<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">attachBaseContextImpl_$noinline$</span><span style="color:#f92672">(</span>TinkerApplication app<span style="color:#f92672">,</span> Context base<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
     dummyThrowExceptionMethod<span style="color:#f92672">();</span>
   <span style="color:#f92672">}</span> <span style="color:#66d9ef">finally</span> <span style="color:#f92672">{</span>
     ensureDelegate<span style="color:#f92672">(</span>app<span style="color:#f92672">);</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span>     <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>mApplicationLike <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
       mApplicationLike<span style="color:#f92672">.</span><span style="color:#a6e22e">onBaseContextAttached</span><span style="color:#f92672">(</span>base<span style="color:#f92672">);</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span>     <span style="color:#f92672">}</span>
   <span style="color:#f92672">}</span>
 <span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">synchronized</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">ensureDelegate</span><span style="color:#f92672">(</span>TinkerApplication app<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>mApplicationLike <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     mApplicationLike <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>ApplicationLike<span style="color:#f92672">)</span> createDelegate<span style="color:#f92672">(</span>app<span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span>
 <span style="color:#f92672">}</span>
<span style="color:#66d9ef">private</span> Object <span style="color:#a6e22e">createDelegate</span><span style="color:#f92672">(</span>TinkerApplication app<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
     <span style="color:#75715e">// Use reflection to create the delegate so it doesn&#39;t need to go into the primary dex.
</span><span style="color:#75715e"></span>     <span style="color:#75715e">// And we can also patch it
</span><span style="color:#75715e"></span>     Class<span style="color:#f92672">&lt;?&gt;</span> delegateClass <span style="color:#f92672">=</span> Class<span style="color:#f92672">.</span><span style="color:#a6e22e">forName</span><span style="color:#f92672">(</span>mDelegateClassName<span style="color:#f92672">,</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getClassLoader</span><span style="color:#f92672">());</span>
     Constructor<span style="color:#f92672">&lt;?&gt;</span> constructor <span style="color:#f92672">=</span> delegateClass<span style="color:#f92672">.</span><span style="color:#a6e22e">getConstructor</span><span style="color:#f92672">(</span>Application<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">boolean</span><span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span>
         <span style="color:#66d9ef">long</span><span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">long</span><span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span> Intent<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
     <span style="color:#66d9ef">return</span> constructor<span style="color:#f92672">.</span><span style="color:#a6e22e">newInstance</span><span style="color:#f92672">(</span>app<span style="color:#f92672">,</span> mTinkerFlags<span style="color:#f92672">,</span> mTinkerLoadVerifyFlag<span style="color:#f92672">,</span>
         mApplicationStartElapsedTime<span style="color:#f92672">,</span> mApplicationStartMillisTime<span style="color:#f92672">,</span> mTinkerResultIntent<span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Throwable e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> TinkerRuntimeException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;createDelegate failed&#34;</span><span style="color:#f92672">,</span> e<span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span>
 <span style="color:#f92672">}</span>
</code></pre></div><h4 id="defaultapplicationlike">DefaultApplicationLike(&hellip;)</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#a6e22e">DefaultApplicationLike</span><span style="color:#f92672">(</span>Application application<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> tinkerFlags<span style="color:#f92672">,</span> <span style="color:#66d9ef">boolean</span> tinkerLoadVerifyFlag<span style="color:#f92672">,</span>
                              <span style="color:#66d9ef">long</span> applicationStartElapsedTime<span style="color:#f92672">,</span> <span style="color:#66d9ef">long</span> applicationStartMillisTime<span style="color:#f92672">,</span> Intent tinkerResultIntent<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">super</span><span style="color:#f92672">(</span>application<span style="color:#f92672">,</span> tinkerFlags<span style="color:#f92672">,</span> tinkerLoadVerifyFlag<span style="color:#f92672">,</span> applicationStartElapsedTime<span style="color:#f92672">,</span> applicationStartMillisTime<span style="color:#f92672">,</span> tinkerResultIntent<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span>
</code></pre></div><h4 id="mapplicationlikeonbasecontextattached">mApplicationLike.onBaseContextAttached</h4>
<h4 id="sampleapplicationlike类设计和原理">SampleApplicationLike类设计和原理</h4>
<pre><code class="language-mermaid" data-lang="mermaid">classDiagram
class ApplicationLike {
  +getApplication: Application
  +getTinkerResultIntent: Intent
}
ApplicationLifeCycle&lt;|--ApplicationLike
ApplicationLike&lt;|--DefaultApplicationLike
DefaultApplicationLike&lt;|--SampleApplicationLike
</code></pre><pre><code class="language-mermaid" data-lang="mermaid">graph LR
原先的自定义Application--&gt;|代码迁移到|SampleApplicationLike--&gt;|编译时生成注解中指定的|新的自定义Application--&gt;|代理转发到|SampleApplicationLike
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@interface</span> DefaultLifeCycle <span style="color:#f92672">{</span>
  String <span style="color:#a6e22e">application</span><span style="color:#f92672">();</span>
  String <span style="color:#a6e22e">loaderClass</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">default</span> <span style="color:#e6db74">&#34;com.tencent.tinker.loader.TinkerLoader&#34;</span><span style="color:#f92672">;</span>
  <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">flags</span><span style="color:#f92672">();</span>
  <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">loadVerifyFlag</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">default</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
<span style="color:#a6e22e">@DefaultLifeCycle</span><span style="color:#f92672">(</span>application <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;tinker.sample.android.app.SampleApplication&#34;</span><span style="color:#f92672">,</span> <span style="color:#75715e">//application name to generate
</span><span style="color:#75715e"></span>          flags <span style="color:#f92672">=</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">TINKER_ENABLE_ALL</span><span style="color:#f92672">,</span>
          loadVerifyFlag <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SampleApplicationLike</span> <span style="color:#f92672">{</span>
 <span style="color:#75715e">/**
</span><span style="color:#75715e"> * install multiDex before install tinker
</span><span style="color:#75715e"> * so we don&#39;t need to put the tinker lib classes in the main dex
</span><span style="color:#75715e"> */</span>
 <span style="color:#a6e22e">@TargetApi</span><span style="color:#f92672">(</span>Build<span style="color:#f92672">.</span><span style="color:#a6e22e">VERSION_CODES</span><span style="color:#f92672">.</span><span style="color:#a6e22e">ICE_CREAM_SANDWICH</span><span style="color:#f92672">)</span>
 <span style="color:#a6e22e">@Override</span>
 <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onBaseContextAttached</span><span style="color:#f92672">(</span>Context base<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">super</span><span style="color:#f92672">.</span><span style="color:#a6e22e">onBaseContextAttached</span><span style="color:#f92672">(</span>base<span style="color:#f92672">);</span>
   <span style="color:#75715e">//you must install multiDex whatever tinker is installed!
</span><span style="color:#75715e"></span>   MultiDex<span style="color:#f92672">.</span><span style="color:#a6e22e">install</span><span style="color:#f92672">(</span>base<span style="color:#f92672">);</span>

   SampleApplicationContext<span style="color:#f92672">.</span><span style="color:#a6e22e">application</span> <span style="color:#f92672">=</span> getApplication<span style="color:#f92672">();</span>
   SampleApplicationContext<span style="color:#f92672">.</span><span style="color:#a6e22e">context</span> <span style="color:#f92672">=</span> getApplication<span style="color:#f92672">();</span>
   TinkerManager<span style="color:#f92672">.</span><span style="color:#a6e22e">setTinkerApplicationLike</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">);</span>

   TinkerManager<span style="color:#f92672">.</span><span style="color:#a6e22e">initFastCrashProtect</span><span style="color:#f92672">();</span>
   <span style="color:#75715e">//should set before tinker is installed
</span><span style="color:#75715e"></span>   TinkerManager<span style="color:#f92672">.</span><span style="color:#a6e22e">setUpgradeRetryEnable</span><span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">);</span>

   <span style="color:#75715e">//optional set logIml, or you can use default debug log
</span><span style="color:#75715e"></span>   TinkerInstaller<span style="color:#f92672">.</span><span style="color:#a6e22e">setLogIml</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> MyLogImp<span style="color:#f92672">());</span>

   <span style="color:#75715e">//installTinker after load multiDex
</span><span style="color:#75715e"></span>   <span style="color:#75715e">//or you can put com.tencent.tinker.** to main dex
</span><span style="color:#75715e"></span>   TinkerManager<span style="color:#f92672">.</span><span style="color:#a6e22e">installTinker</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">);</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span>   Tinker tinker <span style="color:#f92672">=</span> Tinker<span style="color:#f92672">.</span><span style="color:#a6e22e">with</span><span style="color:#f92672">(</span>getApplication<span style="color:#f92672">());</span>
 <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">registerActivityLifecycleCallbacks</span><span style="color:#f92672">(</span>Application<span style="color:#f92672">.</span><span style="color:#a6e22e">ActivityLifecycleCallbacks</span> callback<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   getApplication<span style="color:#f92672">().</span><span style="color:#a6e22e">registerActivityLifecycleCallbacks</span><span style="color:#f92672">(</span>callback<span style="color:#f92672">);</span>
 <span style="color:#f92672">}</span>
</code></pre></div><h4 id="tinkermanagerinstalltinker">TinkerManager.installTinker</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> ApplicationLike        applicationLike<span style="color:#f92672">;</span>
 <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> SampleUncaughtExceptionHandler uncaughtExceptionHandler<span style="color:#f92672">;</span>
 <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">boolean</span> isInstalled <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setUpgradeRetryEnable</span><span style="color:#f92672">(</span><span style="color:#66d9ef">boolean</span> enable<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   UpgradePatchRetry<span style="color:#f92672">.</span><span style="color:#a6e22e">getInstance</span><span style="color:#f92672">(</span>applicationLike<span style="color:#f92672">.</span><span style="color:#a6e22e">getApplication</span><span style="color:#f92672">()).</span><span style="color:#a6e22e">setRetryEnable</span><span style="color:#f92672">(</span>enable<span style="color:#f92672">);</span>
 <span style="color:#f92672">}</span>

<span style="color:#75715e">/**
</span><span style="color:#75715e"> \* you can specify all class you want.
</span><span style="color:#75715e"> \* sometimes, you can only install tinker in some process you want!
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> \* @param appLike
</span><span style="color:#75715e"> */</span>
 <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">installTinker</span><span style="color:#f92672">(</span>ApplicationLike appLike<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>isInstalled<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">w</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;install tinker, but has installed, ignore&#34;</span><span style="color:#f92672">);</span>
     <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
   <span style="color:#f92672">}</span>
   <span style="color:#75715e">//or you can just use DefaultLoadReporter
</span><span style="color:#75715e"></span>   LoadReporter loadReporter <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SampleLoadReporter<span style="color:#f92672">(</span>appLike<span style="color:#f92672">.</span><span style="color:#a6e22e">getApplication</span><span style="color:#f92672">());</span>
   <span style="color:#75715e">//or you can just use DefaultPatchReporter
</span><span style="color:#75715e"></span>   PatchReporter patchReporter <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SamplePatchReporter<span style="color:#f92672">(</span>appLike<span style="color:#f92672">.</span><span style="color:#a6e22e">getApplication</span><span style="color:#f92672">());</span>
   <span style="color:#75715e">//or you can just use DefaultPatchListener
</span><span style="color:#75715e"></span>   PatchListener patchListener <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SamplePatchListener<span style="color:#f92672">(</span>appLike<span style="color:#f92672">.</span><span style="color:#a6e22e">getApplication</span><span style="color:#f92672">());</span>
   <span style="color:#75715e">//you can set your own upgrade patch if you need
</span><span style="color:#75715e"></span>   AbstractPatch upgradePatchProcessor <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> UpgradePatch<span style="color:#f92672">();</span>

   TinkerInstaller<span style="color:#f92672">.</span><span style="color:#a6e22e">install</span><span style="color:#f92672">(</span>appLike<span style="color:#f92672">,</span>
     loadReporter<span style="color:#f92672">,</span> patchReporter<span style="color:#f92672">,</span> patchListener<span style="color:#f92672">,</span>
     SampleResultService<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span> upgradePatchProcessor<span style="color:#f92672">);</span>

   isInstalled <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span>
 <span style="color:#f92672">}</span>
</code></pre></div><p>TinkerInstaller.install</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Tinker <span style="color:#a6e22e">install</span><span style="color:#f92672">(</span>ApplicationLike applicationLike<span style="color:#f92672">,</span> LoadReporter loadReporter<span style="color:#f92672">,</span> PatchReporter patchReporter<span style="color:#f92672">,</span>
               PatchListener listener<span style="color:#f92672">,</span> Class<span style="color:#f92672">&lt;?</span> <span style="color:#66d9ef">extends</span> AbstractResultService<span style="color:#f92672">&gt;</span> resultServiceClass<span style="color:#f92672">,</span>
               AbstractPatch upgradePatchProcessor<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

   Tinker tinker <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Tinker<span style="color:#f92672">.</span><span style="color:#a6e22e">Builder</span><span style="color:#f92672">(</span>applicationLike<span style="color:#f92672">.</span><span style="color:#a6e22e">getApplication</span><span style="color:#f92672">())</span>
     <span style="color:#f92672">.</span><span style="color:#a6e22e">tinkerFlags</span><span style="color:#f92672">(</span>applicationLike<span style="color:#f92672">.</span><span style="color:#a6e22e">getTinkerFlags</span><span style="color:#f92672">())</span>
     <span style="color:#f92672">.</span><span style="color:#a6e22e">loadReport</span><span style="color:#f92672">(</span>loadReporter<span style="color:#f92672">)</span>
     <span style="color:#f92672">.</span><span style="color:#a6e22e">listener</span><span style="color:#f92672">(</span>listener<span style="color:#f92672">)</span>
     <span style="color:#f92672">.</span><span style="color:#a6e22e">patchReporter</span><span style="color:#f92672">(</span>patchReporter<span style="color:#f92672">)</span>
     <span style="color:#f92672">.</span><span style="color:#a6e22e">tinkerLoadVerifyFlag</span><span style="color:#f92672">(</span>applicationLike<span style="color:#f92672">.</span><span style="color:#a6e22e">getTinkerLoadVerifyFlag</span><span style="color:#f92672">()).</span><span style="color:#a6e22e">build</span><span style="color:#f92672">();</span>

   Tinker<span style="color:#f92672">.</span><span style="color:#a6e22e">create</span><span style="color:#f92672">(</span>tinker<span style="color:#f92672">);</span>
   tinker<span style="color:#f92672">.</span><span style="color:#a6e22e">install</span><span style="color:#f92672">(</span>applicationLike<span style="color:#f92672">.</span><span style="color:#a6e22e">getTinkerResultIntent</span><span style="color:#f92672">(),</span> resultServiceClass<span style="color:#f92672">,</span> upgradePatchProcessor<span style="color:#f92672">);</span>
   <span style="color:#66d9ef">return</span> tinker<span style="color:#f92672">;</span>
 <span style="color:#f92672">}</span>
</code></pre></div><h4 id="tinkerinstall">Tinker.install</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Builder</span> <span style="color:#f92672">{</span>
<span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Builder</span><span style="color:#f92672">(</span>Context context<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>context <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> TinkerRuntimeException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Context must not be null.&#34;</span><span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span>
   <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">context</span> <span style="color:#f92672">=</span> context<span style="color:#f92672">;</span>
   <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">mainProcess</span> <span style="color:#f92672">=</span> TinkerServiceInternals<span style="color:#f92672">.</span><span style="color:#a6e22e">isInMainProcess</span><span style="color:#f92672">(</span>context<span style="color:#f92672">);</span>
   <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">patchProcess</span> <span style="color:#f92672">=</span> TinkerServiceInternals<span style="color:#f92672">.</span><span style="color:#a6e22e">isInTinkerPatchServiceProcess</span><span style="color:#f92672">(</span>context<span style="color:#f92672">);</span>
   <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">patchDirectory</span> <span style="color:#f92672">=</span> SharePatchFileUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getPatchDirectory</span><span style="color:#f92672">(</span>context<span style="color:#f92672">);</span>
   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">patchDirectory</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">e</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;patchDirectory is null!&#34;</span><span style="color:#f92672">);</span>
     <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
   <span style="color:#f92672">}</span>
   <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">patchInfoFile</span> <span style="color:#f92672">=</span> SharePatchFileUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getPatchInfoFile</span><span style="color:#f92672">(</span>patchDirectory<span style="color:#f92672">.</span><span style="color:#a6e22e">getAbsolutePath</span><span style="color:#f92672">());</span>
   <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">patchInfoLockFile</span> <span style="color:#f92672">=</span> SharePatchFileUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getPatchInfoLockFile</span><span style="color:#f92672">(</span>patchDirectory<span style="color:#f92672">.</span><span style="color:#a6e22e">getAbsolutePath</span><span style="color:#f92672">());</span>
   TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">w</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;tinker patch directory: %s&#34;</span><span style="color:#f92672">,</span> patchDirectory<span style="color:#f92672">);</span>
 <span style="color:#f92672">}</span>

<span style="color:#75715e">/**create custom tinker by {@link Tinker.Builder}
</span><span style="color:#75715e"> * please do it when very first your app start. */</span>
 <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">create</span><span style="color:#f92672">(</span>Tinker tinker<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>sInstance <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> TinkerRuntimeException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Tinker instance is already set.&#34;</span><span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span>
   sInstance <span style="color:#f92672">=</span> tinker<span style="color:#f92672">;</span>
 <span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">install</span><span style="color:#f92672">(</span>Intent intentResult<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   install<span style="color:#f92672">(</span>intentResult<span style="color:#f92672">,</span> DefaultTinkerResultService<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">new</span> UpgradePatch<span style="color:#f92672">());</span>
 <span style="color:#f92672">}</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">install</span><span style="color:#f92672">(</span>Intent intentResult<span style="color:#f92672">,</span> Class<span style="color:#f92672">&lt;?</span> <span style="color:#66d9ef">extends</span> AbstractResultService<span style="color:#f92672">&gt;</span> serviceClass<span style="color:#f92672">,</span>
           AbstractPatch upgradePatch<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   sInstalled <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span>
   TinkerPatchService<span style="color:#f92672">.</span><span style="color:#a6e22e">setPatchProcessor</span><span style="color:#f92672">(</span>upgradePatch<span style="color:#f92672">,</span> serviceClass<span style="color:#f92672">);</span>
 
   TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">i</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;try to install tinker, isEnable: %b, version: %s&#34;</span><span style="color:#f92672">,</span> isTinkerEnabled<span style="color:#f92672">(),</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">TINKER_VERSION</span><span style="color:#f92672">);</span>
 
   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(!</span>isTinkerEnabled<span style="color:#f92672">())</span> <span style="color:#f92672">{</span>
     TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">e</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;tinker is disabled&#34;</span><span style="color:#f92672">);</span>
     <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
   <span style="color:#f92672">}</span>
   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>intentResult <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> TinkerRuntimeException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;intentResult must not be null.&#34;</span><span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span>
   tinkerLoadResult <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> TinkerLoadResult<span style="color:#f92672">();</span>
   <span style="color:#75715e">//从intentResult中获取loadTinker的结果tinkerResultIntent(位于TinkerApplication)，这个结果经过反射构造TinkerApplicationInlineFence和SampleApplicationLike等最终传入到此处
</span><span style="color:#75715e"></span>  tinkerLoadResult<span style="color:#f92672">.</span><span style="color:#a6e22e">parseTinkerResult</span><span style="color:#f92672">(</span>getContext<span style="color:#f92672">(),</span> intentResult<span style="color:#f92672">);</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span>   <span style="color:#75715e">//after load code set
</span><span style="color:#75715e"></span>   loadReporter<span style="color:#f92672">.</span><span style="color:#a6e22e">onLoadResult</span><span style="color:#f92672">(</span>patchDirectory<span style="color:#f92672">,</span> tinkerLoadResult<span style="color:#f92672">.</span><span style="color:#a6e22e">loadCode</span><span style="color:#f92672">,</span> tinkerLoadResult<span style="color:#f92672">.</span><span style="color:#a6e22e">costTime</span><span style="color:#f92672">);</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span> 
   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(!</span>loaded<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">w</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;tinker load fail!&#34;</span><span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span>
 <span style="color:#f92672">}</span>
</code></pre></div><h5 id="tinkerloadresultparsetinkerresult">tinkerLoadResult.parseTinkerResult</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">parseTinkerResult</span><span style="color:#f92672">(</span>Context context<span style="color:#f92672">,</span> Intent intentResult<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   Tinker tinker <span style="color:#f92672">=</span> Tinker<span style="color:#f92672">.</span><span style="color:#a6e22e">with</span><span style="color:#f92672">(</span>context<span style="color:#f92672">);</span>
   loadCode <span style="color:#f92672">=</span> ShareIntentUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getIntentReturnCode</span><span style="color:#f92672">(</span>intentResult<span style="color:#f92672">);</span>
   costTime <span style="color:#f92672">=</span> ShareIntentUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getIntentPatchCostTime</span><span style="color:#f92672">(</span>intentResult<span style="color:#f92672">);</span>
   systemOTA <span style="color:#f92672">=</span> ShareIntentUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getBooleanExtra</span><span style="color:#f92672">(</span>intentResult<span style="color:#f92672">,</span> ShareIntentUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">INTENT_PATCH_SYSTEM_OTA</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">);</span>
   oatDir <span style="color:#f92672">=</span> ShareIntentUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getStringExtra</span><span style="color:#f92672">(</span>intentResult<span style="color:#f92672">,</span> ShareIntentUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">INTENT_PATCH_OAT_DIR</span><span style="color:#f92672">);</span>
   useInterpretMode <span style="color:#f92672">=</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">INTERPRET_DEX_OPTIMIZE_PATH</span><span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>oatDir<span style="color:#f92672">);</span>

<span style="color:#66d9ef">final</span> String oldVersion <span style="color:#f92672">=</span> ShareIntentUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getStringExtra</span><span style="color:#f92672">(</span>intentResult<span style="color:#f92672">,</span> ShareIntentUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">INTENT_PATCH_OLD_VERSION</span><span style="color:#f92672">);</span>
<span style="color:#66d9ef">final</span> String newVersion <span style="color:#f92672">=</span> ShareIntentUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getStringExtra</span><span style="color:#f92672">(</span>intentResult<span style="color:#f92672">,</span> ShareIntentUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">INTENT_PATCH_NEW_VERSION</span><span style="color:#f92672">);</span>

<span style="color:#75715e">//found uncaught exception, just return
</span><span style="color:#75715e"></span> Throwable exception <span style="color:#f92672">=</span> ShareIntentUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getIntentPatchException</span><span style="color:#f92672">(</span>intentResult<span style="color:#f92672">);</span>
 <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>exception <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">i</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Tinker load have exception loadCode:%d&#34;</span><span style="color:#f92672">,</span> loadCode<span style="color:#f92672">);</span>
   <span style="color:#66d9ef">int</span> errorCode <span style="color:#f92672">=</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">ERROR_LOAD_EXCEPTION_UNKNOWN</span><span style="color:#f92672">;</span>
   <span style="color:#66d9ef">switch</span> <span style="color:#f92672">(</span>loadCode<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     <span style="color:#66d9ef">case</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">ERROR_LOAD_PATCH_UNKNOWN_EXCEPTION</span><span style="color:#f92672">:</span>
       errorCode <span style="color:#f92672">=</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">ERROR_LOAD_EXCEPTION_UNKNOWN</span><span style="color:#f92672">;</span>
       <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
     <span style="color:#66d9ef">case</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">ERROR_LOAD_PATCH_VERSION_DEX_LOAD_EXCEPTION</span><span style="color:#f92672">:</span>
       errorCode <span style="color:#f92672">=</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">ERROR_LOAD_EXCEPTION_DEX</span><span style="color:#f92672">;</span>
       <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
     <span style="color:#66d9ef">case</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">ERROR_LOAD_PATCH_VERSION_RESOURCE_LOAD_EXCEPTION</span><span style="color:#f92672">:</span>
       errorCode <span style="color:#f92672">=</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">ERROR_LOAD_EXCEPTION_RESOURCE</span><span style="color:#f92672">;</span>
       <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
     <span style="color:#66d9ef">case</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">ERROR_LOAD_PATCH_UNCAUGHT_EXCEPTION</span><span style="color:#f92672">:</span>
       errorCode <span style="color:#f92672">=</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">ERROR_LOAD_EXCEPTION_UNCAUGHT</span><span style="color:#f92672">;</span>
       <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
     <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
       <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
   <span style="color:#f92672">}</span>
   tinker<span style="color:#f92672">.</span><span style="color:#a6e22e">getLoadReporter</span><span style="color:#f92672">().</span><span style="color:#a6e22e">onLoadException</span><span style="color:#f92672">(</span>exception<span style="color:#f92672">,</span> errorCode<span style="color:#f92672">);</span>
   <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
 <span style="color:#f92672">}</span>

<span style="color:#66d9ef">switch</span> <span style="color:#f92672">(</span>loadCode<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
<span style="color:#66d9ef">case</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">ERROR_LOAD_OK</span><span style="color:#f92672">:</span>
   TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">i</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;oh yeah, tinker load all success&#34;</span><span style="color:#f92672">);</span>
   tinker<span style="color:#f92672">.</span><span style="color:#a6e22e">setTinkerLoaded</span><span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">);</span>
   <span style="color:#75715e">// get load dex
</span><span style="color:#75715e"></span>   dexes <span style="color:#f92672">=</span> ShareIntentUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getIntentPatchDexPaths</span><span style="color:#f92672">(</span>intentResult<span style="color:#f92672">);</span>
   libs <span style="color:#f92672">=</span> ShareIntentUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getIntentPatchLibsPaths</span><span style="color:#f92672">(</span>intentResult<span style="color:#f92672">);</span>

   packageConfig <span style="color:#f92672">=</span> ShareIntentUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getIntentPackageConfig</span><span style="color:#f92672">(</span>intentResult<span style="color:#f92672">);</span>

   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>useInterpretMode<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     tinker<span style="color:#f92672">.</span><span style="color:#a6e22e">getLoadReporter</span><span style="color:#f92672">().</span><span style="color:#a6e22e">onLoadInterpret</span><span style="color:#f92672">(</span>ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">TYPE_INTERPRET_OK</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span>
   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>isMainProcess <span style="color:#f92672">&amp;&amp;</span> versionChanged<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     <span style="color:#75715e">//change the old version to new
</span><span style="color:#75715e"></span>     tinker<span style="color:#f92672">.</span><span style="color:#a6e22e">getLoadReporter</span><span style="color:#f92672">().</span><span style="color:#a6e22e">onLoadPatchVersionChanged</span><span style="color:#f92672">(</span>oldVersion<span style="color:#f92672">,</span> newVersion<span style="color:#f92672">,</span> patchDirectory<span style="color:#f92672">,</span> patchVersionDirectory<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>
   <span style="color:#f92672">}</span>
   <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span>
</code></pre></div><h2 id="loadreporter">LoadReporter</h2>
<h3 id="defaultloadreporter">DefaultLoadReporter</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Override</span>
 <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onLoadException</span><span style="color:#f92672">(</span>Throwable e<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> errorCode<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   <span style="color:#75715e">//for unCaught or dex exception, disable tinker all the time with sp
</span><span style="color:#75715e"></span>   <span style="color:#66d9ef">switch</span> <span style="color:#f92672">(</span>errorCode<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     <span style="color:#66d9ef">case</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">ERROR_LOAD_EXCEPTION_DEX</span><span style="color:#f92672">:</span>
       <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">getMessage</span><span style="color:#f92672">().</span><span style="color:#a6e22e">contains</span><span style="color:#f92672">(</span>ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">CHECK_DEX_INSTALL_FAIL</span><span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
         TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">e</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;patch loadReporter onLoadException: tinker dex check fail:&#34;</span> <span style="color:#f92672">+</span> e<span style="color:#f92672">.</span><span style="color:#a6e22e">getMessage</span><span style="color:#f92672">());</span>
       <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
         TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">i</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;patch loadReporter onLoadException: patch load dex exception: %s&#34;</span><span style="color:#f92672">,</span> e<span style="color:#f92672">);</span>
       <span style="color:#f92672">}</span>

ShareTinkerInternals<span style="color:#f92672">.</span><span style="color:#a6e22e">setTinkerDisableWithSharedPreferences</span><span style="color:#f92672">(</span>context<span style="color:#f92672">);</span>
 TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">i</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;dex exception disable tinker forever with sp&#34;</span><span style="color:#f92672">);</span>
 <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>

<span style="color:#66d9ef">case</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">ERROR_LOAD_EXCEPTION_RESOURCE</span><span style="color:#f92672">:</span>
<span style="color:#66d9ef">case</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">ERROR_LOAD_EXCEPTION_UNCAUGHT</span><span style="color:#f92672">:</span>
<span style="color:#66d9ef">case</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">ERROR_LOAD_EXCEPTION_UNKNOWN</span><span style="color:#f92672">:</span>
<span style="color:#f92672">......</span>

 TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">e</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;tinker load exception, welcome to submit issue to us: https://github.com/Tencent/tinker/issues&#34;</span><span style="color:#f92672">);</span>
 TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">printErrStackTrace</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> e<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;tinker load exception&#34;</span><span style="color:#f92672">);</span>

 Tinker<span style="color:#f92672">.</span><span style="color:#a6e22e">with</span><span style="color:#f92672">(</span>context<span style="color:#f92672">).</span><span style="color:#a6e22e">setTinkerDisable</span><span style="color:#f92672">();</span>
 checkAndCleanPatch<span style="color:#f92672">();</span>
<span style="color:#f92672">}</span>
</code></pre></div><h3 id="sampleloadreporter">SampleLoadReporter</h3>
<h4 id="onloadresult">onLoadResult</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Override</span>
 <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onLoadResult</span><span style="color:#f92672">(</span>File patchDirectory<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> loadCode<span style="color:#f92672">,</span> <span style="color:#66d9ef">long</span> cost<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">super</span><span style="color:#f92672">.</span><span style="color:#a6e22e">onLoadResult</span><span style="color:#f92672">(</span>patchDirectory<span style="color:#f92672">,</span> loadCode<span style="color:#f92672">,</span> cost<span style="color:#f92672">);</span>
   <span style="color:#66d9ef">switch</span> <span style="color:#f92672">(</span>loadCode<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     <span style="color:#66d9ef">case</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">ERROR_LOAD_OK</span><span style="color:#f92672">:</span>
       SampleTinkerReport<span style="color:#f92672">.</span><span style="color:#a6e22e">onLoaded</span><span style="color:#f92672">(</span>cost<span style="color:#f92672">);</span>
       <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
   <span style="color:#f92672">}</span>
   Looper<span style="color:#f92672">.</span><span style="color:#a6e22e">getMainLooper</span><span style="color:#f92672">().</span><span style="color:#a6e22e">myQueue</span><span style="color:#f92672">().</span><span style="color:#a6e22e">addIdleHandler</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> MessageQueue<span style="color:#f92672">.</span><span style="color:#a6e22e">IdleHandler</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
     <span style="color:#a6e22e">@Override</span>
     <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">queueIdle</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
       <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>UpgradePatchRetry<span style="color:#f92672">.</span><span style="color:#a6e22e">getInstance</span><span style="color:#f92672">(</span>context<span style="color:#f92672">).</span><span style="color:#a6e22e">onPatchRetryLoad</span><span style="color:#f92672">())</span> <span style="color:#f92672">{</span>
         SampleTinkerReport<span style="color:#f92672">.</span><span style="color:#a6e22e">onReportRetryPatch</span><span style="color:#f92672">();</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span>       <span style="color:#f92672">}</span>
       <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
     <span style="color:#f92672">}</span>
   <span style="color:#f92672">});</span>
 <span style="color:#f92672">}</span>
</code></pre></div><h4 id="upgradepatchretryonpatchretryload">UpgradePatchRetry.onPatchRetryLoad</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">//UpgradePatchRetry
</span><span style="color:#75715e"></span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">onPatchRetryLoad</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
   <span style="color:#f92672">......</span>
   TinkerInstaller<span style="color:#f92672">.</span><span style="color:#a6e22e">onReceiveUpgradePatch</span><span style="color:#f92672">(</span>context<span style="color:#f92672">,</span> path<span style="color:#f92672">);</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span><span style="color:#f92672">}</span>
<span style="color:#75715e">//TinkerInstaller
</span><span style="color:#75715e"></span><span style="color:#75715e">/**
</span><span style="color:#75715e"> * new patch file to install, try install them with :patch process
</span><span style="color:#75715e"> */</span>
 <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onReceiveUpgradePatch</span><span style="color:#f92672">(</span>Context context<span style="color:#f92672">,</span> String patchLocation<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   Tinker<span style="color:#f92672">.</span><span style="color:#a6e22e">with</span><span style="color:#f92672">(</span>context<span style="color:#f92672">).</span><span style="color:#a6e22e">getPatchListener</span><span style="color:#f92672">().</span><span style="color:#a6e22e">onPatchReceived</span><span style="color:#f92672">(</span>patchLocation<span style="color:#f92672">);</span>
 <span style="color:#f92672">}</span>
</code></pre></div><h2 id="patchlistener">PatchListener</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">PatchListener</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">onPatchReceived</span><span style="color:#f92672">(</span>String path<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span>
</code></pre></div><h3 id="defaultpatchlistener">DefaultPatchListener</h3>
<h4 id="onpatchreceived">onPatchReceived</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> \* when we receive a patch, what would we do?
</span><span style="color:#75715e"> \* you can overwrite it
</span><span style="color:#75715e"> \* */</span>
 <span style="color:#a6e22e">@Override</span>
 <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">onPatchReceived</span><span style="color:#f92672">(</span>String path<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">final</span> File patchFile <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span>path<span style="color:#f92672">);</span>
   <span style="color:#66d9ef">final</span> String patchMD5 <span style="color:#f92672">=</span> SharePatchFileUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getMD5</span><span style="color:#f92672">(</span>patchFile<span style="color:#f92672">);</span>
   <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> returnCode <span style="color:#f92672">=</span> patchCheck<span style="color:#f92672">(</span>path<span style="color:#f92672">,</span> patchMD5<span style="color:#f92672">);</span>
   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>returnCode <span style="color:#f92672">==</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">ERROR_PATCH_OK</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     runForgService<span style="color:#f92672">();</span>
     TinkerPatchService<span style="color:#f92672">.</span><span style="color:#a6e22e">runPatchService</span><span style="color:#f92672">(</span>context<span style="color:#f92672">,</span> path<span style="color:#f92672">);</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span>   <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
     Tinker<span style="color:#f92672">.</span><span style="color:#a6e22e">with</span><span style="color:#f92672">(</span>context<span style="color:#f92672">).</span><span style="color:#a6e22e">getLoadReporter</span><span style="color:#f92672">().</span><span style="color:#a6e22e">onLoadPatchListenerReceiveFail</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span>path<span style="color:#f92672">),</span> returnCode<span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span>
   <span style="color:#66d9ef">return</span> returnCode<span style="color:#f92672">;</span>
 <span style="color:#f92672">}</span>
</code></pre></div><h2 id="tinkerpatchservicerunpatchservice">TinkerPatchService.runPatchService</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TinkerPatchService</span> <span style="color:#66d9ef">extends</span> IntentService <span style="color:#f92672">{</span>
  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setPatchProcessor</span><span style="color:#f92672">(</span>AbstractPatch upgradePatch<span style="color:#f92672">,</span> Class<span style="color:#f92672">&lt;?</span> <span style="color:#66d9ef">extends</span> AbstractResultService<span style="color:#f92672">&gt;</span> serviceClass<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   upgradePatchProcessor <span style="color:#f92672">=</span> upgradePatch<span style="color:#f92672">;</span>
   resultServiceClass <span style="color:#f92672">=</span> serviceClass<span style="color:#f92672">;</span>
   <span style="color:#75715e">//try to load
</span><span style="color:#75715e"></span>   <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
     Class<span style="color:#f92672">.</span><span style="color:#a6e22e">forName</span><span style="color:#f92672">(</span>serviceClass<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>
   <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>ClassNotFoundException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">printErrStackTrace</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> e<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;patch processor class not found.&#34;</span><span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span>
 <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">runPatchService</span><span style="color:#f92672">(</span><span style="color:#66d9ef">final</span> Context context<span style="color:#f92672">,</span> <span style="color:#66d9ef">final</span> String path<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">i</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;run patch service...&#34;</span><span style="color:#f92672">);</span>
   Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent<span style="color:#f92672">(</span>context<span style="color:#f92672">,</span> TinkerPatchService<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
   intent<span style="color:#f92672">.</span><span style="color:#a6e22e">putExtra</span><span style="color:#f92672">(</span>PATCH_PATH_EXTRA<span style="color:#f92672">,</span> path<span style="color:#f92672">);</span>
   intent<span style="color:#f92672">.</span><span style="color:#a6e22e">putExtra</span><span style="color:#f92672">(</span>RESULT_CLASS_EXTRA<span style="color:#f92672">,</span> resultServiceClass<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>
   <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
     context<span style="color:#f92672">.</span><span style="color:#a6e22e">startService</span><span style="color:#f92672">(</span>intent<span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Throwable thr<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">e</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;run patch service fail, exception:&#34;</span> <span style="color:#f92672">+</span> thr<span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span>
 <span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Override</span>
 <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onHandleIntent</span><span style="color:#f92672">(</span><span style="color:#a6e22e">@Nullable</span> Intent intent<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   increasingPriority<span style="color:#f92672">();</span>
   doApplyPatch<span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">,</span> intent<span style="color:#f92672">);</span>
 <span style="color:#f92672">}</span>

<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doApplyPatch</span><span style="color:#f92672">(</span>Context context<span style="color:#f92672">,</span> Intent intent<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
 Tinker tinker <span style="color:#f92672">=</span> Tinker<span style="color:#f92672">.</span><span style="color:#a6e22e">with</span><span style="color:#f92672">(</span>context<span style="color:#f92672">);</span>
 tinker<span style="color:#f92672">.</span><span style="color:#a6e22e">getPatchReporter</span><span style="color:#f92672">().</span><span style="color:#a6e22e">onPatchServiceStart</span><span style="color:#f92672">(</span>intent<span style="color:#f92672">);</span><span style="color:#75715e">//超过maxRetryCount会清除patch，最大重试20次
</span><span style="color:#75715e"></span>
 PatchResult patchResult <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> PatchResult<span style="color:#f92672">();</span>
 <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>upgradePatchProcessor <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> TinkerRuntimeException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;upgradePatchProcessor is null.&#34;</span><span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span>
   result <span style="color:#f92672">=</span> upgradePatchProcessor<span style="color:#f92672">.</span><span style="color:#a6e22e">tryPatch</span><span style="color:#f92672">(</span>context<span style="color:#f92672">,</span> path<span style="color:#f92672">,</span> patchResult<span style="color:#f92672">);</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span> <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Throwable throwable<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   e <span style="color:#f92672">=</span> throwable<span style="color:#f92672">;</span>
   result <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
   tinker<span style="color:#f92672">.</span><span style="color:#a6e22e">getPatchReporter</span><span style="color:#f92672">().</span><span style="color:#a6e22e">onPatchException</span><span style="color:#f92672">(</span>patchFile<span style="color:#f92672">,</span> e<span style="color:#f92672">);</span>
 <span style="color:#f92672">}</span>

cost <span style="color:#f92672">=</span> SystemClock<span style="color:#f92672">.</span><span style="color:#a6e22e">elapsedRealtime</span><span style="color:#f92672">()</span> <span style="color:#f92672">-</span> begin<span style="color:#f92672">;</span>
 tinker<span style="color:#f92672">.</span><span style="color:#a6e22e">getPatchReporter</span><span style="color:#f92672">()</span>
     <span style="color:#f92672">.</span><span style="color:#a6e22e">onPatchResult</span><span style="color:#f92672">(</span>patchFile<span style="color:#f92672">,</span> result<span style="color:#f92672">,</span> cost<span style="color:#f92672">);</span>
 
 patchResult<span style="color:#f92672">.</span><span style="color:#a6e22e">isSuccess</span> <span style="color:#f92672">=</span> result<span style="color:#f92672">;</span>
 patchResult<span style="color:#f92672">.</span><span style="color:#a6e22e">rawPatchFilePath</span> <span style="color:#f92672">=</span> path<span style="color:#f92672">;</span>
 patchResult<span style="color:#f92672">.</span><span style="color:#a6e22e">costTime</span> <span style="color:#f92672">=</span> cost<span style="color:#f92672">;</span>
 patchResult<span style="color:#f92672">.</span><span style="color:#a6e22e">e</span> <span style="color:#f92672">=</span> e<span style="color:#f92672">;</span>
 
 AbstractResultService<span style="color:#f92672">.</span><span style="color:#a6e22e">runResultService</span><span style="color:#f92672">(</span>context<span style="color:#f92672">,</span> patchResult<span style="color:#f92672">,</span> getPatchResultExtra<span style="color:#f92672">(</span>intent<span style="color:#f92672">));</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span> 
 sIsPatchApplying<span style="color:#f92672">.</span><span style="color:#a6e22e">set</span><span style="color:#f92672">(</span><span style="color:#66d9ef">false</span><span style="color:#f92672">);</span>
</code></pre></div><h3 id="patchreporter">PatchReporter</h3>
<h4 id="defaultpatchreporteronpatchservicestart">DefaultPatchReporter.onPatchServiceStart</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/************************************ :patch process below ***************************************/</span>
 <span style="color:#75715e">/**
</span><span style="color:#75715e"> \* use for report or some work at the beginning of TinkerPatchService
</span><span style="color:#75715e"> \* {@code TinkerPatchService.onHandleIntent} begin
</span><span style="color:#75715e"> */</span>
 <span style="color:#a6e22e">@Override</span>
 <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onPatchServiceStart</span><span style="color:#f92672">(</span>Intent intent<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">i</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;patchReporter onPatchServiceStart: patch service start&#34;</span><span style="color:#f92672">);</span>
   shouldRetry <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
   UpgradePatchRetry<span style="color:#f92672">.</span><span style="color:#a6e22e">getInstance</span><span style="color:#f92672">(</span>context<span style="color:#f92672">).</span><span style="color:#a6e22e">onPatchServiceStart</span><span style="color:#f92672">(</span>intent<span style="color:#f92672">);</span>
 <span style="color:#f92672">}</span>
</code></pre></div><h4 id="upgradepatchretryonpatchservicestart">UpgradePatchRetry.onPatchServiceStart</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onPatchServiceStart</span><span style="color:#f92672">(</span>Intent intent<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
String path <span style="color:#f92672">=</span> TinkerPatchService<span style="color:#f92672">.</span><span style="color:#a6e22e">getPatchPathExtra</span><span style="color:#f92672">(</span>intent<span style="color:#f92672">);</span>
File patchFile <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span>path<span style="color:#f92672">);</span>
String patchMd5 <span style="color:#f92672">=</span> SharePatchFileUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getMD5</span><span style="color:#f92672">(</span>patchFile<span style="color:#f92672">);</span>
 <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>retryInfoFile<span style="color:#f92672">.</span><span style="color:#a6e22e">exists</span><span style="color:#f92672">())</span> <span style="color:#f92672">{</span>
   retryInfo <span style="color:#f92672">=</span> RetryInfo<span style="color:#f92672">.</span><span style="color:#a6e22e">readRetryProperty</span><span style="color:#f92672">(</span>retryInfoFile<span style="color:#f92672">);</span>
   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>retryInfo<span style="color:#f92672">.</span><span style="color:#a6e22e">md5</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">||</span> retryInfo<span style="color:#f92672">.</span><span style="color:#a6e22e">times</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">||</span> <span style="color:#f92672">!</span>patchMd5<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>retryInfo<span style="color:#f92672">.</span><span style="color:#a6e22e">md5</span><span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
     copyToTempFile<span style="color:#f92672">(</span>patchFile<span style="color:#f92672">);</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span>     retryInfo<span style="color:#f92672">.</span><span style="color:#a6e22e">md5</span> <span style="color:#f92672">=</span> patchMd5<span style="color:#f92672">;</span>
     retryInfo<span style="color:#f92672">.</span><span style="color:#a6e22e">times</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">;</span>
   <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
     <span style="color:#66d9ef">int</span> nowTimes <span style="color:#f92672">=</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span>retryInfo<span style="color:#f92672">.</span><span style="color:#a6e22e">times</span><span style="color:#f92672">);</span>
     <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>nowTimes <span style="color:#f92672">&gt;=</span> maxRetryCount<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
       SharePatchFileUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">safeDeleteFile</span><span style="color:#f92672">(</span>tempPatchFile<span style="color:#f92672">);</span>
       TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">w</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;onPatchServiceStart retry more than max count, delete retry info file!&#34;</span><span style="color:#f92672">);</span>
       <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
     <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
       retryInfo<span style="color:#f92672">.</span><span style="color:#a6e22e">times</span> <span style="color:#f92672">=</span> String<span style="color:#f92672">.</span><span style="color:#a6e22e">valueOf</span><span style="color:#f92672">(</span>nowTimes <span style="color:#f92672">+</span> 1<span style="color:#f92672">);</span>
     <span style="color:#f92672">}</span>
   <span style="color:#f92672">}</span>
 <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
   copyToTempFile<span style="color:#f92672">(</span>patchFile<span style="color:#f92672">);</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span>   retryInfo <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> RetryInfo<span style="color:#f92672">(</span>patchMd5<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">);</span>
 <span style="color:#f92672">}</span>
 RetryInfo<span style="color:#f92672">.</span><span style="color:#a6e22e">writeRetryProperty</span><span style="color:#f92672">(</span>retryInfoFile<span style="color:#f92672">,</span> retryInfo<span style="color:#f92672">);</span>
</code></pre></div><h3 id="upgradepatchtrypatch">UpgradePatch.tryPatch</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Override</span>
 <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">tryPatch</span><span style="color:#f92672">(</span>Context context<span style="color:#f92672">,</span> String tempPatchPath<span style="color:#f92672">,</span> PatchResult patchResult<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

<span style="color:#75715e">//we use destPatchFile instead of patchFile, because patchFile may be deleted during the patch process
</span><span style="color:#75715e"></span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(!</span>DexDiffPatchInternal<span style="color:#f92672">.</span><span style="color:#a6e22e">tryRecoverDexFiles</span><span style="color:#f92672">(</span>manager<span style="color:#f92672">,</span> signatureCheck<span style="color:#f92672">,</span> context<span style="color:#f92672">,</span> patchVersionDirectory<span style="color:#f92672">,</span> destPatchFile<span style="color:#f92672">))</span> <span style="color:#f92672">{</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span>   TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">e</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;UpgradePatch tryPatch:new patch recover, try patch dex failed&#34;</span><span style="color:#f92672">);</span>
   <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
 <span style="color:#f92672">}</span>
 
 <span style="color:#66d9ef">if</span> <span style="color:#f92672">(!</span>ArkHotDiffPatchInternal<span style="color:#f92672">.</span><span style="color:#a6e22e">tryRecoverArkHotLibrary</span><span style="color:#f92672">(</span>manager<span style="color:#f92672">,</span> signatureCheck<span style="color:#f92672">,</span>
     context<span style="color:#f92672">,</span> patchVersionDirectory<span style="color:#f92672">,</span> destPatchFile<span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
 <span style="color:#f92672">}</span>
 
 <span style="color:#66d9ef">if</span> <span style="color:#f92672">(!</span>BsDiffPatchInternal<span style="color:#f92672">.</span><span style="color:#a6e22e">tryRecoverLibraryFiles</span><span style="color:#f92672">(</span>manager<span style="color:#f92672">,</span> signatureCheck<span style="color:#f92672">,</span> context<span style="color:#f92672">,</span> patchVersionDirectory<span style="color:#f92672">,</span> destPatchFile<span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
   TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">e</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;UpgradePatch tryPatch:new patch recover, try patch library failed&#34;</span><span style="color:#f92672">);</span>
   <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
 <span style="color:#f92672">}</span>
 
 <span style="color:#66d9ef">if</span> <span style="color:#f92672">(!</span>ResDiffPatchInternal<span style="color:#f92672">.</span><span style="color:#a6e22e">tryRecoverResourceFiles</span><span style="color:#f92672">(</span>manager<span style="color:#f92672">,</span> signatureCheck<span style="color:#f92672">,</span> context<span style="color:#f92672">,</span> patchVersionDirectory<span style="color:#f92672">,</span> destPatchFile<span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
   TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">e</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;UpgradePatch tryPatch:new patch recover, try patch resource failed&#34;</span><span style="color:#f92672">);</span>
   <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
 <span style="color:#f92672">}</span>
</code></pre></div><p>DexDiffPatchInternal</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">tryRecoverDexFiles</span><span style="color:#f92672">(</span>Tinker manager<span style="color:#f92672">,</span> ShareSecurityCheck checker<span style="color:#f92672">,</span> Context context<span style="color:#f92672">,</span>
                       String patchVersionDirectory<span style="color:#f92672">,</span> File patchFile<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

<span style="color:#66d9ef">boolean</span> result <span style="color:#f92672">=</span> patchDexExtractViaDexDiff<span style="color:#f92672">(</span>context<span style="color:#f92672">,</span> patchVersionDirectory<span style="color:#f92672">,</span> dexMeta<span style="color:#f92672">,</span> patchFile<span style="color:#f92672">);</span>

<span style="color:#f92672">}</span>

<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">patchDexExtractViaDexDiff</span><span style="color:#f92672">(</span>Context context<span style="color:#f92672">,</span> String patchVersionDirectory<span style="color:#f92672">,</span> String meta<span style="color:#f92672">,</span> <span style="color:#66d9ef">final</span> File patchFile<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   String dir <span style="color:#f92672">=</span> patchVersionDirectory <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;/&#34;</span> <span style="color:#f92672">+</span> DEX_PATH <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;/&#34;</span><span style="color:#f92672">;</span>
   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(!</span>extractDexDiffInternals<span style="color:#f92672">(</span>context<span style="color:#f92672">,</span> dir<span style="color:#f92672">,</span> meta<span style="color:#f92672">,</span> patchFile<span style="color:#f92672">,</span> TYPE_DEX<span style="color:#f92672">))</span> <span style="color:#f92672">{</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span>     TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">w</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;patch recover, extractDiffInternals fail&#34;</span><span style="color:#f92672">);</span>
     <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
   <span style="color:#f92672">}</span>

<span style="color:#66d9ef">final</span> String optimizeDexDirectory <span style="color:#f92672">=</span> patchVersionDirectory <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;/&#34;</span> <span style="color:#f92672">+</span> DEX_OPTIMIZE_PATH <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;/&#34;</span><span style="color:#f92672">;</span>
 <span style="color:#66d9ef">return</span> dexOptimizeDexFiles<span style="color:#f92672">(</span>context<span style="color:#f92672">,</span> legalFiles<span style="color:#f92672">,</span> optimizeDexDirectory<span style="color:#f92672">,</span> patchFile<span style="color:#f92672">);</span><span style="color:#75715e">//main
</span></code></pre></div><h4 id="patchdexfile复用dexpatchapplierexecuteandsaveto">patchDexFile,复用DexPatchApplier.executeAndSaveTo</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">extractDexDiffInternals</span><span style="color:#f92672">(</span>Context context<span style="color:#f92672">,</span> String dir<span style="color:#f92672">,</span> String meta<span style="color:#f92672">,</span> File patchFile<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> type<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   patchList<span style="color:#f92672">.</span><span style="color:#a6e22e">clear</span><span style="color:#f92672">();</span>
   ShareDexDiffPatchInfo<span style="color:#f92672">.</span><span style="color:#a6e22e">parseDexDiffPatchInfo</span><span style="color:#f92672">(</span>meta<span style="color:#f92672">,</span> patchList<span style="color:#f92672">);</span>

<span style="color:#75715e">//check source crc instead of md5 for faster
</span><span style="color:#75715e"></span> String rawEntryCrc <span style="color:#f92672">=</span> String<span style="color:#f92672">.</span><span style="color:#a6e22e">valueOf</span><span style="color:#f92672">(</span>rawApkFileEntry<span style="color:#f92672">.</span><span style="color:#a6e22e">getCrc</span><span style="color:#f92672">());</span>
 <span style="color:#66d9ef">if</span> <span style="color:#f92672">(!</span>rawEntryCrc<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span>oldDexCrc<span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
   TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">e</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;apk entry %s crc is not equal, expect crc: %s, got crc: %s&#34;</span><span style="color:#f92672">,</span> patchRealPath<span style="color:#f92672">,</span> oldDexCrc<span style="color:#f92672">,</span> rawEntryCrc<span style="color:#f92672">);</span>
   manager<span style="color:#f92672">.</span><span style="color:#a6e22e">getPatchReporter</span><span style="color:#f92672">().</span><span style="color:#a6e22e">onPatchTypeExtractFail</span><span style="color:#f92672">(</span>patchFile<span style="color:#f92672">,</span> extractedFile<span style="color:#f92672">,</span> info<span style="color:#f92672">.</span><span style="color:#a6e22e">rawName</span><span style="color:#f92672">,</span> type<span style="color:#f92672">);</span>
   <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
 <span style="color:#f92672">}</span>

  patchDexFile<span style="color:#f92672">(</span>apk<span style="color:#f92672">,</span> patch<span style="color:#f92672">,</span> rawApkFileEntry<span style="color:#f92672">,</span> patchFileEntry<span style="color:#f92672">,</span> info<span style="color:#f92672">,</span> extractedFile<span style="color:#f92672">);</span>

<span style="color:#75715e">//patch合成之后比对(合成后的dex文件)和(生成patch之后立刻合成时得到的relatedInfo.newOrFullPatchedMd5)是否一致
</span><span style="color:#75715e">//位于assets/dex_meta.txt中的kv[3]，产生于logDexesToDexMeta--logToDexMeta
</span><span style="color:#75715e">//String meta = fileName + &#34;,&#34; + parentRelative + &#34;,&#34; + destMd5InDvm + &#34;,&#34;
</span><span style="color:#75715e"></span> <span style="color:#75715e">//  + destMd5InArt + &#34;,&#34; + dexDiffMd5 + &#34;,&#34; + oldCrc + &#34;,&#34; + newOrFullPatchedCrc + &#34;,&#34; + dexMode;
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">if</span> <span style="color:#f92672">(!</span>SharePatchFileUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">verifyDexFileMd5</span><span style="color:#f92672">(</span>extractedFile<span style="color:#f92672">,</span> extractedFileMd5<span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
   TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">w</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Failed to recover dex file when verify patched dex: &#34;</span> <span style="color:#f92672">+</span> extractedFile<span style="color:#f92672">.</span><span style="color:#a6e22e">getPath</span><span style="color:#f92672">());</span>
   manager<span style="color:#f92672">.</span><span style="color:#a6e22e">getPatchReporter</span><span style="color:#f92672">().</span><span style="color:#a6e22e">onPatchTypeExtractFail</span><span style="color:#f92672">(</span>patchFile<span style="color:#f92672">,</span> extractedFile<span style="color:#f92672">,</span> info<span style="color:#f92672">.</span><span style="color:#a6e22e">rawName</span><span style="color:#f92672">,</span> type<span style="color:#f92672">);</span>
   SharePatchFileUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">safeDeleteFile</span><span style="color:#f92672">(</span>extractedFile<span style="color:#f92672">);</span>
   <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
 <span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">patchDexFile</span><span style="color:#f92672">(</span>
   ZipFile baseApk<span style="color:#f92672">,</span> ZipFile patchPkg<span style="color:#f92672">,</span> ZipEntry oldDexEntry<span style="color:#f92672">,</span> ZipEntry patchFileEntry<span style="color:#f92672">,</span>
   ShareDexDiffPatchInfo patchInfo<span style="color:#f92672">,</span> File patchedDexFile<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> IOException <span style="color:#f92672">{</span>
	<span style="color:#66d9ef">new</span> DexPatchApplier<span style="color:#f92672">(</span>zis<span style="color:#f92672">,</span> patchFileStream<span style="color:#f92672">).</span><span style="color:#a6e22e">executeAndSaveTo</span><span style="color:#f92672">(</span>zos<span style="color:#f92672">);</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span><span style="color:#f92672">}</span>
</code></pre></div><h4 id="dexoptimizedexfiles">dexOptimizeDexFiles</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">//DexDiffPatchInternal
</span><span style="color:#75715e"></span><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">dexOptimizeDexFiles</span><span style="color:#f92672">(</span>Context context<span style="color:#f92672">,</span> List<span style="color:#f92672">&lt;</span>File<span style="color:#f92672">&gt;</span> dexFiles<span style="color:#f92672">,</span> String optimizeDexDirectory<span style="color:#f92672">,</span> <span style="color:#66d9ef">final</span> File patchFile<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
<span style="color:#75715e">//try parallel dex optimizer
</span><span style="color:#75715e"></span> TinkerDexOptimizer<span style="color:#f92672">.</span><span style="color:#a6e22e">optimizeAll</span><span style="color:#f92672">(</span>
   context<span style="color:#f92672">,</span> dexFiles<span style="color:#f92672">,</span> optimizeDexDirectoryFile<span style="color:#f92672">,</span>
   <span style="color:#66d9ef">new</span> TinkerDexOptimizer<span style="color:#f92672">.</span><span style="color:#a6e22e">ResultCallback</span><span style="color:#f92672">()</span> <span style="color:#f92672">{...</span>
</code></pre></div><p>TinkerDexOptimizer</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">optimizeAll</span><span style="color:#f92672">(</span>Context context<span style="color:#f92672">,</span> Collection<span style="color:#f92672">&lt;</span>File<span style="color:#f92672">&gt;</span> dexFiles<span style="color:#f92672">,</span> File optimizedDir<span style="color:#f92672">,</span>
                  <span style="color:#66d9ef">boolean</span> useInterpretMode<span style="color:#f92672">,</span> String targetISA<span style="color:#f92672">,</span> ResultCallback cb<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
<span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>File dexFile <span style="color:#f92672">:</span> sortList<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   OptimizeWorker worker <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> OptimizeWorker<span style="color:#f92672">(</span>context<span style="color:#f92672">,</span> dexFile<span style="color:#f92672">,</span> optimizedDir<span style="color:#f92672">,</span> useInterpretMode<span style="color:#f92672">,</span> targetISA<span style="color:#f92672">,</span> cb<span style="color:#f92672">);</span>
   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(!</span>worker<span style="color:#f92672">.</span><span style="color:#a6e22e">run</span><span style="color:#f92672">())</span> <span style="color:#f92672">{</span>
     <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
   <span style="color:#f92672">}</span>
 <span style="color:#f92672">}</span>
 <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">OptimizeWorker</span> <span style="color:#f92672">{</span>

<span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>

String optimizedPath <span style="color:#f92672">=</span> SharePatchFileUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">optimizedPathFor</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">dexFile</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">optimizedDir</span><span style="color:#f92672">);</span>
 <span style="color:#66d9ef">if</span> <span style="color:#f92672">(!</span>ShareTinkerInternals<span style="color:#f92672">.</span><span style="color:#a6e22e">isArkHotRuning</span><span style="color:#f92672">())</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>useInterpretMode<span style="color:#f92672">)</span> <span style="color:#f92672">{</span><span style="color:#75715e">//默认false
</span><span style="color:#75715e"></span>    interpretDex2Oat<span style="color:#f92672">(</span>dexFile<span style="color:#f92672">.</span><span style="color:#a6e22e">getAbsolutePath</span><span style="color:#f92672">(),</span> optimizedPath<span style="color:#f92672">);</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span>   <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>Build<span style="color:#f92672">.</span><span style="color:#a6e22e">VERSION</span><span style="color:#f92672">.</span><span style="color:#a6e22e">SDK_INT</span> <span style="color:#f92672">&gt;=</span> 28
       <span style="color:#f92672">||</span> <span style="color:#f92672">(</span>Build<span style="color:#f92672">.</span><span style="color:#a6e22e">VERSION</span><span style="color:#f92672">.</span><span style="color:#a6e22e">SDK_INT</span> <span style="color:#f92672">&gt;=</span> 27 <span style="color:#f92672">&amp;&amp;</span> Build<span style="color:#f92672">.</span><span style="color:#a6e22e">VERSION</span><span style="color:#f92672">.</span><span style="color:#a6e22e">PREVIEW_SDK_INT</span> <span style="color:#f92672">!=</span> 0<span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
     NewClassLoaderInjector<span style="color:#f92672">.</span><span style="color:#a6e22e">triggerDex2Oat</span><span style="color:#f92672">(</span>context<span style="color:#f92672">,</span> dexFile<span style="color:#f92672">.</span><span style="color:#a6e22e">getAbsolutePath</span><span style="color:#f92672">());</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span>   <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
     DexFile<span style="color:#f92672">.</span><span style="color:#a6e22e">loadDex</span><span style="color:#f92672">(</span>dexFile<span style="color:#f92672">.</span><span style="color:#a6e22e">getAbsolutePath</span><span style="color:#f92672">(),</span> optimizedPath<span style="color:#f92672">,</span> 0<span style="color:#f92672">);</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span>   <span style="color:#f92672">}</span>
 <span style="color:#f92672">}</span>
</code></pre></div><h5 id="interpretdex2oat">interpretDex2Oat</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">interpretDex2Oat</span><span style="color:#f92672">(</span>String dexFilePath<span style="color:#f92672">,</span> String oatFilePath<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> IOException <span style="color:#f92672">{</span>
                <span style="color:#66d9ef">final</span> List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> commandAndParams <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;&gt;();</span>
                commandAndParams<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;dex2oat&#34;</span><span style="color:#f92672">);</span>
                <span style="color:#75715e">// for 7.1.1, duplicate class fix
</span><span style="color:#75715e"></span>                <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>Build<span style="color:#f92672">.</span><span style="color:#a6e22e">VERSION</span><span style="color:#f92672">.</span><span style="color:#a6e22e">SDK_INT</span> <span style="color:#f92672">&gt;=</span> 24<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                    commandAndParams<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;--runtime-arg&#34;</span><span style="color:#f92672">);</span>
                    commandAndParams<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;-classpath&#34;</span><span style="color:#f92672">);</span>
                    commandAndParams<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;--runtime-arg&#34;</span><span style="color:#f92672">);</span>
                    commandAndParams<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;&amp;&#34;</span><span style="color:#f92672">);</span>
                <span style="color:#f92672">}</span>
                commandAndParams<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;--dex-file=&#34;</span> <span style="color:#f92672">+</span> dexFilePath<span style="color:#f92672">);</span>
                commandAndParams<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;--oat-file=&#34;</span> <span style="color:#f92672">+</span> oatFilePath<span style="color:#f92672">);</span>
                commandAndParams<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;--instruction-set=&#34;</span> <span style="color:#f92672">+</span> targetISA<span style="color:#f92672">);</span>
                <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>Build<span style="color:#f92672">.</span><span style="color:#a6e22e">VERSION</span><span style="color:#f92672">.</span><span style="color:#a6e22e">SDK_INT</span> <span style="color:#f92672">&gt;</span> 25<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                    commandAndParams<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;--compiler-filter=quicken&#34;</span><span style="color:#f92672">);</span>
                <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
                    commandAndParams<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;--compiler-filter=interpret-only&#34;</span><span style="color:#f92672">);</span>
                <span style="color:#f92672">}</span>

                <span style="color:#66d9ef">final</span> ProcessBuilder pb <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ProcessBuilder<span style="color:#f92672">(</span>commandAndParams<span style="color:#f92672">);</span>
                pb<span style="color:#f92672">.</span><span style="color:#a6e22e">redirectErrorStream</span><span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">);</span>
                <span style="color:#66d9ef">final</span> Process dex2oatProcess <span style="color:#f92672">=</span> pb<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
                StreamConsumer<span style="color:#f92672">.</span><span style="color:#a6e22e">consumeInputStream</span><span style="color:#f92672">(</span>dex2oatProcess<span style="color:#f92672">.</span><span style="color:#a6e22e">getInputStream</span><span style="color:#f92672">());</span>
                StreamConsumer<span style="color:#f92672">.</span><span style="color:#a6e22e">consumeInputStream</span><span style="color:#f92672">(</span>dex2oatProcess<span style="color:#f92672">.</span><span style="color:#a6e22e">getErrorStream</span><span style="color:#f92672">());</span>
                <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
                    <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">int</span> ret <span style="color:#f92672">=</span> dex2oatProcess<span style="color:#f92672">.</span><span style="color:#a6e22e">waitFor</span><span style="color:#f92672">();</span>
                    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>ret <span style="color:#f92672">!=</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                        <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> IOException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;dex2oat works unsuccessfully, exit code: &#34;</span> <span style="color:#f92672">+</span> ret<span style="color:#f92672">);</span>
                    <span style="color:#f92672">}</span>
                <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h5 id="triggerdex2oat">triggerDex2Oat</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">//NewClassLoaderInjector
</span><span style="color:#75715e"></span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">triggerDex2Oat</span><span style="color:#f92672">(</span>Context context<span style="color:#f92672">,</span> File dexOptDir<span style="color:#f92672">,</span> <span style="color:#66d9ef">boolean</span> useDLCOnAPI29AndAbove<span style="color:#f92672">,</span>
                                  String<span style="color:#f92672">...</span> dexPaths<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> Throwable <span style="color:#f92672">{</span>
    ClassLoader triggerClassLoader<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>useDLCOnAPI29AndAbove <span style="color:#f92672">&amp;&amp;</span> Build<span style="color:#f92672">.</span><span style="color:#a6e22e">VERSION</span><span style="color:#f92672">.</span><span style="color:#a6e22e">SDK_INT</span> <span style="color:#f92672">&gt;=</span> 29<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        triggerClassLoader <span style="color:#f92672">=</span> createNewClassLoader<span style="color:#f92672">(</span>context<span style="color:#f92672">.</span><span style="color:#a6e22e">getClassLoader</span><span style="color:#f92672">(),</span> dexOptDir<span style="color:#f92672">,</span> useDLCOnAPI29AndAbove<span style="color:#f92672">,</span> dexPaths<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// Suggestion from Huawei: Only PathClassLoader (Perhaps other ClassLoaders known by system
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// like DexClassLoader also works ?) can be used here to trigger dex2oat so that JIT
</span><span style="color:#75715e"></span>        <span style="color:#75715e">// mechanism can participate in runtime Dex optimization.
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">final</span> StringBuilder sb <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> StringBuilder<span style="color:#f92672">();</span>
        <span style="color:#66d9ef">boolean</span> isFirst <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>String dexPath <span style="color:#f92672">:</span> dexPaths<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>isFirst<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                isFirst <span style="color:#f92672">=</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
            <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
                sb<span style="color:#f92672">.</span><span style="color:#a6e22e">append</span><span style="color:#f92672">(</span>File<span style="color:#f92672">.</span><span style="color:#a6e22e">pathSeparator</span><span style="color:#f92672">);</span>
            <span style="color:#f92672">}</span>
            sb<span style="color:#f92672">.</span><span style="color:#a6e22e">append</span><span style="color:#f92672">(</span>dexPath<span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
        triggerClassLoader <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> PathClassLoader<span style="color:#f92672">(</span>sb<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">(),</span> ClassLoader<span style="color:#f92672">.</span><span style="color:#a6e22e">getSystemClassLoader</span><span style="color:#f92672">());</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><h5 id="dexfileloaddex">DexFile.loadDex</h5>
<p>&hellip;&hellip;</p>
<h3 id="abstractresultservicerunresultservice">AbstractResultService.runResultService</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AbstractResultService</span> <span style="color:#66d9ef">extends</span> IntentService <span style="color:#f92672">{</span>
  
  <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">runResultService</span><span style="color:#f92672">(</span>Context context<span style="color:#f92672">,</span> PatchResult result<span style="color:#f92672">,</span> String resultServiceClass<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>resultServiceClass <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> TinkerRuntimeException<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;resultServiceClass is null.&#34;</span><span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span>
   <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
     Intent intent <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Intent<span style="color:#f92672">();</span>
     intent<span style="color:#f92672">.</span><span style="color:#a6e22e">setClassName</span><span style="color:#f92672">(</span>context<span style="color:#f92672">,</span> resultServiceClass<span style="color:#f92672">);</span>
     intent<span style="color:#f92672">.</span><span style="color:#a6e22e">putExtra</span><span style="color:#f92672">(</span>RESULT_EXTRA<span style="color:#f92672">,</span> result<span style="color:#f92672">);</span>
     context<span style="color:#f92672">.</span><span style="color:#a6e22e">startService</span><span style="color:#f92672">(</span>intent<span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Throwable throwable<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">e</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;run result service fail, exception:&#34;</span> <span style="color:#f92672">+</span> throwable<span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span>
 <span style="color:#f92672">}</span>

<span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onHandleIntent</span><span style="color:#f92672">(</span>Intent intent<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   PatchResult result <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>PatchResult<span style="color:#f92672">)</span> ShareIntentUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getSerializableExtra</span><span style="color:#f92672">(</span>intent<span style="color:#f92672">,</span> RESULT_EXTRA<span style="color:#f92672">);</span>
   onPatchResult<span style="color:#f92672">(</span>result<span style="color:#f92672">);</span><span style="color:#75715e">//main
</span><span style="color:#75715e"></span> <span style="color:#f92672">}</span>

<span style="color:#f92672">}</span>
</code></pre></div><h4 id="defaulttinkerresultserviceonpatchresult">DefaultTinkerResultService.onPatchResult</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> \* we may want to use the new patch just now!!
</span><span style="color:#75715e"> */</span>
 <span style="color:#a6e22e">@Override</span>
 <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onPatchResult</span><span style="color:#f92672">(</span>PatchResult result<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>result <span style="color:#f92672">==</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">e</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;DefaultTinkerResultService received null result!!!!&#34;</span><span style="color:#f92672">);</span>
     <span style="color:#66d9ef">return</span><span style="color:#f92672">;</span>
   <span style="color:#f92672">}</span>
   TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">i</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;DefaultTinkerResultService received a result:%s &#34;</span><span style="color:#f92672">,</span> result<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">());</span>

   <span style="color:#75715e">//first, we want to kill the recover process
</span><span style="color:#75715e"></span>   TinkerServiceInternals<span style="color:#f92672">.</span><span style="color:#a6e22e">killTinkerPatchServiceProcess</span><span style="color:#f92672">(</span>getApplicationContext<span style="color:#f92672">());</span>

   <span style="color:#75715e">// if success and newPatch, it is nice to delete the raw file, and restart at once
</span><span style="color:#75715e"></span>   <span style="color:#75715e">// only main process can load an upgrade patch!
</span><span style="color:#75715e"></span>   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>result<span style="color:#f92672">.</span><span style="color:#a6e22e">isSuccess</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     deleteRawPatchFile<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span>result<span style="color:#f92672">.</span><span style="color:#a6e22e">rawPatchFilePath</span><span style="color:#f92672">));</span>
     <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>checkIfNeedKill<span style="color:#f92672">(</span>result<span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
       android<span style="color:#f92672">.</span><span style="color:#a6e22e">os</span><span style="color:#f92672">.</span><span style="color:#a6e22e">Process</span><span style="color:#f92672">.</span><span style="color:#a6e22e">killProcess</span><span style="color:#f92672">(</span>android<span style="color:#f92672">.</span><span style="color:#a6e22e">os</span><span style="color:#f92672">.</span><span style="color:#a6e22e">Process</span><span style="color:#f92672">.</span><span style="color:#a6e22e">myPid</span><span style="color:#f92672">());</span>
     <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
       TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">i</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;I have already install the newly patch version!&#34;</span><span style="color:#f92672">);</span>
     <span style="color:#f92672">}</span>
   <span style="color:#f92672">}</span>
 <span style="color:#f92672">}</span>
</code></pre></div><h4 id="sampleresultserviceonpatchresult">SampleResultService.onPatchResult</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Override</span>
 <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onPatchResult</span><span style="color:#f92672">(</span><span style="color:#66d9ef">final</span> PatchResult result<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

<span style="color:#75715e">//first, we want to kill the recover process
</span><span style="color:#75715e"></span> TinkerServiceInternals<span style="color:#f92672">.</span><span style="color:#a6e22e">killTinkerPatchServiceProcess</span><span style="color:#f92672">(</span>getApplicationContext<span style="color:#f92672">());</span>

Handler handler <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Handler<span style="color:#f92672">(</span>Looper<span style="color:#f92672">.</span><span style="color:#a6e22e">getMainLooper</span><span style="color:#f92672">());</span>
 handler<span style="color:#f92672">.</span><span style="color:#a6e22e">post</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> Runnable<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
   <span style="color:#a6e22e">@Override</span>
   <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
     <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>result<span style="color:#f92672">.</span><span style="color:#a6e22e">isSuccess</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
       Toast<span style="color:#f92672">.</span><span style="color:#a6e22e">makeText</span><span style="color:#f92672">(</span>getApplicationContext<span style="color:#f92672">(),</span> <span style="color:#e6db74">&#34;patch success, please restart process&#34;</span><span style="color:#f92672">,</span> Toast<span style="color:#f92672">.</span><span style="color:#a6e22e">LENGTH_LONG</span><span style="color:#f92672">).</span><span style="color:#a6e22e">show</span><span style="color:#f92672">();</span>
     <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
       Toast<span style="color:#f92672">.</span><span style="color:#a6e22e">makeText</span><span style="color:#f92672">(</span>getApplicationContext<span style="color:#f92672">(),</span> <span style="color:#e6db74">&#34;patch fail, please check reason&#34;</span><span style="color:#f92672">,</span> Toast<span style="color:#f92672">.</span><span style="color:#a6e22e">LENGTH_LONG</span><span style="color:#f92672">).</span><span style="color:#a6e22e">show</span><span style="color:#f92672">();</span>
     <span style="color:#f92672">}</span>
   <span style="color:#f92672">}</span>
 <span style="color:#f92672">});</span>

<span style="color:#75715e">// is success and newPatch, it is nice to delete the raw file, and restart at once
</span><span style="color:#75715e"></span> <span style="color:#75715e">// for old patch, you can&#39;t delete the patch file
</span><span style="color:#75715e"></span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>result<span style="color:#f92672">.</span><span style="color:#a6e22e">isSuccess</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
   deleteRawPatchFile<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span>result<span style="color:#f92672">.</span><span style="color:#a6e22e">rawPatchFilePath</span><span style="color:#f92672">));</span>

   <span style="color:#75715e">//not like TinkerResultService, I want to restart just when I am at background!
</span><span style="color:#75715e"></span>   <span style="color:#75715e">//if you have not install tinker this moment, you can use TinkerApplicationHelper api
</span><span style="color:#75715e"></span>   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>checkIfNeedKill<span style="color:#f92672">(</span>result<span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
     <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>Utils<span style="color:#f92672">.</span><span style="color:#a6e22e">isBackground</span><span style="color:#f92672">())</span> <span style="color:#f92672">{</span>
       TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">i</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;it is in background, just restart process&#34;</span><span style="color:#f92672">);</span>
       restartProcess<span style="color:#f92672">();</span>
     <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
       <span style="color:#75715e">//we can wait process at background, such as onAppBackground
</span><span style="color:#75715e"></span>       <span style="color:#75715e">//or we can restart when the screen off
</span><span style="color:#75715e"></span>       TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">i</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;tinker wait screen to restart process&#34;</span><span style="color:#f92672">);</span>
       <span style="color:#66d9ef">new</span> Utils<span style="color:#f92672">.</span><span style="color:#a6e22e">ScreenState</span><span style="color:#f92672">(</span>getApplicationContext<span style="color:#f92672">(),</span> <span style="color:#66d9ef">new</span> Utils<span style="color:#f92672">.</span><span style="color:#a6e22e">ScreenState</span><span style="color:#f92672">.</span><span style="color:#a6e22e">IOnScreenOff</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
         <span style="color:#a6e22e">@Override</span>
         <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onScreenOff</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
           restartProcess<span style="color:#f92672">();</span>
         <span style="color:#f92672">}</span>
       <span style="color:#f92672">});</span>
     <span style="color:#f92672">}</span>
   <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
     TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">i</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;I have already install the newly patch version!&#34;</span><span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span>
 <span style="color:#f92672">}</span>
 
 <span style="color:#75715e">/**
</span><span style="color:#75715e"> \* you can restart your process through service or broadcast
</span><span style="color:#75715e"> */</span>
 <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">restartProcess</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
   TinkerLog<span style="color:#f92672">.</span><span style="color:#a6e22e">i</span><span style="color:#f92672">(</span>TAG<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;app is background now, i can kill quietly&#34;</span><span style="color:#f92672">);</span>
   <span style="color:#75715e">//you can send service or broadcast intent to restart your process
</span><span style="color:#75715e"></span>   android<span style="color:#f92672">.</span><span style="color:#a6e22e">os</span><span style="color:#f92672">.</span><span style="color:#a6e22e">Process</span><span style="color:#f92672">.</span><span style="color:#a6e22e">killProcess</span><span style="color:#f92672">(</span>android<span style="color:#f92672">.</span><span style="color:#a6e22e">os</span><span style="color:#f92672">.</span><span style="color:#a6e22e">Process</span><span style="color:#f92672">.</span><span style="color:#a6e22e">myPid</span><span style="color:#f92672">());</span>
 <span style="color:#f92672">}</span>
</code></pre></div><h2 id="其他">其他</h2>
<h2 id="tinker">Tinker</h2>
<h3 id="cleanpatch">cleanPatch</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**clean all patch files */</span>
 <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">cleanPatch</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
   <span style="color:#66d9ef">final</span> File patchInfoFile <span style="color:#f92672">=</span> SharePatchFileUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getPatchInfoFile</span><span style="color:#f92672">(</span>patchDirectory<span style="color:#f92672">.</span><span style="color:#a6e22e">getAbsolutePath</span><span style="color:#f92672">());</span>
   <span style="color:#66d9ef">final</span> File patchInfoLockFile <span style="color:#f92672">=</span> SharePatchFileUtil<span style="color:#f92672">.</span><span style="color:#a6e22e">getPatchInfoLockFile</span><span style="color:#f92672">(</span>patchDirectory<span style="color:#f92672">.</span><span style="color:#a6e22e">getAbsolutePath</span><span style="color:#f92672">());</span>
   <span style="color:#66d9ef">final</span> SharePatchInfo patchInfo <span style="color:#f92672">=</span> SharePatchInfo<span style="color:#f92672">.</span><span style="color:#a6e22e">readAndCheckPropertyWithLock</span><span style="color:#f92672">(</span>patchInfoFile<span style="color:#f92672">,</span> patchInfoLockFile<span style="color:#f92672">);</span>
   <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>patchInfo <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
     patchInfo<span style="color:#f92672">.</span><span style="color:#a6e22e">isRemoveNewVersion</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span><span style="color:#f92672">;</span><span style="color:#75715e">//标记目录：/data/data/${packageName}/tinker/patch.info中的标记信息，下次loadTinker时会根据这个标记清除对应patch目录信息
</span><span style="color:#75715e"></span><span style="color:#75715e">/*patchinfo.oldVersion表示当前正在使用的已经apply/load完成之后的patch
</span><span style="color:#75715e">patchinfo.newVersion表示当前已经成功patch，但还没有apply完成的patch*/</span>
    SharePatchInfo<span style="color:#f92672">.</span><span style="color:#a6e22e">rewritePatchInfoFileWithLock</span><span style="color:#f92672">(</span>patchInfoFile<span style="color:#f92672">,</span> patchInfo<span style="color:#f92672">,</span> patchInfoLockFile<span style="color:#f92672">);</span>
   <span style="color:#f92672">}</span>
 <span style="color:#f92672">}</span>
</code></pre></div><h2 id="重试patch">重试patch</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@Override</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">onLoadResult</span><span style="color:#f92672">(</span>File patchDirectory<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> loadCode<span style="color:#f92672">,</span> <span style="color:#66d9ef">long</span> cost<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">super</span><span style="color:#f92672">.</span><span style="color:#a6e22e">onLoadResult</span><span style="color:#f92672">(</span>patchDirectory<span style="color:#f92672">,</span> loadCode<span style="color:#f92672">,</span> cost<span style="color:#f92672">);</span>
    <span style="color:#66d9ef">switch</span> <span style="color:#f92672">(</span>loadCode<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">case</span> ShareConstants<span style="color:#f92672">.</span><span style="color:#a6e22e">ERROR_LOAD_OK</span><span style="color:#f92672">:</span>
            SampleTinkerReport<span style="color:#f92672">.</span><span style="color:#a6e22e">onLoaded</span><span style="color:#f92672">(</span>cost<span style="color:#f92672">);</span>
            <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    Looper<span style="color:#f92672">.</span><span style="color:#a6e22e">myQueue</span><span style="color:#f92672">().</span><span style="color:#a6e22e">addIdleHandler</span><span style="color:#f92672">(()</span> <span style="color:#f92672">-&gt;</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>UpgradePatchRetry<span style="color:#f92672">.</span><span style="color:#a6e22e">getInstance</span><span style="color:#f92672">(</span>context<span style="color:#f92672">).</span><span style="color:#a6e22e">onPatchRetryLoad</span><span style="color:#f92672">())</span> <span style="color:#f92672">{</span>
            SampleTinkerReport<span style="color:#f92672">.</span><span style="color:#a6e22e">onReportRetryPatch</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">});</span>
<span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">UpgradePatchRetry:<span style="color:#f92672">:</span>onPatchRetryLoad
</code></pre></div><h2 id="testdex检测流程">test.dex检测流程</h2>
<p>构建出的patch会包含test.dex文件，内部符合dex文件结构，仅仅包含一个class“com.tencent.tinker.loader.TinkerTestDexLoad”，其静态检测方法返回true，用于在install之后进行SystemClassLoaderAdder.checkDexInstall校验，以判别是否成功插入修复的dex文件</p>
<h2 id="tinker_data">tinker_data</h2>
<p>位置:（work/Desktop20200621/）</p>
<p>patch过程会将patch文件放入/data/data/${applicationId}/tinker/，目录结构为</p>
<p>tinker&ndash;patch.info</p>
<p>​          &ndash;info.lock</p>
<p>​          &ndash;patch332ed5cc&ndash;res&ndash;</p>
<p>​                                        &ndash;dex&ndash;tinker_classN.apk(内含多个dex，其中既有test.dex重命名之后的dex)</p>
<p>​                                        &ndash;odex&ndash;tinker_classN.dex</p>
<p>​                                       patch-332ed5cc.apk</p>
<p>​</p>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/en/android/%E7%83%AD%E4%BF%AE%E5%A4%8D%E5%AD%97%E8%8A%82%E7%A0%81/tinker/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/tinkergradlepluginsource/" title="TinkerGradlePluginSource"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/en/android/%E7%A8%B3%E5%AE%9A%E6%80%A7/" title="稳定性" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1622447484"></script>
    <script src="/js/perfect-scrollbar.min.js?1622447484"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1622447484"></script>
    <script src="/js/jquery.sticky.js?1622447484"></script>
    <script src="/js/featherlight.min.js?1622447484"></script>
    <script src="/js/highlight.pack.js?1622447484"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1622447484"></script>
    <script src="/js/learn.js?1622447484"></script>
    <script src="/js/hugo-learn.js?1622447484"></script>
    
        
            <script src="/mermaid/mermaid.js?1622447484"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

